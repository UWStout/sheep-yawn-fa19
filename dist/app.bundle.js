!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.app=e():t.app=e()}(window,(function(){return function(t){function e(e){for(var n,s,a=e[0],h=e[1],l=e[2],c=0,f=[];c<a.length;c++)s=a[c],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&f.push(o[s][0]),o[s]=0;for(n in h)Object.prototype.hasOwnProperty.call(h,n)&&(t[n]=h[n]);for(u&&u(e);f.length;)f.shift()();return r.push.apply(r,l||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],n=!0,a=1;a<i.length;a++){var h=i[a];0!==o[h]&&(n=!1)}n&&(r.splice(e--,1),t=s(s.s=i[0]))}return t}var n={},o={0:0},r=[];function s(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=n,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="./dist/";var a=window.webpackJsonp_name_=window.webpackJsonp_name_||[],h=a.push.bind(a);a.push=e,a=a.slice();for(var l=0;l<a.length;l++)e(a[l]);var u=h;return r.push([1737,1]),i()}({1737:function(t,e,i){"use strict";i.r(e);var n=i(4),o=i.n(n),r=i(342);const s=[],a=[],h={Circle:new o.a.Geom.Circle,Ellipse:new o.a.Geom.Ellipse,Rectangle:new o.a.Geom.Rectangle,Triangle:new o.a.Geom.Triangle};function l(t){return t.originX?t.x-t.originX*t.displayWidth:t.x}function u(t){return t.originY?t.y-t.originY*t.displayHeight:t.y}class c extends o.a.Plugins.ScenePlugin{boot(){this.systems.events.on("start",this.sceneStart,this).on("render",this.sceneRender,this).on("shutdown",this.sceneShutdown,this).once("destroy",this.sceneDestroy,this)}sceneStart(){this.graphic=this.scene.add.graphics()}sceneShutdown(){this.graphic.destroy(),this.graphic=null}sceneRender(){this.drawAll()}drawAll(){const t=s,e=a,{displayList:i}=this.systems;i.length&&(t.length=0,e.length=0,this.graphic.clear().lineStyle(this.lineWidth,this.color,this.alpha),i.each(this.processObj,this,t,e),t.length&&this.drawObjsInputs(t),e.length&&this.drawObjsMasks(e))}processObj(t,e,i){this.drawObj(t),t.input&&(e[e.length]=t),t.mask&&-1===i.indexOf(t)&&(i[i.length]=t)}sceneDestroy(){this.systems.events.off("start",this.sceneStart,this).off("render",this.sceneRender,this).off("shutdown",this.sceneShutdown,this).off("destroy",this.sceneDestroy,this),this.scene=null,this.systems=null}drawObjsInputs(t){this.graphic.lineStyle(this.lineWidth,this.inputColor,this.alpha),t.forEach(this.drawObjInput,this)}drawObjsMasks(t){this.graphic.fillStyle(this.maskColor,this.alpha).lineStyle(this.lineWidth,this.maskColor,this.alpha),t.forEach(this.drawObjMask,this)}drawObj(t){this.graphic.strokeRect(l(t),u(t),t.displayWidth,t.displayHeight)}drawObjInput(t){const{hitArea:e}=t.input,i=e.constructor,n=h[i.name]||h.Rectangle;i.CopyFrom(e,n),i.Offset(n,l(t),u(t)),this.graphic["stroke"+function(t){switch(t.constructor.name){default:case"Rectangle":return"Rect";case"Circle":case"Ellipse":case"Triangle":return t.constructor.name}}(n)+"Shape"](n)}drawObjMask(t){t.mask.bitmapMask&&this.drawObjBitmapMask(t)}drawObjBitmapMask(t){this.drawObj(t.mask.bitmapMask)}bringToTop(){this.systems.displayList.bringToTop(this.graphic)}}Object.assign(c.prototype,{alpha:.5,color:56831,inputColor:16763904,lineWidth:2,maskColor:16711714}),"undefined"!=typeof window&&(window.PhaserDebugDrawPlugin=c);var f=i(652),p=i.n(f),d=function(t){t.forEach((function(t){t.setOrigin(.5,.5)}))},y=function(t){return t.cameras.main.useBounds?t.cameras.main._bounds.width/2:function(t){return t.sys.game.config.width}(t)/2},g=function(t){return t.cameras.main.useBounds?t.cameras.main._bounds.height/2:function(t){return t.sys.game.config.height}(t)/2};function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function w(t,e){return!e||"object"!==v(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function k(t){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function x(t,e){return(x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var O=function(t){function e(){return m(this,e),w(this,k(e).apply(this,arguments))}var i,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}(e,t),i=e,(n=[{key:"init",value:function(){this.cameras.main.setBackgroundColor("#000000")}},{key:"preload",value:function(){this.add.text(y(this),g(this),"loading",{font:"16px Arial",fill:"#dddddd",align:"center"}).setOrigin(.5,.5),this.load.image("SpoonImage","assets/images/SpeakingSpoonStudioCenter.png"),this.load.image("logo","./assets/images/icon.png"),this.load.image("safariCar","assets/images/safariCar-reduced.png"),this.load.image("safariLogo","assets/images/safariLogo.png"),this.load.audioSprite("sounds","assets/audio/sounds.json",["assets/audio/sounds.ogg","assets/audio/sounds.mp3","assets/audio/sounds.m4a","assets/audio/sounds.ac3"])}},{key:"update",value:function(){this.scene.start("StudioSplash")}}])&&b(i.prototype,n),o&&b(i,o),e}(o.a.Scene);function S(t){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function T(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function C(t,e){return!e||"object"!==S(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function j(t,e){return(j=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var M=function(t){function e(){return T(this,e),C(this,_(e).apply(this,arguments))}var i,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&j(t,e)}(e,t),i=e,(n=[{key:"init",value:function(t){this.cameras.main.setBackgroundColor("#000000"),this.allowNextScene=!1,this.nextScene="MainMenuScene"}},{key:"preload",value:function(){this.showLogo(),this.load.image("logoPic","assets/images/LoadingPinkWoolhemina.png"),this.load.image("mainMenuTitle","assets/images/MainMenu_SplashScreen.png"),this.load.image("playPressed","assets/images/PlayPressedButton.png"),this.load.image("playUnpressed","assets/images/PlayButton.png"),this.load.image("creditsPressed","assets/images/CreditsPressedButton.png"),this.load.image("creditsUnpressed","assets/images/CreditsButton.png"),this.load.image("creditsPanel","assets/images/specialthanksCredits.png"),this.load.image("backPressed","assets/images/BackPressedButton.png"),this.load.image("backUnpressed","assets/images/BackButton.png"),this.load.image("tutorial1","assets/images/tutorialCard_1.png"),this.load.image("tutorial2","assets/images/tutorialCard_2.png"),this.load.image("tutorial3","assets/images/tutorialCard_3.png"),this.load.image("tutorial4","assets/images/tutorialCard_4.png"),this.load.image("tutorial5","assets/images/tutorialCard_5.png"),this.load.image("tutorial6","assets/images/tutorialCard_6.png"),this.load.image("timerImage","assets/images/UntilDawnLabel.png"),this.load.image("CursorImage","assets/images/MouseCursor.png"),this.load.image("MenuButton","assets/images/MenuButton.png"),this.load.image("MenuPressedButton","assets/images/MenuPressed.png"),this.load.image("BackButton","assets/images/BackButton.png"),this.load.image("BackPressedButton","assets/images/BackPressedButton.png"),this.load.image("SkipButton","assets/images/Skip.png"),this.load.image("SkipPressedButton","assets/images/SkipPressed.png"),this.load.image("NextButton","assets/images/Next.png"),this.load.image("NextPressedButton","assets/images/NextPressed.png"),this.load.image("ContinueButton","assets/images/Continue.png"),this.load.image("ContinuePressedButton","assets/images/ContinuePressed.png"),this.load.image("ExitButton","assets/images/ExitButton.png"),this.load.image("ExitPressedButton","assets/images/ExitPressedButton.png"),this.load.image("darkBackground","assets/images/DarkBackground.png"),this.load.image("win","assets/images/WinScreen.png"),this.load.image("lose","assets/images/LoseScreen.png"),this.load.image("SmallWoolfHUD","assets/images/WoolfPupCounter.png"),this.load.image("MedWoolfHUD","assets/images/WoolfCounter.png"),this.load.image("BigWoolfHUD","assets/images/AlphaCounter.png"),this.load.image("HouseClosedOnImage","assets/images/HouseClosedOn.png"),this.load.image("HouseClosedOffImage","assets/images/HouseClosedOff.png"),this.load.image("sheepImage","assets/images/woolhemina_testSprite_128.png"),this.load.image("treeImage","assets/images/asset_oakTree.png"),this.load.image("FirePitImage","assets/images/asset_firePit.png"),this.load.image("pineImage","assets/images/asset_pineTree.png"),this.load.image("woolfImageBig","assets/images/Big.png"),this.load.image("woolfImageSmall","assets/images/Small.png"),this.load.image("woolfImageMed","assets/images/Med.png"),this.load.image("tile1","assets/images/Tile_01.png"),this.load.image("zzzImage","assets/Test Art/dummyAsset_Z.png"),this.load.image("mapTile","assets/images/DummyBoundary.png"),this.load.image("grass1Tile","assets/images/Tile_01.png"),this.load.image("grass2Tile","assets/images/Tile_02.png"),this.load.image("grass3Tile","assets/images/Tile_03.png"),this.load.image("waterTile","assets/images/WaterTile.png"),this.load.image("topWaterTile","assets/images/WaterTile2.png"),this.load.image("sideFenceTile","assets/images/FenceTile_02.png"),this.load.image("bottomFenceTile","assets/images/FenceTile_01.png"),this.load.image("TopMountainMapTile","assets/images/MountainTile_03.png"),this.load.image("CornerMountainMapTile","assets/images/MountainTile_02.png"),this.load.image("BelowCornerMountainMapTile","assets/images/MountainTile_01.png"),this.load.image("yawnBlastCircleImage","assets/images/yawnBlast_hemisphereShape.png"),this.load.spritesheet("runleftFront","assets/images/painted_woolhemina_runCycle_leftFront.png",{frameWidth:128,frameHeight:128,endFrame:13}),this.load.spritesheet("runUp","assets/images/painted_woolhemina_runCycle_rightBack.png",{frameWidth:128,frameHeight:128,endFrame:13}),this.load.spritesheet("idleFront","assets/images/painted_resized_woolhemina_idle_leftFront.png",{frameWidth:128,frameHeight:128,endFrame:10}),this.load.spritesheet("idleBack","assets/images/painted_resized_woolhemina_idle_rightBack.png",{frameWidth:128,frameHeight:128,endFrame:6}),this.load.spritesheet("initalYawnFront","assets/images/painted_woolhemina_yawnBlast_initial_leftFront.png",{frameWidth:128,frameHeight:128,endFrame:6}),this.load.spritesheet("initalYawnBack","assets/images/painted_woolhemina_yawnBlast_initial_rightBack.png",{frameWidth:128,frameHeight:128,endFrame:6}),this.load.spritesheet("YawnLoopFront","assets/images/painted_woolhemina_yawnBlast_loop_leftFront.png",{frameWidth:128,frameHeight:128,endFrame:5}),this.load.spritesheet("YawnLoopBack","assets/images/painted_woolhemina_yawnBlast_loop_rightBack.png",{frameWidth:128,frameHeight:128,endFrame:5}),this.load.spritesheet("YawnReleaseFront","assets/images/painted_woolhemina_yawnBlast_release_leftFront.png",{frameWidth:128,frameHeight:128,endFrame:14}),this.load.spritesheet("YawnReleaseBack","assets/images/painted_woolhemina_yawnBlast_release_rightBack.png",{frameWidth:128,frameHeight:128,endFrame:14}),this.load.spritesheet("KnockbackLeftFront","assets/images/painted_woolhemina_surprised_leftFront.png",{frameWidth:128,frameHeight:128,endFrame:24}),this.load.spritesheet("KnockbackRightBack","assets/images/painted_woolhemina_surprised_rightBack.png",{frameWidth:128,frameHeight:128,endFrame:24}),this.load.spritesheet("breakGlass","assets/images/yawnBlast_shatter_spritesheet.png",{frameWidth:256,frameHeight:256,endFrame:3}),this.load.spritesheet("babyWoolfLeftRun","assets/images/painted_babyWoolf_runCycle_leftFront.png",{frameWidth:128,frameHeight:128,endFrame:11}),this.load.spritesheet("babyWoolfRightRun","assets/images/painted_babyWoolf_runCycle_rightBack.png",{frameWidth:128,frameHeight:128,endFrame:11}),this.load.spritesheet("babyWoolfLeftIdle","assets/images/painted_babyWoolf_idle_leftFront.png",{frameWidth:128,frameHeight:128,endFrame:7}),this.load.spritesheet("babyWoolfRightIdle","assets/images/painted_babyWoolf_idle_rightBack.png",{frameWidth:128,frameHeight:128,endFrame:7}),this.load.spritesheet("babyWoolfAsleepFront","assets/images/painted_babyWoolf_fallAsleep_leftFront.png",{frameWidth:128,frameHeight:128,endFrame:14}),this.load.spritesheet("babyWoolfAsleepBack","assets/images/painted_babyWoolf_fallAsleep_rightBack.png",{frameWidth:128,frameHeight:128,endFrame:14}),this.load.spritesheet("babyWoolfSleepLoopFront","assets/images/painted_babyWoolf_fallAsleep_loop_leftFront.png",{frameWidth:128,frameHeight:128,endFrame:8}),this.load.spritesheet("babyWoolfSleepLoopBack","assets/images/painted_babyWoolf_fallAsleep_loop_rightBack.png",{frameWidth:128,frameHeight:128,endFrame:8}),this.load.spritesheet("woolfLeftRun","assets/images/painted_woolf_runCycle_leftFront.png",{frameWidth:256,frameHeight:256,endFrame:11}),this.load.spritesheet("woolfRightRun","assets/images/painted_woolf_runCycle_rightBack.png",{frameWidth:256,frameHeight:256,endFrame:11}),this.load.spritesheet("woolfLeftIdle","assets/images/painted_woolf_idle_leftFront.png",{frameWidth:256,frameHeight:256,endFrame:7}),this.load.spritesheet("woolfRightIdle","assets/images/painted_woolf_idle_rightBack.png",{frameWidth:256,frameHeight:256,endFrame:7}),this.load.spritesheet("woolfAsleepFront","assets/images/painted_woolf_fallAsleep_leftFront.png",{frameWidth:256,frameHeight:256,endFrame:14}),this.load.spritesheet("woolfAsleepBack","assets/images/painted_woolf_fallAsleep_rightBack.png",{frameWidth:256,frameHeight:256,endFrame:14}),this.load.spritesheet("woolfSleepLoopFront","assets/images/painted_woolf_fallAsleep_loop_leftFront.png",{frameWidth:256,frameHeight:256,endFrame:8}),this.load.spritesheet("woolfSleepLoopBack","assets/images/painted_woolf_fallAsleep_loop_rightBack.png",{frameWidth:256,frameHeight:256,endFrame:8}),this.load.spritesheet("woolfAttackFront","assets/images/painted_woolf_armSlam_leftFront.png",{frameWidth:256,frameHeight:256,endFrame:15}),this.load.spritesheet("woolfAttackBack","assets/images/painted_woolf_armSlam_rightBack.png",{frameWidth:256,frameHeight:256,endFrame:15}),this.load.spritesheet("alphaWoolfLeftRun","assets/images/painted_altWoolf_runCycle_leftFront.png",{frameWidth:256,frameHeight:256,endFrame:11}),this.load.spritesheet("alphaWoolfRightRun","assets/images/painted_altWoolf_runCycle_rightBack.png",{frameWidth:256,frameHeight:256,endFrame:11}),this.load.spritesheet("alphaWoolfLeftIdle","assets/images/painted_altWoolf_idle_leftFront.png",{frameWidth:256,frameHeight:256,endFrame:7}),this.load.spritesheet("alphaWoolfRightIdle","assets/images/painted_altWoolf_idle_rightBack.png",{frameWidth:256,frameHeight:256,endFrame:7}),this.load.spritesheet("alphaWoolfAsleepFront","assets/images/painted_altWoolf_fallAsleep_leftFront.png",{frameWidth:256,frameHeight:256,endFrame:14}),this.load.spritesheet("alphaWoolfAsleepBack","assets/images/painted_altWoolf_fallAsleep_rightBack.png",{frameWidth:256,frameHeight:256,endFrame:14}),this.load.spritesheet("alphaWoolfSleepLoopFront","assets/images/painted_altWoolf_fallAsleep_loop_leftFront.png",{frameWidth:256,frameHeight:256,endFrame:8}),this.load.spritesheet("alphaWoolfSleepLoopBack","assets/images/painted_altWoolf_fallAsleep_loop_rightBack.png",{frameWidth:256,frameHeight:256,endFrame:8}),this.load.spritesheet("alphaWoolfAttackFront","assets/images/painted_altWoolf_partyHowl_leftFront.png",{frameWidth:256,frameHeight:256,endFrame:15}),this.load.spritesheet("alphaWoolfAttackBack","assets/images/painted_altWoolf_partyHowl_rightBack.png",{frameWidth:256,frameHeight:256,endFrame:15}),this.load.spritesheet("flames","assets/images/firePit_flames_spritesheet.png",{frameWidth:512,frameHeight:512,endFrame:3})}},{key:"showLogo",value:function(){var t=this;this.bkgSfx=this.sound.addAudioSprite("sounds"),this.bkgSfx.play("EngineStartAndRev");var e=this.add.image(y(this),g(this),"safariCar");e.setScale(.55),e.setAlpha(0);var i=this.add.image(y(this),g(this),"safariLogo");i.setScale(.6),i.setAlpha(0);var n=this.add.image(y(this),g(this),"SpoonImage");n.setScale(.8),n.setAlpha(0);var o=this.add.tween({targets:e,alpha:1,duration:1e3,paused:!0}),r=this.add.tween({targets:i,alpha:1,duration:1e3,paused:!0}),s=this.add.tween({targets:n,alpha:1,duration:1e3,paused:!0});setTimeout((function(){o.play()}),1e3),setTimeout((function(){r.play()}),6e3);var a=this.cameras.main;setTimeout((function(){e.visible=!1,i.visible=!1,s.play()}),12e3),setTimeout((function(){a.fadeOut(2e3)}),17e3);var h=this;setTimeout((function(){h.add.text(y(h),g(h),"",{font:"16px Arial",fill:"#FFFFFF",align:"center"}).setOrigin(.5,.5),t.bkgSfx.destroy(),h.allowNextScene=!0}),15e3)}},{key:"update",value:function(){this.allowNextScene&&this.scene.start(this.nextScene)}}])&&P(i.prototype,n),o&&P(i,o),e}(o.a.Scene),B=1800,A=900,E=.5;function W(t){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function R(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function F(t,e){return!e||"object"!==W(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function I(t){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function D(t,e){return(D=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var L=function(t){function e(t){var i,n=t.scene,o=t.x,r=t.y;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=F(this,I(e).call(this,n,o,r,"sheepImage"))).key="Woolhemina-main",i.name="Woolhemina-main",i.setupAnimations(),i}var i,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&D(t,e)}(e,t),i=e,(n=[{key:"setupAnimations",value:function(){var t=this;this.scene.anims.create({key:"runLeft",frames:this.scene.anims.generateFrameNumbers("runleftFront",{start:0,end:13}),frameRate:16,repeat:-1}),this.scene.anims.create({key:"runUpAnim",frames:this.scene.anims.generateFrameNumbers("runUp",{start:0,end:13}),frameRate:16,repeat:-1}),this.scene.anims.create({key:"idleFrontAnim",frames:this.scene.anims.generateFrameNumbers("idleFront",{start:0,end:10}),frameRate:12,repeat:-1}),this.scene.anims.create({key:"idleBackAnim",frames:this.scene.anims.generateFrameNumbers("idleBack",{start:0,end:10}),frameRate:12,repeat:-1}),this.scene.anims.create({key:"initalYawnFrontAnim",frames:this.scene.anims.generateFrameNumbers("initalYawnFront",{start:0,end:6}),frameRate:12,repeat:0}),this.on("animationcomplete-initalYawnFrontAnim",(function(){t.anims.play("YawnLoopFrontAnim")}),this),this.scene.anims.create({key:"initalYawnBackAnim",frames:this.scene.anims.generateFrameNumbers("initalYawnBack",{start:0,end:6}),frameRate:12,repeat:0}),this.on("animationcomplete-initalYawnBackAnim",(function(){t.anims.play("YawnLoopBackAnim")}),this),this.scene.anims.create({key:"YawnLoopFrontAnim",frames:this.scene.anims.generateFrameNumbers("YawnLoopFront",{start:0,end:5}),frameRate:12,repeat:-1}),this.scene.anims.create({key:"YawnLoopBackAnim",frames:this.scene.anims.generateFrameNumbers("YawnLoopBack",{start:0,end:5}),frameRate:12,repeat:-1}),this.scene.anims.create({key:"YawnReleaseFrontAnim",frames:this.scene.anims.generateFrameNumbers("YawnReleaseFront",{start:0,end:14}),frameRate:12,repeat:0}),this.on("animationcomplete-YawnReleaseFrontAnim",(function(){t.anims.play("idleFrontAnim")}),this),this.scene.anims.create({key:"YawnReleaseBackAnim",frames:this.scene.anims.generateFrameNumbers("YawnReleaseBack",{start:0,end:15}),frameRate:12,repeat:0}),this.on("animationcomplete-YawnReleaseBackAnim",(function(){t.anims.play("idleBackAnim")}),this),this.scene.anims.create({key:"KnockbackLeftFrontAnim",frames:this.scene.anims.generateFrameNumbers("KnockbackLeftFront",{start:0,end:24}),frameRate:12,repeat:0}),this.scene.anims.create({key:"KnockbackRightBackAnim",frames:this.scene.anims.generateFrameNumbers("KnockbackRightBack",{start:0,end:24}),frameRate:12,repeat:0})}}])&&R(i.prototype,n),o&&R(i,o),e}(o.a.GameObjects.Sprite);function z(t){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Y(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function H(t){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function N(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X(t,e){return(X=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var G=function(t){function e(t){var i,n=t.scene,o=t.x,r=t.y,s=t.imageKey,a=t.health,h=t.zzzAmount;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=function(t,e){return!e||"object"!==z(e)&&"function"!=typeof e?N(t):e}(this,H(e).call(this,n,o,r,s))).genHealth=a,i.zzzCount=h,i.isAwake=!0,i.hasMoved=!1,i.prevX=1.24,i.on("die",i.die,N(i)),i}var i,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&X(t,e)}(e,t),i=e,(n=[{key:"takeDamage",value:function(t){this.genHealth-=t,this.genHealth<=0?(this.emit("die"),this.isAwake=!1):this.isAwake=!0}},{key:"getHealth",value:function(){return this.genHealth}},{key:"getEnemyName",value:function(){return this.name}},{key:"die",value:function(){this.scene.zzzDrop&&this.scene.zzzDrop(this.x,this.y,this.zzzCount)}}])&&Y(i.prototype,n),o&&Y(i,o),e}(o.a.GameObjects.Sprite);function U(t){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function V(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function K(t,e){return!e||"object"!==U(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function J(t){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Z(t,e){return(Z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Q=function(t){function e(t){var i,n=t.scene,o=t.x,r=t.y;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=K(this,J(e).call(this,{scene:n,x:o,y:r,imageKey:"woolfImageMed",health:3,zzzAmount:10}))).key="woolf",i.name="woolfMedium",i.setupAnimations(),i}var i,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Z(t,e)}(e,t),i=e,(n=[{key:"setupAnimations",value:function(){var t=this;this.scene.anims.create({key:"woolfLeftRunAnim",frames:this.scene.anims.generateFrameNumbers("woolfLeftRun",{start:0,end:11}),frameRate:14,repeat:-1}),this.scene.anims.create({key:"woolfRightRunAnim",frames:this.scene.anims.generateFrameNumbers("woolfRightRun",{start:0,end:11}),frameRate:14,repeat:-1}),this.scene.anims.create({key:"woolfLeftIdleAnim",frames:this.scene.anims.generateFrameNumbers("woolfLeftIdle",{start:0,end:7}),frameRate:14,repeat:-1}),this.scene.anims.create({key:"woolfRightIdleAnim",frames:this.scene.anims.generateFrameNumbers("woolfRightIdle",{start:0,end:7}),frameRate:14,repeat:-1}),this.scene.anims.create({key:"woolfAsleepFrontAnim",frames:this.scene.anims.generateFrameNumbers("woolfAsleepFront",{start:0,end:14}),frameRate:14,repeat:0}),this.on("animationcomplete-woolfAsleepFrontAnim",(function(){t.anims.play("woolfSleepLoopFrontAnim")}),this),this.scene.anims.create({key:"woolfAsleepBackAnim",frames:this.scene.anims.generateFrameNumbers("woolfAsleepBack",{start:0,end:14}),frameRate:14,repeat:0}),this.on("animationcomplete-woolfAsleepBackAnim",(function(){t.anims.play("woolfSleepLoopBackAnim")}),this),this.scene.anims.create({key:"woolfSleepLoopFrontAnim",frames:this.scene.anims.generateFrameNumbers("woolfSleepLoopFront",{start:0,end:8}),frameRate:14,repeat:-1}),this.scene.anims.create({key:"woolfSleepLoopBackAnim",frames:this.scene.anims.generateFrameNumbers("woolfSleepLoopBack",{start:0,end:8}),frameRate:14,repeat:-1}),this.scene.anims.create({key:"woolfAttackFrontAnim",frames:this.scene.anims.generateFrameNumbers("woolfAttackFront",{start:0,end:15}),frameRate:14,repeat:-1}),this.scene.anims.create({key:"woolfAttackBackAnim",frames:this.scene.anims.generateFrameNumbers("woolfAttackBack",{start:0,end:15}),frameRate:14,repeat:-1})}}])&&V(i.prototype,n),o&&V(i,o),e}(G);function q(t){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function tt(t,e){return!e||"object"!==q(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function et(t){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function it(t,e){return(it=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var nt=function(t){function e(t){var i,n=t.scene,o=t.x,r=t.y;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=tt(this,et(e).call(this,{scene:n,x:o,y:r,imageKey:"woolfImageBig",health:5,zzzAmount:15}))).key="woolf",i.name="woolfBig",i.setupAnimations(),i}var i,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&it(t,e)}(e,t),i=e,(n=[{key:"setupAnimations",value:function(){var t=this;this.scene.anims.create({key:"alphaWoolfLeftRunAnim",frames:this.scene.anims.generateFrameNumbers("alphaWoolfLeftRun",{start:0,end:11}),frameRate:14,repeat:-1}),this.scene.anims.create({key:"alphaWoolfRightRunAnim",frames:this.scene.anims.generateFrameNumbers("alphaWoolfRightRun",{start:0,end:11}),frameRate:14,repeat:-1}),this.scene.anims.create({key:"alphaWoolfLeftIdleAnim",frames:this.scene.anims.generateFrameNumbers("alphaWoolfLeftIdle",{start:0,end:7}),frameRate:14,repeat:-1}),this.scene.anims.create({key:"alphaWoolfRightIdleAnim",frames:this.scene.anims.generateFrameNumbers("alphaWoolfRightIdle",{start:0,end:7}),frameRate:14,repeat:-1}),this.scene.anims.create({key:"alphaWoolfAsleepFrontAnim",frames:this.scene.anims.generateFrameNumbers("alphaWoolfAsleepFront",{start:0,end:14}),frameRate:14,repeat:0}),this.on("animationcomplete-alphaWoolfAsleepFrontAnim",(function(){t.anims.play("alphaWoolfSleepLoopFrontAnim")}),this),this.scene.anims.create({key:"alphaWoolfAsleepBackAnim",frames:this.scene.anims.generateFrameNumbers("alphaWoolfAsleepBack",{start:0,end:14}),frameRate:14,repeat:0}),this.on("animationcomplete-alphaWoolfAsleepBackAnim",(function(){t.anims.play("alphaWoolfSleepLoopBackAnim")}),this),this.scene.anims.create({key:"alphaWoolfSleepLoopFrontAnim",frames:this.scene.anims.generateFrameNumbers("alphaWoolfSleepLoopFront",{start:0,end:8}),frameRate:14,repeat:-1}),this.scene.anims.create({key:"alphaWoolfSleepLoopBackAnim",frames:this.scene.anims.generateFrameNumbers("alphaWoolfSleepLoopBack",{start:0,end:8}),frameRate:14,repeat:-1}),this.scene.anims.create({key:"alphaWoolfAttackFrontAnim",frames:this.scene.anims.generateFrameNumbers("alphaWoolfAttackFront",{start:0,end:15}),frameRate:14,repeat:0}),this.scene.anims.create({key:"alphaWoolfAttackBackAnim",frames:this.scene.anims.generateFrameNumbers("alphaWoolfAttackBack",{start:0,end:15}),frameRate:14,repeat:0})}}])&&$(i.prototype,n),o&&$(i,o),e}(G);function ot(t){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function st(t,e){return!e||"object"!==ot(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function at(t){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ht(t,e){return(ht=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var lt=function(t){function e(t){var i,n=t.scene,o=t.x,r=t.y;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=st(this,at(e).call(this,{scene:n,x:o,y:r,imageKey:"woolfImageSmall",health:1,zzzAmount:5}))).key="woolf",i.name="woolfBaby",i.setupAnimations(),i}var i,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ht(t,e)}(e,t),i=e,(n=[{key:"setupAnimations",value:function(){var t=this;this.scene.anims.create({key:"babyWoolfLeftRunAnim",frames:this.scene.anims.generateFrameNumbers("babyWoolfLeftRun",{start:0,end:11}),frameRate:14,repeat:-1}),this.scene.anims.create({key:"babyWoolfRightRunAnim",frames:this.scene.anims.generateFrameNumbers("babyWoolfRightRun",{start:0,end:11}),frameRate:14,repeat:-1}),this.scene.anims.create({key:"babyWoolfLeftIdleAnim",frames:this.scene.anims.generateFrameNumbers("babyWoolfLeftIdle",{start:0,end:7}),frameRate:14,repeat:-1}),this.scene.anims.create({key:"babyWoolfRightIdleAnim",frames:this.scene.anims.generateFrameNumbers("babyWoolfRightIdle",{start:0,end:7}),frameRate:14,repeat:-1}),this.scene.anims.create({key:"babyWoolfAsleepFrontAnim",frames:this.scene.anims.generateFrameNumbers("babyWoolfAsleepFront",{start:0,end:14}),frameRate:10,repeat:0}),this.on("animationcomplete-babyWoolfAsleepFrontAnim",(function(){t.anims.play("babyWoolfSleepLoopFrontAnim")}),this),this.scene.anims.create({key:"babyWoolfAsleepBackAnim",frames:this.scene.anims.generateFrameNumbers("babyWoolfAsleepBack",{start:0,end:14}),frameRate:10,repeat:0}),this.on("animationcomplete-babyWoolfAsleepBackAnim",(function(){t.anims.play("babyWoolfSleepLoopBackAnim")}),this),this.scene.anims.create({key:"babyWoolfSleepLoopFrontAnim",frames:this.scene.anims.generateFrameNumbers("babyWoolfSleepLoopFront",{start:0,end:8}),frameRate:10,repeat:-1}),this.scene.anims.create({key:"babyWoolfSleepLoopBackAnim",frames:this.scene.anims.generateFrameNumbers("babyWoolfSleepLoopBack",{start:0,end:8}),frameRate:10,repeat:-1})}}])&&rt(i.prototype,n),o&&rt(i,o),e}(G);function ut(t){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ct(t,e){return!e||"object"!==ut(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ft(t){return(ft=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function pt(t,e){return(pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var dt=function(t){function e(t,i,n,o){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=ct(this,ft(e).call(this,t,i,n,o))).key="tree",r.name="tree",r.treeHeight=0,r.treeWidth=0,r.offsetX=0,r.offsetY=0,r.offsetChange=0,r.inFrontValue=0,r.enemyBehindTree=!1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pt(t,e)}(e,t),e}(o.a.GameObjects.Sprite);function yt(t){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gt(t,e){return!e||"object"!==yt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function vt(t){return(vt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mt(t,e){return(mt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var bt=function(t){function e(t){var i,n=t.scene,o=t.x,r=t.y;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=gt(this,vt(e).call(this,n,o,r,"treeImage"))).setTexture("treeImage"),i.treeHeight=20,i.treeWidth=85,i.offsetX=120,i.offsetY=300,i.offsetChange=215,i.inFrontValue=50,i.name="oak",i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mt(t,e)}(e,t),e}(dt);function wt(t){return(wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kt(t,e){return!e||"object"!==wt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function xt(t){return(xt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ot(t,e){return(Ot=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var St=function(t){function e(t){var i,n=t.scene,o=t.x,r=t.y;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=kt(this,xt(e).call(this,n,o,r,"pineImage"))).setTexture("pineImage"),i.treeHeight=30,i.treeWidth=105,i.offsetX=110,i.offsetY=300,i.offsetChange=215,i.inFrontValue=60,i.name="pine",i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ot(t,e)}(e,t),e}(dt);function Tt(t){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ct(t,e){return!e||"object"!==Tt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _t(t){return(_t=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function jt(t,e){return(jt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Mt=function(t){function e(t){var i,n=t.scene,o=t.x,r=t.y;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=Ct(this,_t(e).call(this,n,o,r,"firePitImage"))).key="firePit",i.name="firePit",i.objectHeight=0,i.objectWidth=0,i.offsetX=0,i.offsetY=0,i.offsetChange=0,i.setupAnimations(),i}var i,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jt(t,e)}(e,t),i=e,(n=[{key:"setupAnimations",value:function(){this.scene.anims.create({key:"flames",frames:this.scene.anims.generateFrameNumbers("flames",{start:0,end:3}),frameRate:5,repeat:-1})}}])&&Pt(i.prototype,n),o&&Pt(i,o),e}(o.a.GameObjects.Sprite);function Bt(t){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function At(t,e){return!e||"object"!==Bt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Et(t){return(Et=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Wt(t,e){return(Wt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Rt=function(t){function e(t){var i,n=t.scene,o=t.x,r=t.y;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=At(this,Et(e).call(this,n,o,r,"HouseClosedOff"))).key="house",i.name="house",i.objectHeight=0,i.objectWidth=0,i.offsetX=0,i.offsetY=0,i.offsetChange=0,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wt(t,e)}(e,t),e}(o.a.GameObjects.Sprite);function Ft(t){return(Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function It(t,e){return!e||"object"!==Ft(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Dt(t){return(Dt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Lt(t,e){return(Lt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var zt=function(t){function e(t){var i,n=t.scene,o=t.x,r=t.y;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=It(this,Dt(e).call(this,n,o,r,"mapTileImage"))).key="mapTile",i.name="mapTile",i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lt(t,e)}(e,t),e}(o.a.GameObjects.Sprite);function Yt(t){return(Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ht(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Nt(t,e){return!e||"object"!==Yt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Xt(t){return(Xt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Gt(t,e){return(Gt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ut=function(t){function e(t){var i,n=t.scene,o=t.x,r=t.y;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=Nt(this,Xt(e).call(this,n,o,r,"yawnBlastCircleImage"))).key="yCircle",i.name="yCircle",i.setupAnimations(),i}var i,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gt(t,e)}(e,t),i=e,(n=[{key:"setupAnimations",value:function(){this.scene.anims.create({key:"shatteringAnim",frames:this.scene.anims.generateFrameNumbers("breakGlass",{start:0,end:3}),frameRate:6,repeat:0})}}])&&Ht(i.prototype,n),o&&Ht(i,o),e}(o.a.GameObjects.Sprite);function Vt(t){return(Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Zt(t,e){return!e||"object"!==Vt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Qt(t){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function qt(t,e){return(qt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var $t=function(t){function e(){return Kt(this,e),Zt(this,Qt(e).apply(this,arguments))}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qt(t,e)}(e,t),i=e,(n=[{key:"init",value:function(t){}},{key:"preload",value:function(){this.RightLeftArray=[],this.UpDownArray=[],this._woolf_Velocity=30,this._sheep_Velocity=300,this.AllZArray=[],this.sfxOn=!0,this.levelNumber=1,this._yawn_scale=1,this._yawn_size_check=1.5,this._invert=!1,this.enemyBehindTree=!1,this.BabyWolfAsleepTotalAmount=0,this.MediumWolfAsleepTotalAmount=0,this.BigWolfAsleepTotalAmount=0,this.BigWolfsAwakeCurrentAmount=0,this.BabyWolfsAwakeCurrentAmount=0,this.MediumWolfAwakeCurrentAmount=0}},{key:"create",value:function(){var t=this;this.music=this.sound.addAudioSprite("sounds"),this.footstepsSFX=this.sound.addAudioSprite("sounds"),this.yawnSFX=this.sound.addAudioSprite("sounds"),this.snoreSFX=this.sound.addAudioSprite("sounds"),this.player=new L({scene:this,x:1441,y:1300}),this.AllBorderTilesArray=[];for(var e=0;e<11;e++)this["Tile"+e]=new zt({scene:this,x:145+256*e,y:140}),this.add.existing(this["Tile"+e]),0===e?(this["Tile"+e].setTexture("CornerMountainMapTile"),this.AllBorderTilesArray.push(this["Tile"+e]),this.UpDownArray.push(this["Tile"+e])):(this["Tile"+e].setTexture("TopMountainMapTile"),this.AllBorderTilesArray.push(this["Tile"+e]),this.UpDownArray.push(this["Tile"+e]));for(var i=0;i<11;i++)this["Tile"+i]=new zt({scene:this,x:145+256*i,y:396}),this.add.existing(this["Tile"+i]),0===i?(this["Tile"+i].setTexture("BelowCornerMountainMapTile"),this.AllBorderTilesArray.push(this["Tile"+i]),this.RightLeftArray.push(this["Tile"+i])):10===i?(this["Tile"+i].setTexture("topWaterTile"),this.AllBorderTilesArray.push(this["Tile"+i]),this.RightLeftArray.push(this["Tile"+i])):(this.GrassNumber=Math.floor(3*Math.random())+0,0===this.GrassNumber?this["Tile"+i].setTexture("grass1Tile"):1===this.GrassNumber?this["Tile"+i].setTexture("grass2Tile"):2===this.GrassNumber&&this["Tile"+i].setTexture("grass3Tile"));for(var n=0;n<11;n++)this["Tile"+n]=new zt({scene:this,x:145+256*n,y:652}),this.add.existing(this["Tile"+n]),0===n?(this["Tile"+n].setTexture("sideFenceTile"),this.AllBorderTilesArray.push(this["Tile"+n]),this.RightLeftArray.push(this["Tile"+n])):10===n?(this["Tile"+n].setTexture("waterTile"),this.AllBorderTilesArray.push(this["Tile"+n]),this.RightLeftArray.push(this["Tile"+n])):(this.GrassNumber=Math.floor(3*Math.random())+0,0===this.GrassNumber?this["Tile"+n].setTexture("grass1Tile"):1===this.GrassNumber?this["Tile"+n].setTexture("grass2Tile"):2===this.GrassNumber&&this["Tile"+n].setTexture("grass3Tile"));for(var r=0;r<11;r++)this["Tile"+r]=new zt({scene:this,x:145+256*r,y:908}),this.add.existing(this["Tile"+r]),0===r?(this["Tile"+r].setTexture("sideFenceTile"),this.AllBorderTilesArray.push(this["Tile"+r]),this.RightLeftArray.push(this["Tile"+r])):10===r?(this["Tile"+r].setTexture("waterTile"),this.AllBorderTilesArray.push(this["Tile"+r]),this.RightLeftArray.push(this["Tile"+r])):(this.GrassNumber=Math.floor(3*Math.random())+0,0===this.GrassNumber?this["Tile"+r].setTexture("grass1Tile"):1===this.GrassNumber?this["Tile"+r].setTexture("grass2Tile"):2===this.GrassNumber&&this["Tile"+r].setTexture("grass3Tile"));for(var s=0;s<11;s++)this["Tile"+s]=new zt({scene:this,x:145+256*s,y:1164}),this.add.existing(this["Tile"+s]),0===s?(this["Tile"+s].setTexture("sideFenceTile"),this.AllBorderTilesArray.push(this["Tile"+s]),this.RightLeftArray.push(this["Tile"+s])):10===s?(this["Tile"+s].setTexture("waterTile"),this.AllBorderTilesArray.push(this["Tile"+s]),this.RightLeftArray.push(this["Tile"+s])):(this.GrassNumber=Math.floor(3*Math.random())+0,0===this.GrassNumber?this["Tile"+s].setTexture("grass1Tile"):1===this.GrassNumber?this["Tile"+s].setTexture("grass2Tile"):2===this.GrassNumber&&this["Tile"+s].setTexture("grass3Tile"));for(var a=0;a<11;a++)this["Tile"+a]=new zt({scene:this,x:145+256*a,y:1420}),this.add.existing(this["Tile"+a]),0===a?(this["Tile"+a].setTexture("sideFenceTile"),this.AllBorderTilesArray.push(this["Tile"+a]),this.RightLeftArray.push(this["Tile"+a])):10===a?(this["Tile"+a].setTexture("waterTile"),this.AllBorderTilesArray.push(this["Tile"+a]),this.RightLeftArray.push(this["Tile"+a])):(this.GrassNumber=Math.floor(3*Math.random())+0,0===this.GrassNumber?this["Tile"+a].setTexture("grass1Tile"):1===this.GrassNumber?this["Tile"+a].setTexture("grass2Tile"):2===this.GrassNumber&&this["Tile"+a].setTexture("grass3Tile"));for(var h=0;h<11;h++)this["Tile"+h]=new zt({scene:this,x:145+256*h,y:1676}),this.add.existing(this["Tile"+h]),0===h?(this["Tile"+h].setTexture("sideFenceTile"),this.AllBorderTilesArray.push(this["Tile"+h]),this.RightLeftArray.push(this["Tile"+h])):10===h?(this["Tile"+h].setTexture("waterTile"),this.AllBorderTilesArray.push(this["Tile"+h]),this.RightLeftArray.push(this["Tile"+h])):(this.GrassNumber=Math.floor(3*Math.random())+0,0===this.GrassNumber?this["Tile"+h].setTexture("grass1Tile"):1===this.GrassNumber?this["Tile"+h].setTexture("grass2Tile"):2===this.GrassNumber&&this["Tile"+h].setTexture("grass3Tile"));for(var l=0;l<11;l++)this["Tile"+l]=new zt({scene:this,x:145+256*l,y:1932}),this.add.existing(this["Tile"+l]),0===l?(this["Tile"+l].setTexture("sideFenceTile"),this.AllBorderTilesArray.push(this["Tile"+l]),this.RightLeftArray.push(this["Tile"+l])):10===l?(this["Tile"+l].setTexture("waterTile"),this.AllBorderTilesArray.push(this["Tile"+l]),this.RightLeftArray.push(this["Tile"+l])):(this.GrassNumber=Math.floor(3*Math.random())+0,0===this.GrassNumber?this["Tile"+l].setTexture("grass1Tile"):1===this.GrassNumber?this["Tile"+l].setTexture("grass2Tile"):2===this.GrassNumber&&this["Tile"+l].setTexture("grass3Tile"));for(var u=0;u<11;u++)this["Tile"+u]=new zt({scene:this,x:145+256*u,y:2188}),this.add.existing(this["Tile"+u]),0===u?(this["Tile"+u].setTexture("sideFenceTile"),this.AllBorderTilesArray.push(this["Tile"+u]),this.RightLeftArray.push(this["Tile"+u])):10===u?(this["Tile"+u].setTexture("waterTile"),this.AllBorderTilesArray.push(this["Tile"+u]),this.RightLeftArray.push(this["Tile"+u])):(this.GrassNumber=Math.floor(3*Math.random())+0,0===this.GrassNumber?this["Tile"+u].setTexture("grass1Tile"):1===this.GrassNumber?this["Tile"+u].setTexture("grass2Tile"):2===this.GrassNumber&&this["Tile"+u].setTexture("grass3Tile"));for(var c=0;c<11;c++)this["Tile"+c]=new zt({scene:this,x:145+256*c,y:2444}),this.add.existing(this["Tile"+c]),0===c?(this["Tile"+c].setTexture("sideFenceTile"),this.AllBorderTilesArray.push(this["Tile"+c]),this.RightLeftArray.push(this["Tile"+c])):10===c?(this["Tile"+c].setTexture("waterTile"),this.AllBorderTilesArray.push(this["Tile"+c]),this.RightLeftArray.push(this["Tile"+c])):(this.GrassNumber=Math.floor(3*Math.random())+0,0===this.GrassNumber?this["Tile"+c].setTexture("grass1Tile"):1===this.GrassNumber?this["Tile"+c].setTexture("grass2Tile"):2===this.GrassNumber&&this["Tile"+c].setTexture("grass3Tile"));for(var f=0;f<11;f++)this["Tile"+f]=new zt({scene:this,x:145+256*f,y:2700}),this.add.existing(this["Tile"+f]),10===f?(this["Tile"+f].setTexture("waterTile"),this.AllBorderTilesArray.push(this["Tile"+f]),this.UpDownArray.push(this["Tile"+f])):(this["Tile"+f].setTexture("bottomFenceTile"),this.AllBorderTilesArray.push(this["Tile"+f]),this.UpDownArray.push(this["Tile"+f]));this.OakArray=[];for(var p=0;p<Math.floor(5*Math.random())+10;p++)this.xpos=Math.floor(1951*Math.random())+450,this.ypos=Math.floor(1951*Math.random())+450,this["OakTree"+p]=new bt({scene:this,x:this.xpos,y:this.ypos}),this.xpos>1024&&this.xpos<1792&&this.ypos>256&&this.ypos<1536||this.xpos>256&&this.xpos<1280&&this.ypos>1792&&this.ypos<2560||this.OakArray.push(this["OakTree"+p]);this.OakArrayLength=this.OakArray.length,this.PineArray=[];for(var d=0;d<Math.floor(5*Math.random())+10;d++)this.xpos=Math.floor(1951*Math.random())+450,this.ypos=Math.floor(1951*Math.random())+450,this["PineTree"+d]=new St({scene:this,x:this.xpos,y:this.ypos}),this.xpos>1024&&this.xpos<1792&&this.ypos>256&&this.ypos<1536||this.xpos>256&&this.xpos<1280&&this.ypos>1792&&this.ypos<2560||this.PineArray.push(this["PineTree"+d]);if(this.PineArrayLength=this.PineArray.length,this.firePit=new Mt({scene:this,x:768,y:2175}),this.house=new Rt({scene:this,x:1408,y:1024}),this.house2=new Rt({scene:this,x:1408,y:1024}),this.BabyWoolfArray=[],this.WoolfArray=[],this.BabyWolfAmount=0,this.MediumWolfAmount=0,this.BigWolfAmount=0,1===this.levelNumber){this.music.stop(),this.music.play("backgroundMusic",{volume:E}),this.tweens.add({targets:this.house2,alpha:{value:0,duration:15e4,ease:"Power1"},yoyo:!0,loop:-1}),this.BabyWolfAmount=3,this.MediumWolfAmount=1,this.BigWolfAmount=0;for(var y=0;y<this.BabyWolfAmount;y++){for(this.xpos=Math.floor(1951*Math.random())+450,this.ypos=Math.floor(1951*Math.random())+450;this.xpos>1024&&this.xpos<1792&&this.ypos>256&&this.ypos<1536||this.xpos>256&&this.xpos<1280&&this.ypos>1792&&this.ypos<2560;)this.xpos=Math.floor(1951*Math.random())+450,this.ypos=Math.floor(1951*Math.random())+450;this["WoolfBaby"+y]=new lt({scene:this,x:this.xpos,y:this.ypos,health:1,zzzAmount:5}),this.WoolfArray.push(this["WoolfBaby"+y]),this.BabyWoolfArray.push(this["WoolfBaby"+y])}for(var g=0;g<this.MediumWolfAmount;g++){for(this.xpos=Math.floor(1951*Math.random())+450,this.ypos=Math.floor(1951*Math.random())+450;this.xpos>1024&&this.xpos<1792&&this.ypos>256&&this.ypos<1536||this.xpos>256&&this.xpos<1280&&this.ypos>1792&&this.ypos<2560;)this.xpos=Math.floor(1951*Math.random())+450,this.ypos=Math.floor(1951*Math.random())+450;this["WoolfMedium"+g]=new Q({scene:this,x:this.xpos,y:this.ypos,health:3,zzzAmount:10}),this.WoolfArray.push(this["WoolfMedium"+g])}for(var v=0;v<this.BigWolfAmount;v++){for(this.xpos=Math.floor(1951*Math.random())+450,this.ypos=Math.floor(1951*Math.random())+450;this.xpos>1024&&this.xpos<1792&&this.ypos>256&&this.ypos<1536||this.xpos>256&&this.xpos<1280&&this.ypos>1792&&this.ypos<2560;)this.xpos=Math.floor(1951*Math.random())+450,this.ypos=Math.floor(1951*Math.random())+450;this["WoolfBig"+v]=new nt({scene:this,x:this.xpos,y:this.ypos,health:5,zzzAmount:15}),this.WoolfArray.push(this["WoolfBig"+v])}this.WoolfArrayLength=this.WoolfArray.length,this.BabyWoolfArrayLength=this.BabyWoolfArray.length}this.add.existing(this.player),this.physics.add.existing(this.player),this.player.body.collideWorldBounds=!0,this.PlayerHeight=105,this.player.body.setSize(50,this.PlayerHeight,20,20),this.halfPlayerHeight=this.PlayerHeight/2,this.player.depth=this.player.y,this.cameras.main.setBounds(0,0,2840,2840),this.physics.world.setBounds(0,0,5600,5600),this.cameras.main.startFollow(this.player,!0,.05,.05);for(var m=0;m<this.AllBorderTilesArray.length;m++)this.physics.add.existing(this.AllBorderTilesArray[m]),this.AllBorderTilesArray[m].body.setImmovable(!0),this.AllBorderTilesArray[m].body.allowGravity=!1,this.AllBorderTilesArray[m].body.setSize(256,256,0,0),this.physics.add.collider(this.player,this.AllBorderTilesArray[m]);for(var b=0;b<this.OakArrayLength;b++)this.add.existing(this.OakArray[b]),this.physics.add.existing(this.OakArray[b]),this.OakArray[b].body.setSize(this.OakArray[b].treeWidth,this.OakArray[b].treeHeight,0),this.OakArray[b].body.setOffset(this.OakArray[b].offsetX,this.OakArray[b].offsetY),this.OakArray[b].body.setImmovable(!0),this.OakArray[b].body.allowGravity=!1,this.OakArray[b].body.enable=!0,this.OakArray[b].depth=this.OakArray[b].y+this.OakArray[b].height/2,this.physics.add.collider(this.player,this.OakArray[b]);for(var w=0;w<this.PineArrayLength;w++)this.add.existing(this.PineArray[w]),this.physics.add.existing(this.PineArray[w]),this.PineArray[w].body.setSize(this.PineArray[w].treeWidth,this.PineArray[w].treeHeight,0),this.PineArray[w].body.setOffset(this.PineArray[w].offsetX,this.PineArray[w].offsetY),this.PineArray[w].body.setImmovable(!0),this.PineArray[w].body.allowGravity=!1,this.PineArray[w].body.enable=!0,this.PineArray[w].depth=this.PineArray[w].y+this.PineArray[w].height/2,this.physics.add.collider(this.player,this.PineArray[w]);this.add.existing(this.house),this.physics.add.existing(this.house),this.house.setTexture("HouseClosedOffImage"),this.house.body.setSize(370,100,0),this.house.body.setOffset(140,300),this.house.body.setImmovable(!0),this.house.body.allowGravity=!1,this.house.body.enable=!0,this.house.depth=this.house.y+this.house.height/2,this.physics.add.collider(this.player,this.house),this.add.existing(this.house2),this.physics.add.existing(this.house2),this.house2.setTexture("HouseClosedOnImage"),this.house2.setAlpha(1),this.house2.body.setOffset(140,300),this.house2.body.setImmovable(!0),this.house2.body.allowGravity=!1,this.house2.body.enable=!0,this.house2.depth=this.house.depth-1,this.physics.add.collider(this.player,this.house),this.house2.setAlpha(.7),this.add.existing(this.firePit),this.physics.add.existing(this.firePit),this.firePit.setTexture("FirePitImage"),this.firePit.objectHeight=20,this.firePit.objectWidth=85,this.firePit.offsetX=180,this.firePit.offsetY=70,this.firePit.offsetChange=215,this.firePit.body.setSize(1,1,1),this.firePit.body.setOffset(0,0),this.firePitTop=this.physics.add.image(),this.firePitTop.body.setSize(230,100,0),this.firePitTop2=this.physics.add.image(),this.firePitTop2.body.setSize(335,100,0),this.firePit.body.setImmovable(!0),this.firePit.body.allowGravity=!1,this.firePit.body.enable=!1,this.firePitTop.body.setImmovable(!0),this.firePitTop.body.allowGravity=!1,this.firePitTop.body.enable=!0,this.firePitTop.body.setOffset(this.firePit.x-100,this.firePit.y-110),this.firePitTop2.body.setImmovable(!0),this.firePitTop2.body.allowGravity=!1,this.firePitTop2.body.enable=!0,this.firePitTop2.body.setOffset(this.firePit.x-145,this.firePit.y-50),this.firePit.depth=this.player.depth-1,this.firePit.anims.play("flames"),this.physics.add.collider(this.player,this.firePit),this.physics.add.collider(this.player,this.firePitTop),this.physics.add.collider(this.player,this.firePitTop2);for(var k=0;k<this.WoolfArrayLength;k++){this.add.existing(this.WoolfArray[k]),this.physics.add.existing(this.WoolfArray[k]),"woolfBaby"===this.WoolfArray[k].getEnemyName()?(this.WoolfArray[k].body.setSize(128,128,!0),this.WoolfArray[k].body.setOffset(0,0)):("woolfMedium"===this.WoolfArray[k].getEnemyName()||"woolfBig"===this.WoolfArray[k].getEnemyName())&&this.WoolfArray[k].body.setSize(250,180,!0);for(var x=0;x<this.AllBorderTilesArray.length;x++)this.physics.add.collider(this.WoolfArray[k],this.AllBorderTilesArray[x]);this.WoolfArray[k].body.setImmovable(!0),this.WoolfArray[k].body.allowGravity=!1,this.WoolfArray[k].body.velocity.set(o.a.Math.Between(-60,60),o.a.Math.Between(-60,60)),this.physics.add.collider(this.player,this.WoolfArray[k])}this.player.anims.play("idleFrontAnim");for(var O=function(e){t.timedEvent=t.time.addEvent({delay:500,callback:function(){t.moveEnemyAnim(t.WoolfArray[e])},callbackScope:t,loop:!0})},S=0;S<this.WoolfArrayLength;S++)O(S);this.setupKeyboard(),this.scene.run("HUDScene")}},{key:"setupKeyboard",value:function(){var t=this;this.cursors=this.input.keyboard.createCursorKeys(),this.upKey=this.input.keyboard.addKey(o.a.Input.Keyboard.KeyCodes.W),this.upKey.oldDown=!1,this.leftKey=this.input.keyboard.addKey(o.a.Input.Keyboard.KeyCodes.A),this.leftKey.oldDown=!1,this.downKey=this.input.keyboard.addKey(o.a.Input.Keyboard.KeyCodes.S),this.downKey.oldDown=!1,this.rightKey=this.input.keyboard.addKey(o.a.Input.Keyboard.KeyCodes.D),this.rightKey.oldDown=!1,this.yawnKey=this.input.keyboard.addKey(o.a.Input.Keyboard.KeyCodes.SPACE),this.yawnKey.on("down",this.createYawnBlast,this),this.yawnKey.on("up",this.destroyYawnBlast,this),this.yawnKey.oldDown=!1,this.yawnKey.on("down",(function(){t.yawnSFX.isPlaying||t.yawnSFX.play("YawnBlast")}),this)}},{key:"update",value:function(t,e){for(var i=this,n={x:0,y:0},r=function(t){!0===i.WoolfArray[t].isAwake&&(i.WoolfArray[t].x<250&&(i.WoolfArray[t].x+=10,i.WoolfArray[t].body.velocity.set(o.a.Math.Between(-60,60),o.a.Math.Between(-60,60))),i.WoolfArray[t].x>2500&&(i.WoolfArray[t].x-=10,i.WoolfArray[t].body.velocity.set(o.a.Math.Between(-60,60),o.a.Math.Between(-60,60))),i.WoolfArray[t].y<250&&(i.WoolfArray[t].y+=10,i.WoolfArray[t].body.velocity.set(o.a.Math.Between(-60,60),o.a.Math.Between(-60,60))),i.WoolfArray[t].y>2500&&(i.WoolfArray[t].y-=10,i.WoolfArray[t].body.velocity.set(o.a.Math.Between(-60,60),o.a.Math.Between(-60,60))),!1===i.WoolfArray[t].hasMoved&&(i.myDelay=Math.floor(15001*Math.random())+5e3,i.timedEvent=i.time.addEvent({delay:i.myDelay,callback:function(){i.moveEnemy(i.WoolfArray[t])},callbackScope:i,loop:!1}),i.WoolfArray[t].hasMoved=!0))},s=0;s<this.WoolfArrayLength;s++)r(s);for(this.cursors.up.isDown||this.upKey.isDown?(n.y-=this._sheep_Velocity,n.x=0,this.footstepsSFX.isPlaying||!0===this.sfxOn&&this.footstepsSFX.play("running",{volume:this.footstepsSFX.volume}),!1!==this._invert?this.player.flipX=!1:this.player.flipX=!0,"runUpAnim"!==this.player.anims.getCurrentKey()&&this.player.anims.play("runUpAnim")):this.cursors.down.isDown||this.downKey.isDown?(n.y+=this._sheep_Velocity,n.x=0,this.footstepsSFX.isPlaying||!0===this.sfxOn&&this.footstepsSFX.play("running",{volume:this.footstepsSFX.volume}),!1!==this._invert?this.player.flipX=!0:this.player.flipX=!1,"runLeft"!==this.player.anims.getCurrentKey()&&this.player.anims.play("runLeft")):this.cursors.right.isDown||this.rightKey.isDown?(n.x+=this._sheep_Velocity,n.y=0,this.footstepsSFX.isPlaying||!0===this.sfxOn&&this.footstepsSFX.play("running",{volume:this.footstepsSFX.volume}),this.player.flipX=!0,this._invert=!0,"runLeft"!==this.player.anims.getCurrentKey()&&this.player.anims.play("runLeft")):this.cursors.left.isDown||this.leftKey.isDown?(n.x-=this._sheep_Velocity,n.y=0,this.footstepsSFX.isPlaying||!0===this.sfxOn&&this.footstepsSFX.play("running",{volume:this.footstepsSFX.volume}),this.player.flipX=!1,this._invert=!1,"runLeft"!==this.player.anims.getCurrentKey()&&this.player.anims.play("runLeft")):(this.footstepsSFX.stop(),"runLeft"===this.player.anims.getCurrentKey()&&this.player.anims.play("idleFrontAnim"),"runUpAnim"===this.player.anims.getCurrentKey()&&this.player.anims.play("idleBackAnim")),this.player.body.velocity.set(n.x,n.y),this.player.depth=this.player.y+this.player.height/2,s=0;s<this.OakArrayLength;s++)this.depthCheck(this.OakArray[s]);for(var a=0;a<this.PineArrayLength;a++)this.depthCheck(this.PineArray[a]);this.depthCheckHouse(this.house),this.yawnBlastCircle&&this.yawnBlastCircle.setPosition(this.player.x,this.player.y),this.yawnBlastCircle&&this.yawnBlastCircle.scale<this._yawn_size_check&&(this.yawnBlastCircle.setScale(this._yawn_scale),this._yawn_scale+=.01)}},{key:"createYawnBlast",value:function(){this.yawnBlastCircle&&this.yawnBlastCircle.destroy(),this._yawn_scale=1,this.yawnBlastCircle=new Ut({scene:this,x:this.player.x,y:this.player.y}),"idleFrontAnim"===this.player.anims.getCurrentKey()&&this.player.anims.play("initalYawnFrontAnim"),"idleBackAnim"===this.player.anims.getCurrentKey()&&this.player.anims.play("initalYawnBackAnim"),this.yawnSFX.stop(),!0===this.sfxOn&&this.yawnSFX.play("YawnBlast",{volume:.2}),this.add.existing(this.yawnBlastCircle),this.yawnBlastCircle.depth=this.yawnBlastCircle.y+this.yawnBlastCircle.height/2,this.physics.add.existing(this.yawnBlastCircle),this.yawnBlastCircle.body.setCircle(75,54,48.5),this.physics.add.collider(this.yawnBlastCircle)}},{key:"destroyYawnBlast",value:function(){var t=this;if(this.yawnBlastCircle){"YawnLoopFrontAnim"===this.player.anims.getCurrentKey()&&this.player.anims.play("YawnReleaseFrontAnim"),"YawnLoopBackAnim"===this.player.anims.getCurrentKey()&&this.player.anims.play("YawnReleaseBackAnim"),this.yawnBlastCircle.anims.play("shatteringAnim"),this.yawnBlastCircle.on("animationcomplete-shatteringAnim",(function(){t.yawnBlastCircle.destroy(),t.yawnBlastCircle=null}),this);for(var e=0;e<this.WoolfArrayLength;e++)this.WoolfArray[e]&&(!0===this.WoolfArray[e].isAwake||this.WoolfArray[e].isAwake,this.physics.world.overlap(this.yawnBlastCircle,this.WoolfArray[e],this.loseHealth,null,this))}}},{key:"loseHealth",value:function(t,e){this.yawnBlastCircle&&(this.yawnBlastCircle.scale,this._yawn_size_check),e.takeDamage(1),0===e.getHealth()&&(this.updateScore(e),e.body.enable=!1,!0===this._invert&&("woolfBaby"===e.getEnemyName()?e.anims.play("babyWoolfAsleepFrontAnim"):"woolfMedium"===e.getEnemyName()?e.anims.play("woolfAsleepFrontAnim"):"woolfBig"===e.getEnemyName()&&e.anims.play("alphaWoolfAsleepFrontAnim")),!1===this._invert&&("woolfBaby"===e.getEnemyName()?e.anims.play("babyWoolfAsleepBackAnim"):"woolfMedium"===e.getEnemyName()?e.anims.play("woolfAsleepBackAnim"):"woolfBig"===e.getEnemyName()&&e.anims.play("alphaWoolfAsleepBackAnim")))}},{key:"zzzDrop",value:function(t,e,i){this.enemyEllipse=this.add.ellipse(t,e+15,260,150),this.zzzGroup=this.physics.add.group({key:"zzzImage",frameQuantity:i}),this.AllZArray.push(this.zzzGroup),o.a.Actions.PlaceOnEllipse(this.zzzGroup.getChildren(),this.enemyEllipse),this.physics.add.overlap(this.player,this.zzzGroup,this.increaseYawnRadiusByZzz,null,this)}},{key:"zzzClear",value:function(t){t.clear(!0,!0)}},{key:"increaseYawnRadiusByZzz",value:function(t,e){this.zzzGroup&&(t===this.player?(e.destroy(),this._yawn_size_check+=.03):t.destroy())}},{key:"moveEnemy",value:function(t){!0===t.isAwake?(t.body.velocity.set(o.a.Math.Between(-60,60),o.a.Math.Between(-60,60)),t.hasMoved=!1):(t.body.velocity.x=0,t.body.velocity.y=0)}},{key:"moveEnemyAnim",value:function(t){!0===t.isAwake&&(this.LeftTrue=!0,this.DownTrue=!0,this.enemyName=t.getEnemyName(),t.prevX=t.body.x,t.body.velocity.y<0?this.DownTrue=!1:t.body.velocity.y<0&&(this.DownTrue=!0),!1===this.DownTrue&&t.body.velocity.x<0&&(this.LeftTrue=!0,t.flipX=!0),!1===this.DownTrue&&t.body.velocity.x>=0&&(this.LeftTrue=!1,t.flipX=!1),!0===this.DownTrue&&t.body.velocity.x<0&&(this.LeftTrue=!0,t.flipX=!0),!0===this.DownTrue&&t.body.velocity.x>=0&&(this.LeftTrue=!1,t.flipX=!0),"woolfBaby"===this.enemyName&&!0!==this.DownTrue&&!0===this.LeftTrue||"woolfBaby"===this.enemyName&&!0!==this.DownTrue&&!1===this.LeftTrue?"babyWoolfRightRunAnim"!==t.anims.getCurrentKey()&&t.anims.play("babyWoolfRightRunAnim"):"woolfBaby"===this.enemyName&&!0===this.DownTrue&&!1===this.LeftTrue?"babyWoolfLeftRunAnim"!==t.anims.getCurrentKey()&&t.anims.play("babyWoolfLeftRunAnim"):"woolfBaby"===this.enemyName&&!0===this.DownTrue&&!0===this.LeftTrue&&(t.flipX=!1,"babyWoolfLeftRunAnim"!==t.anims.getCurrentKey()&&t.anims.play("babyWoolfLeftRunAnim")),"woolfMedium"===this.enemyName&&!0!==this.DownTrue&&!0===this.LeftTrue||"woolfMedium"===this.enemyName&&!0!==this.DownTrue&&!1===this.LeftTrue?"woolfRightRunAnim"!==t.anims.getCurrentKey()&&t.anims.play("woolfRightRunAnim"):"woolfMedium"===this.enemyName&&!0===this.DownTrue&&!1===this.LeftTrue?"woolfLeftRunAnim"!==t.anims.getCurrentKey()&&t.anims.play("woolfLeftRunAnim"):"woolfMedium"===this.enemyName&&!0===this.DownTrue&&!0===this.LeftTrue&&(t.flipX=!1,"woolfLeftRunAnim"!==t.anims.getCurrentKey()&&t.anims.play("woolfLeftRunAnim")),"woolfBig"===this.enemyName&&!0!==this.DownTrue&&!0===this.LeftTrue||"woolfBig"===this.enemyName&&!0!==this.DownTrue&&!1===this.LeftTrue?"alphaWoolfRightRunAnim"!==t.anims.getCurrentKey()&&t.anims.play("alphaWoolfRightRunAnim"):"woolfBig"===this.enemyName&&!0===this.DownTrue&&!1===this.LeftTrue?"alphaWoolfLeftRunAnim"!==t.anims.getCurrentKey()&&t.anims.play("alphaWoolfLeftRunAnim"):"woolfBig"===this.enemyName&&(t.flipX=!1,"alphaWoolfLeftRunAnim"!==t.anims.getCurrentKey()&&!0===this.DownTrue&&!0===this.LeftTrue&&t.anims.play("alphaWoolfLeftRunAnim")))}},{key:"newLevel",value:function(){for(var t=this,e=0;e<this.AllZArray.length;e++)this.zzzClear(this.AllZArray[e]);this.BigWolfsAwakeCurrentAmount=0,this.BabyWolfsAwakeCurrentAmount=0,this.MediumWolfAwakeCurrentAmount=0;for(var i=0;i<this.WoolfArray.length;i++)this.WoolfArray[i].destroy();this.WoolfArray=[],this.BabyWoolfArray=[],this.house2.setAlpha(1),this.tweens.add({targets:this.house2,alpha:{value:0,duration:15e4,ease:"Power1"},yoyo:!0,loop:-1}),this._sheep_Velocity=300,this.player.x=1441,this.player.y=1300,this.levelNumber+=1,this.sfxOn=!0,this.music.stop(),this.music.play("backgroundMusic",{volume:E}),this.RandomWolfChoice=Math.floor(3*Math.random())+0,0===this.RandomWolfChoice?this.BabyWolfAmount+=3:1===this.RandomWolfChoice?this.MediumWolfAmount+=2:2===this.RandomWolfChoice&&(this.BigWolfAmount+=1);for(var n=0;n<this.BabyWolfAmount;n++){for(this.xpos=Math.floor(1951*Math.random())+450,this.ypos=Math.floor(1951*Math.random())+450;this.xpos>1024&&this.xpos<1792&&this.ypos>256&&this.ypos<1536||this.xpos>256&&this.xpos<1280&&this.ypos>1792&&this.ypos<2560;)this.xpos=Math.floor(1951*Math.random())+450,this.ypos=Math.floor(1951*Math.random())+450;this["WoolfBaby"+n]=new lt({scene:this,x:this.xpos,y:this.ypos,health:1,zzzAmount:5}),this.WoolfArray.push(this["WoolfBaby"+n]),this.BabyWoolfArray.push(this["WoolfBaby"+n])}for(var r=0;r<this.MediumWolfAmount;r++){for(this.xpos=Math.floor(1951*Math.random())+450,this.ypos=Math.floor(1951*Math.random())+450;this.xpos>1024&&this.xpos<1792&&this.ypos>256&&this.ypos<1536||this.xpos>256&&this.xpos<1280&&this.ypos>1792&&this.ypos<2560;)this.xpos=Math.floor(1951*Math.random())+450,this.ypos=Math.floor(1951*Math.random())+450;this["WoolfMedium"+r]=new Q({scene:this,x:this.xpos,y:this.ypos,health:3,zzzAmount:10}),this.WoolfArray.push(this["WoolfMedium"+r])}for(var s=0;s<this.BigWolfAmount;s++){for(this.xpos=Math.floor(1951*Math.random())+450,this.ypos=Math.floor(1951*Math.random())+450;this.xpos>1024&&this.xpos<1792&&this.ypos>256&&this.ypos<1536||this.xpos>256&&this.xpos<1280&&this.ypos>1792&&this.ypos<2560;)this.xpos=Math.floor(1951*Math.random())+450,this.ypos=Math.floor(1951*Math.random())+450;this["WoolfBig"+s]=new nt({scene:this,x:this.xpos,y:this.ypos,health:5,zzzAmount:15}),this.WoolfArray.push(this["WoolfBig"+s])}this.WoolfArrayLength=this.WoolfArray.length,this.BabyWoolfArrayLength=this.BabyWoolfArray.length;for(var a=0;a<this.WoolfArrayLength;a++)if(!0===this.WoolfArray[a].isAwake){this.add.existing(this.WoolfArray[a]),this.physics.add.existing(this.WoolfArray[a]),"woolfBaby"===this.WoolfArray[a].getEnemyName()?(this.WoolfArray[a].body.setSize(128,128,!0),this.WoolfArray[a].body.setOffset(0,0)):("woolfMedium"===this.WoolfArray[a].getEnemyName()||"woolfBig"===this.WoolfArray[a].getEnemyName())&&this.WoolfArray[a].body.setSize(250,180,!0),this.WoolfArray[a].body.setImmovable(!0),this.WoolfArray[a].body.allowGravity=!1;for(var h=0;h<this.AllBorderTilesArray;h++)this.physics.add.collider(this.WoolfArray[a],this.AllBorderTilesArray[h]);this.WoolfArray[a].body.velocity.set(o.a.Math.Between(-60,60),o.a.Math.Between(-60,60)),this.physics.add.collider(this.player,this.WoolfArray[a])}for(var l=function(e){t.timedEvent=t.time.addEvent({delay:500,callback:function(){t.moveEnemyAnim(t.WoolfArray[e])},callbackScope:t,loop:!0})},u=0;u<this.WoolfArrayLength;u++)l(u)}},{key:"setSFXVolume",value:function(t){this.footstepsSFX.volume=t}},{key:"getBabyWoolfCount",value:function(){return this.BabyWolfAmount}},{key:"getMedWoolfCount",value:function(){return this.MediumWolfAmount}},{key:"getBigWoolfCount",value:function(){return this.BigWolfAmount}},{key:"getBabyWoolfsAsleepTotal",value:function(){return this.BabyWolfAsleepTotalAmount}},{key:"getMedWoolfsAsleepTotal",value:function(){return this.MediumWolfAsleepTotalAmount}},{key:"getBigWoolfsAsleepTotal",value:function(){return this.BigWolfAsleepTotalAmount}},{key:"getBigWoolfsAwakeCurrent",value:function(){return this.BigWolfsAwakeCurrentAmount}},{key:"getBabyWoolfsAwakeCurrent",value:function(){return this.BabyWolfsAwakeCurrentAmount}},{key:"getMedWoolfsAwakeCurrent",value:function(){return this.MediumWolfAwakeCurrentAmount}},{key:"getNightsComplete",value:function(){return this.levelNumber}},{key:"updateScore",value:function(t){"woolfBaby"===t.name&&(this.BabyWolfAsleepTotalAmount+=1,this.BabyWolfsAwakeCurrentAmount+=1),"woolfMedium"===t.name&&(this.MediumWolfAwakeCurrentAmount+=1,this.MediumWolfAsleepTotalAmount+=1),"woolfBig"===t.name&&(this.BigWolfAsleepTotalAmount+=1,this.BigWolfsAwakeCurrentAmount+=1)}},{key:"changeWinLoseMusic",value:function(t){!0===t?(this.music.stop(),this.music.play("WinScreen",{volume:E})):(this.music.stop(),this.music.play("LoseScreen",{volume:E}))}},{key:"turnSFXOff",value:function(){this.sfxOn=!1}},{key:"resetAfterWin",value:function(){this._sheep_Velocity=0,this.sfxOn=!1,this.newLevel()}},{key:"depthCheckEnemyTree",value:function(t){t.enemyBehindTree=!0}},{key:"depthCheckHouse",value:function(t){this.sheepFootPosYForHouse=this.player.body.position.y+this.PlayerHeight,this.sheepFootPosXForHouse=this.player.body.position.x,this.sheepFootPosXForHouse>t.x+298||this.sheepFootPosXForHouse<t.x-223||this.sheepFootPosYForHouse>t.y+80||this.sheepFootPosYForHouse<t.y-279?(t.depth=this.player.depth-2,this.house2.depth=this.house.depth+1,t.setAlpha(1,1,1,1)):(t.depth=this.player.depth+2,this.house2.depth=this.house.depth+1,t.setAlpha(.2,.2,1,1))}},{key:"depthCheck",value:function(t){t.depth>this.player.depth?(this.player.body.position.y<t.y+114&&t.body.setOffset(t.offsetX,t.offsetY),this.player.x>t.x+t.width/2||this.player.x<t.x-t.width/2||this.player.y+this.player.height/2<t.y-t.height/2?!1===t.enemyBehindTree&&t.setAlpha(1,1,1,1):t.setAlpha(.2,.2,1,1)):(!1===t.enemyBehindTree&&t.setAlpha(1,1,1,1),this.sheepFootPosY=this.player.body.position.y+this.PlayerHeight,this.sheepFootPosX=this.player.body.position.x,this.testTreeTopCollide=t.body.position.y-t.treeHeight/2,this.testTreeBottomCollide=t.body.position.y+t.treeHeight,this.sheepFootPosY<this.testTreeBottomCollide&&this.sheepFootPosY>this.testTreeTopCollide&&(t.body.enable=!0,this.physics.add.collider(this.player,t)),this.sheepFootPosY>this.testTreeBottomCollide?((this.sheepFootPosX>t.body.position.x+t.inFrontValue||this.sheepFootPosX<t.body.position.x-t.inFrontValue)&&t.body.setOffset(t.offsetX,t.offsetChange),this.sheepFootPosY<t.body.position.y&&t.body.setOffset(t.offsetX,t.offsetY),t.body.enable=!0):t.body.enable=!0)}},{key:"render",value:function(){}}])&&Jt(i.prototype,n),r&&Jt(i,r),e}(o.a.Scene);function te(t){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ie(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ne(t,e){return!e||"object"!==te(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function oe(t){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function re(t,e){return(re=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var se=function(t){function e(){return ee(this,e),ne(this,oe(e).apply(this,arguments))}var i,n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&re(t,e)}(e,t),i=e,(n=[{key:"init",value:function(){this.RoosterSFX=this.sound.addAudioSprite("sounds"),this.TimeOver=!1,this.mySheepScene=this.scene.get("SheepMove"),this.MenuScene=this.scene.get("MainMenuScene"),this.HasWon=!1,this.happenOnce=!1,this.timeCheck=0}},{key:"preload",value:function(){this.SmallWolfCount=0,this.MedWolfCount=0,this.BigWolfCount=0,this.BabyWolfAsleepTotalAmount=0,this.MedWolfAsleepTotalAmount=0,this.BigWolfAsleepTotalAmount=0,this.BabyWolfAwakeCurrentAmount=0,this.MedWolfAwakeCurrentAmount=0,this.BigWolfAwakeCurrentAmount=0,this.NightsCompleteAmount=0,this._default_time=90,this.load.image("textboxBackground","assets/images/textbox.png"),this.SmallWoolfHUD=this.add.image(1700,210,"SmallWoolfHUD").setAlpha(1),this.MedWoolfHUD=this.add.image(1700,130,"MedWoolfHUD").setAlpha(1),this.BigWoolfHUD=this.add.image(1700,50,"BigWoolfHUD").setAlpha(1),this.WinHUD=this.add.image(900,450,"win").setAlpha(1),this.WinHUD.setOrigin(.5,.5),this.LoseHUD=this.add.image(900,450,"lose").setAlpha(1),this.LoseHUD.setOrigin(.5,.5),this.WinHUD.visible=!1,this.LoseHUD.visible=!1,this.SmallWolfCountText=this.add.text(1730,215," / ",{font:"40px comic sans",fontStyle:"bold",fill:"#FFFFFF",align:"center"}),this.SmallWolfCountText.setOrigin(.5,.5),this.MedWolfCountText=this.add.text(1730,135," / ",{font:"40px comic sans",fontStyle:"bold",fill:"#FFFFFF",align:"center"}),this.MedWolfCountText.setOrigin(.5,.5),this.BigWolfCountText=this.add.text(1730,55," / ",{font:"40px comic sans",fontStyle:"bold",fill:"#FFFFFF",align:"center"}),this.BigWolfCountText.setOrigin(.5,.5),this.NightsCompleteTextWon=this.add.text(1280,450,""+this.NightsCompleteAmount,{font:"100px comic sans",fontStyle:"bold",fill:"#FFFFFF",align:"center"}),this.NightsCompleteTextWon.setOrigin(.5,.5),this.NightsCompleteTextWon.visible=!1,this.NightsCompleteTextLost=this.add.text(1265,300,""+this.NightsCompleteAmount,{font:"100px comic sans",fontStyle:"bold",fill:"#FFFFFF",align:"center"}),this.NightsCompleteTextLost.setOrigin(.5,.5),this.NightsCompleteTextLost.visible=!1,this.BabyWolfAsleepTotalText=this.add.text(1500,700,""+this.BabyWolfAsleepTotalAmount,{font:"100px comic sans",fontStyle:"bold",fill:"#FFFFFF",align:"center"}),this.BabyWolfAsleepTotalText.setOrigin(.5,.5),this.BabyWolfAsleepTotalText.visible=!1,this.MedWolfAsleepTotalText=this.add.text(930,705,""+this.MedWolfAsleepTotalAmount,{font:"100px comic sans",fontStyle:"bold",fill:"#FFFFFF",align:"center"}),this.MedWolfAsleepTotalText.setOrigin(.5,.5),this.MedWolfAsleepTotalText.visible=!1,this.BigWolfAsleepTotalText=this.add.text(350,710,""+this.BigWolfAsleepTotalAmount,{font:"100px comic sans",fontStyle:"bold",fill:"#FFFFFF",align:"center"}),this.BigWolfAsleepTotalText.setOrigin(.5,.5),this.BigWolfAsleepTotalText.visible=!1,this.timeText=this.add.text(610,50,""+this.formatTime(this._default_time),{font:"70px comic sans",fontStyle:"bold",fill:"#FFFFFF",align:"center"}),this.timeText.setOrigin(.5,.5),this.timeImage=this.add.image(270,50,"timerImage").setAlpha(1),this.timeImage.setScale(.8),this.time.addEvent({delay:900,callback:this.countDown,callbackScope:this,loop:!0})}},{key:"create",value:function(){this.ContinueButton=this.add.sprite(900,700,"ContinueButton").setInteractive(),this.ContinueButton.setScale(.8),this.ContinueButton.on("pointerdown",function(t){this.resetLevel()}.bind(this)),this.ContinueButton.on("pointerover",(function(){this.ContinueButton.setTexture("ContinuePressedButton")}),this),this.ContinueButton.on("pointerout",(function(){this.ContinueButton.setTexture("ContinueButton")}),this),this.MenuButton=this.add.sprite(1600,400,"MenuButton").setInteractive(),this.MenuButton.setScale(.8),this.MenuButton.on("pointerdown",function(t){this.GoToMenu()}.bind(this)),this.MenuButton.on("pointerover",(function(){this.MenuButton.setTexture("MenuPressedButton")}),this),this.MenuButton.on("pointerout",(function(){this.MenuButton.setTexture("MenuButton")}),this),this.ContinueButton.visible=!1,this.MenuButton.visible=!1,this.dark=this.add.image(900,450,"darkBackground").setAlpha(1),this.timeImage.depth=this.timeText.depth-1,this.dark.depth=this.timeImage.depth-1,this.tweens.add({targets:this.dark,alpha:{value:0,duration:15e4,ease:"Power1"},yoyo:!0,loop:-1}),this.interactKey=this.input.keyboard.addKey(o.a.Input.Keyboard.KeyCodes.SPACE)}},{key:"update",value:function(t,e){this.SmallWolfCount=this.mySheepScene.getBabyWoolfCount(),this.MedWolfCount=this.mySheepScene.getMedWoolfCount(),this.BigWolfCount=this.mySheepScene.getBigWoolfCount(),this.BabyWolfAsleepTotalAmount=this.mySheepScene.getBabyWoolfsAsleepTotal(),this.MedWolfAsleepTotalAmount=this.mySheepScene.getMedWoolfsAsleepTotal(),this.BigWolfAsleepTotalAmount=this.mySheepScene.getBigWoolfsAsleepTotal(),this.BabyWolfAwakeCurrentAmount=this.mySheepScene.getBabyWoolfsAwakeCurrent(),this.MedWolfAwakeCurrentAmount=this.mySheepScene.getMedWoolfsAwakeCurrent(),this.BigWolfAwakeCurrentAmount=this.mySheepScene.getBigWoolfsAwakeCurrent(),this.NightsCompleteAmount=this.mySheepScene.getNightsComplete(),this.BabyWolfAwakeCurrentAmount===this.SmallWolfCount&&this.MedWolfAwakeCurrentAmount===this.MedWolfCount&&this.BigWolfAwakeCurrentAmount===this.BigWolfCount&&(this.timedEvent=this.time.addEvent({delay:2e3,callback:this.DecideWinLose,callbackScope:this,loop:!1}))}},{key:"formatTime",value:function(t){return this.minutes=Math.floor(t/60),this.partInSeconds=t%60,this.partInSeconds=this.partInSeconds.toString().padStart(2,"0"),"".concat(this.minutes,":").concat(this.partInSeconds)}},{key:"countDown",value:function(){this._default_time>0?(this._default_time-=1,this.timeText.text=""+this.formatTime(this._default_time),this.NightsCompleteTextLost.text=""+this.NightsCompleteAmount,this.NightsCompleteTextWon.text=""+this.NightsCompleteAmount,this.BigWolfAsleepTotalText.text=""+this.BigWolfAsleepTotalAmount,this.MedWolfAsleepTotalText.text=""+this.MedWolfAsleepTotalAmount,this.BabyWolfAsleepTotalText.text=""+this.BabyWolfAsleepTotalAmount,this.SmallWolfCountText.text=this.BabyWolfAwakeCurrentAmount+" / "+this.SmallWolfCount,this.MedWolfCountText.text=this.MedWolfAwakeCurrentAmount+" / "+this.MedWolfCount,this.BigWolfCountText.text=this.BigWolfAwakeCurrentAmount+" / "+this.BigWolfCount):this.DecideWinLose()}},{key:"GoToMenu",value:function(){window.location.reload()}},{key:"DecideWinLose",value:function(){this._default_time<=0?!1===this.happenOnce&&(this.happenOnce=!0,this.timeText.visible=!1,this.timeImage.visible=!1,this.SmallWolfCountText.visible=!1,this.MedWolfCountText.visible=!1,this.BigWolfCountText.visible=!1,this.SmallWoolfHUD.visible=!1,this.MedWoolfHUD.visible=!1,this.BigWoolfHUD.visible=!1,this.dark.visible=!1,this.RoosterSFX.play("RoosterCrow",{volume:this.RoosterSFX.volume}),this.HasWon=!1,this.mySheepScene.changeWinLoseMusic(this.HasWon),this.LoseHUD.visible=!0,this.mySheepScene.turnSFXOff(),this.NightsCompleteTextLost.visible=!0,this.BabyWolfAsleepTotalText.visible=!0,this.MedWolfAsleepTotalText.visible=!0,this.BigWolfAsleepTotalText.visible=!0,this.MenuButton.visible=!0):this.BabyWolfAwakeCurrentAmount===this.SmallWolfCount&&this.MedWolfAwakeCurrentAmount===this.MedWolfCount&&this.BigWolfAwakeCurrentAmount===this.BigWolfCount&&!1===this.happenOnce&&(this.happenOnce=!0,this.timeText.visible=!1,this.timeImage.visible=!1,this.SmallWolfCountText.visible=!1,this.MedWolfCountText.visible=!1,this.BigWolfCountText.visible=!1,this.SmallWoolfHUD.visible=!1,this.MedWoolfHUD.visible=!1,this.BigWoolfHUD.visible=!1,this.dark.visible=!1,this.HasWon=!0,this.mySheepScene.changeWinLoseMusic(this.HasWon),this.WinHUD.visible=!0,this.BabyWolfAwakeCurrentAmount=0,this.mySheepScene.turnSFXOff(),this.NightsCompleteTextWon.visible=!0,this.ContinueButton.visible=!0)}},{key:"resetLevel",value:function(){this.BabyWolfAwakeCurrentAmount=0,this.MedWolfAwakeCurrentAmount=0,this.BigWolfAwakeCurrentAmount=0,this.TimeOver=!1,this._default_time=90,this.LoseHUD.visible=!1,this.WinHUD.visible=!1,this.NightsCompleteTextLost.visible=!1,this.NightsCompleteTextWon.visible=!1,this.BabyWolfAsleepTotalText.visible=!1,this.MedWolfAsleepTotalText.visible=!1,this.BigWolfAsleepTotalText.visible=!1,this.ContinueButton.visible=!1,this.MenuButton.visible=!1,this.dark=this.add.image(900,450,"darkBackground").setAlpha(1),this.timeImage.depth=this.timeText.depth-1,this.dark.depth=this.timeImage.depth-1,this.tweens.add({targets:this.dark,alpha:{value:0,duration:15e4,ease:"Power1"},yoyo:!0,loop:-1}),this.timeText.visible=!0,this.timeImage.visible=!0,this.SmallWolfCountText.visible=!0,this.MedWolfCountText.visible=!0,this.BigWolfCountText.visible=!0,this.SmallWoolfHUD.visible=!0,this.MedWoolfHUD.visible=!0,this.BigWoolfHUD.visible=!0,this.mySheepScene.resetAfterWin(),this.happenOnce=!1}}])&&ie(i.prototype,n),r&&ie(i,r),e}(o.a.Scene);function ae(t){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function he(t,e){return!e||"object"!==ae(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function le(t){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ue(t,e){return(ue=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ce=function(t){function e(t){var i,n=t.scene,o=t.x,r=t.y;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=he(this,le(e).call(this,n,o,r,"mainMenuTitle"))).key="mM",i.name="mM",i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ue(t,e)}(e,t),e}(o.a.GameObjects.Sprite);function fe(t){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pe(t,e){return!e||"object"!==fe(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function de(t){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ye(t,e){return(ye=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ge=function(t){function e(t){var i,n=t.scene,o=t.x,r=t.y;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=pe(this,de(e).call(this,n,o,r,"creditsPanel"))).key="creditsPan",i.name="creditsPan",i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ye(t,e)}(e,t),e}(o.a.GameObjects.Sprite);function ve(t){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function me(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function be(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function we(t,e){return!e||"object"!==ve(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ke(t){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function xe(t,e){return(xe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Oe=function(t){function e(){return me(this,e),we(this,ke(e).apply(this,arguments))}var i,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xe(t,e)}(e,t),i=e,(n=[{key:"init",value:function(){this.cameras.main.backgroundColor="#000000"}},{key:"preload",value:function(){}},{key:"create",value:function(){this.input.setDefaultCursor("url(assets/images/MouseCursor.png), pointer"),this.music=this.sound.addAudioSprite("sounds"),this.music.play("MenuScreen",{volume:.5}),this.mainMenuTitleImage=new ce({scene:this,x:this.sys.game.config.width/2,y:this.sys.game.config.height/2}),this.credPanel=new ge({scene:this,x:this.sys.game.config.width/2,y:this.sys.game.config.height/2}),this.add.existing(this.mainMenuTitleImage),this.mainMenuTitleImage.setOrigin(.5,.5),this.PlayButton=this.add.sprite(1610,250,"playUnpressed").setInteractive(),this.PlayButton.setScale(.7),this.CreditsButton=this.add.sprite(1610,450,"creditsUnpressed").setInteractive(),this.CreditsButton.setScale(.7),this.add.existing(this.credPanel),this.credPanel.setVisible(!1),this.BackButton=this.add.sprite(1530,130,"backUnpressed").setInteractive(),this.BackButton.setScale(.9),this.BackButton.setVisible(!1),this.BackButton.setActive(!1),this.PlayButton.on("pointerover",(function(){this.PlayButton.setTexture("playPressed")}),this),this.PlayButton.on("pointerout",(function(){this.PlayButton.setTexture("playUnpressed")}),this),this.PlayButton.on("pointerdown",(function(t){this.music.stop(),this.scene.start("LoadingScene")}),this),this.CreditsButton.on("pointerover",(function(){this.CreditsButton.setTexture("creditsPressed")}),this),this.CreditsButton.on("pointerout",(function(){this.CreditsButton.setTexture("creditsUnpressed")}),this),this.CreditsButton.on("pointerdown",function(t){this.bringUpCredits()}.bind(this)),this.BackButton.on("pointerover",(function(){this.BackButton.setTexture("backPressed")}),this),this.BackButton.on("pointerout",(function(){this.BackButton.setTexture("backUnpressed")}),this),this.BackButton.on("pointerdown",function(t){this.backToMenu()}.bind(this))}},{key:"bringUpCredits",value:function(){this.PlayButton.setVisible(!1),this.PlayButton.setActive(!1),this.CreditsButton.setVisible(!1),this.CreditsButton.setActive(!1),this.credPanel.setVisible(!0),this.BackButton.setVisible(!0),this.BackButton.setActive(!0)}},{key:"backToMenu",value:function(){this.credPanel.setVisible(!1),this.BackButton.setVisible(!1),this.BackButton.setActive(!1),this.PlayButton.setVisible(!0),this.PlayButton.setActive(!0),this.CreditsButton.setVisible(!0),this.CreditsButton.setActive(!0)}}])&&be(i.prototype,n),o&&be(i,o),e}(o.a.Scene);function Se(t){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Te(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pe(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ce(t,e){return!e||"object"!==Se(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _e(t){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function je(t,e){return(je=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Me=function(t){function e(){return Te(this,e),Ce(this,_e(e).apply(this,arguments))}var i,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&je(t,e)}(e,t),i=e,(n=[{key:"init",value:function(){}},{key:"preload",value:function(){this.logo=this.add.sprite(y(this),g(this),"logoPic"),d([this.logo]),this.setupProgressBar(200),this.load.image("logoPic","assets/images/LoadingPinkWoolhemina.png"),this.load.image("mainMenuTitle","assets/images/MainMenu_SplashScreen.png"),this.load.image("playPressed","assets/images/PlayPressedButton.png"),this.load.image("playUnpressed","assets/images/PlayButton.png"),this.load.image("creditsPressed","assets/images/CreditsPressedButton.png"),this.load.image("creditsUnpressed","assets/images/CreditsButton.png"),this.load.image("creditsPanel","assets/images/CreditsPanel.png"),this.load.image("backPressed","assets/images/BackPressedButton.png"),this.load.image("backUnpressed","assets/images/BackButton.png"),this.load.image("tutorial1","assets/images/tutorialCard_1.png"),this.load.image("tutorial2","assets/images/tutorialCard_2.png"),this.load.image("tutorial3","assets/images/tutorialCard_3.png"),this.load.image("tutorial4","assets/images/tutorialCard_4.png"),this.load.image("tutorial5","assets/images/tutorialCard_5.png"),this.load.image("tutorial6","assets/images/tutorialCard_6.png"),this.load.image("timerImage","assets/images/UntilDawnLabel.png"),this.load.image("CursorImage","assets/images/MouseCursor.png"),this.load.image("MenuButton","assets/images/MenuButton.png"),this.load.image("MenuPressedButton","assets/images/MenuPressed.png"),this.load.image("BackButton","assets/images/BackButton.png"),this.load.image("BackPressedButton","assets/images/BackPressedButton.png"),this.load.image("SkipButton","assets/images/Skip.png"),this.load.image("SkipPressedButton","assets/images/SkipPressed.png"),this.load.image("NextButton","assets/images/Next.png"),this.load.image("NextPressedButton","assets/images/NextPressed.png"),this.load.image("ContinueButton","assets/images/Continue.png"),this.load.image("ContinuePressedButton","assets/images/ContinuePressed.png"),this.load.image("ExitButton","assets/images/ExitButton.png"),this.load.image("ExitPressedButton","assets/images/ExitPressedButton.png"),this.load.image("darkBackground","assets/images/DarkBackground.png"),this.load.image("win","assets/images/WinScreen.png"),this.load.image("lose","assets/images/LoseScreen.png"),this.load.image("SmallWoolfHUD","assets/images/WoolfPupCounter.png"),this.load.image("MedWoolfHUD","assets/images/WoolfCounter.png"),this.load.image("BigWoolfHUD","assets/images/AlphaCounter.png"),this.load.image("HouseClosedOnImage","assets/images/HouseClosedOn.png"),this.load.image("HouseClosedOffImage","assets/images/HouseClosedOff.png"),this.load.image("sheepImage","assets/images/woolhemina_testSprite_128.png"),this.load.image("treeImage","assets/images/asset_oakTree.png"),this.load.image("FirePitImage","assets/images/asset_firePit.png"),this.load.image("pineImage","assets/images/asset_pineTree.png"),this.load.image("woolfImageBig","assets/images/Big.png"),this.load.image("woolfImageSmall","assets/images/Small.png"),this.load.image("woolfImageMed","assets/images/Med.png"),this.load.image("tile1","assets/images/Tile_01.png"),this.load.image("zzzImage","assets/Test Art/dummyAsset_Z.png"),this.load.image("mapTile","assets/images/DummyBoundary.png"),this.load.image("grass1Tile","assets/images/Tile_01.png"),this.load.image("grass2Tile","assets/images/Tile_02.png"),this.load.image("grass3Tile","assets/images/Tile_03.png"),this.load.image("waterTile","assets/images/WaterTile.png"),this.load.image("topWaterTile","assets/images/WaterTile2.png"),this.load.image("sideFenceTile","assets/images/FenceTile_02.png"),this.load.image("bottomFenceTile","assets/images/FenceTile_01.png"),this.load.image("TopMountainMapTile","assets/images/MountainTile_03.png"),this.load.image("CornerMountainMapTile","assets/images/MountainTile_02.png"),this.load.image("BelowCornerMountainMapTile","assets/images/MountainTile_01.png"),this.load.image("yawnBlastCircleImage","assets/images/yawnBlast_hemisphereShape.png"),this.load.spritesheet("runleftFront","assets/images/painted_woolhemina_runCycle_leftFront.png",{frameWidth:128,frameHeight:128,endFrame:13}),this.load.spritesheet("runUp","assets/images/painted_woolhemina_runCycle_rightBack.png",{frameWidth:128,frameHeight:128,endFrame:13}),this.load.spritesheet("idleFront","assets/images/painted_resized_woolhemina_idle_leftFront.png",{frameWidth:128,frameHeight:128,endFrame:10}),this.load.spritesheet("idleBack","assets/images/painted_resized_woolhemina_idle_rightBack.png",{frameWidth:128,frameHeight:128,endFrame:6}),this.load.spritesheet("initalYawnFront","assets/images/painted_woolhemina_yawnBlast_initial_leftFront.png",{frameWidth:128,frameHeight:128,endFrame:6}),this.load.spritesheet("initalYawnBack","assets/images/painted_woolhemina_yawnBlast_initial_rightBack.png",{frameWidth:128,frameHeight:128,endFrame:6}),this.load.spritesheet("YawnLoopFront","assets/images/painted_woolhemina_yawnBlast_loop_leftFront.png",{frameWidth:128,frameHeight:128,endFrame:5}),this.load.spritesheet("YawnLoopBack","assets/images/painted_woolhemina_yawnBlast_loop_rightBack.png",{frameWidth:128,frameHeight:128,endFrame:5}),this.load.spritesheet("YawnReleaseFront","assets/images/painted_woolhemina_yawnBlast_release_leftFront.png",{frameWidth:128,frameHeight:128,endFrame:14}),this.load.spritesheet("YawnReleaseBack","assets/images/painted_woolhemina_yawnBlast_release_rightBack.png",{frameWidth:128,frameHeight:128,endFrame:14}),this.load.spritesheet("KnockbackLeftFront","assets/images/painted_woolhemina_surprised_leftFront.png",{frameWidth:128,frameHeight:128,endFrame:24}),this.load.spritesheet("KnockbackRightBack","assets/images/painted_woolhemina_surprised_rightBack.png",{frameWidth:128,frameHeight:128,endFrame:24}),this.load.spritesheet("breakGlass","assets/images/yawnBlast_shatter_spritesheet.png",{frameWidth:256,frameHeight:256,endFrame:3}),this.load.spritesheet("babyWoolfLeftRun","assets/images/painted_babyWoolf_runCycle_leftFront.png",{frameWidth:128,frameHeight:128,endFrame:11}),this.load.spritesheet("babyWoolfRightRun","assets/images/painted_babyWoolf_runCycle_rightBack.png",{frameWidth:128,frameHeight:128,endFrame:11}),this.load.spritesheet("babyWoolfLeftIdle","assets/images/painted_babyWoolf_idle_leftFront.png",{frameWidth:128,frameHeight:128,endFrame:7}),this.load.spritesheet("babyWoolfRightIdle","assets/images/painted_babyWoolf_idle_rightBack.png",{frameWidth:128,frameHeight:128,endFrame:7}),this.load.spritesheet("babyWoolfAsleepFront","assets/images/painted_babyWoolf_fallAsleep_leftFront.png",{frameWidth:128,frameHeight:128,endFrame:14}),this.load.spritesheet("babyWoolfAsleepBack","assets/images/painted_babyWoolf_fallAsleep_rightBack.png",{frameWidth:128,frameHeight:128,endFrame:14}),this.load.spritesheet("babyWoolfSleepLoopFront","assets/images/painted_babyWoolf_fallAsleep_loop_leftFront.png",{frameWidth:128,frameHeight:128,endFrame:8}),this.load.spritesheet("babyWoolfSleepLoopBack","assets/images/painted_babyWoolf_fallAsleep_loop_rightBack.png",{frameWidth:128,frameHeight:128,endFrame:8}),this.load.spritesheet("woolfLeftRun","assets/images/painted_woolf_runCycle_leftFront.png",{frameWidth:256,frameHeight:256,endFrame:11}),this.load.spritesheet("woolfRightRun","assets/images/painted_woolf_runCycle_rightBack.png",{frameWidth:256,frameHeight:256,endFrame:11}),this.load.spritesheet("woolfLeftIdle","assets/images/painted_woolf_idle_leftFront.png",{frameWidth:256,frameHeight:256,endFrame:7}),this.load.spritesheet("woolfRightIdle","assets/images/painted_woolf_idle_rightBack.png",{frameWidth:256,frameHeight:256,endFrame:7}),this.load.spritesheet("woolfAsleepFront","assets/images/painted_woolf_fallAsleep_leftFront.png",{frameWidth:256,frameHeight:256,endFrame:14}),this.load.spritesheet("woolfAsleepBack","assets/images/painted_woolf_fallAsleep_rightBack.png",{frameWidth:256,frameHeight:256,endFrame:14}),this.load.spritesheet("woolfSleepLoopFront","assets/images/painted_woolf_fallAsleep_loop_leftFront.png",{frameWidth:256,frameHeight:256,endFrame:8}),this.load.spritesheet("woolfSleepLoopBack","assets/images/painted_woolf_fallAsleep_loop_rightBack.png",{frameWidth:256,frameHeight:256,endFrame:8}),this.load.spritesheet("woolfAttackFront","assets/images/painted_woolf_armSlam_leftFront.png",{frameWidth:256,frameHeight:256,endFrame:15}),this.load.spritesheet("woolfAttackBack","assets/images/painted_woolf_armSlam_rightBack.png",{frameWidth:256,frameHeight:256,endFrame:15}),this.load.spritesheet("alphaWoolfLeftRun","assets/images/painted_altWoolf_runCycle_leftFront.png",{frameWidth:256,frameHeight:256,endFrame:11}),this.load.spritesheet("alphaWoolfRightRun","assets/images/painted_altWoolf_runCycle_rightBack.png",{frameWidth:256,frameHeight:256,endFrame:11}),this.load.spritesheet("alphaWoolfLeftIdle","assets/images/painted_altWoolf_idle_leftFront.png",{frameWidth:256,frameHeight:256,endFrame:7}),this.load.spritesheet("alphaWoolfRightIdle","assets/images/painted_altWoolf_idle_rightBack.png",{frameWidth:256,frameHeight:256,endFrame:7}),this.load.spritesheet("alphaWoolfAsleepFront","assets/images/painted_altWoolf_fallAsleep_leftFront.png",{frameWidth:256,frameHeight:256,endFrame:14}),this.load.spritesheet("alphaWoolfAsleepBack","assets/images/painted_altWoolf_fallAsleep_rightBack.png",{frameWidth:256,frameHeight:256,endFrame:14}),this.load.spritesheet("alphaWoolfSleepLoopFront","assets/images/painted_altWoolf_fallAsleep_loop_leftFront.png",{frameWidth:256,frameHeight:256,endFrame:8}),this.load.spritesheet("alphaWoolfSleepLoopBack","assets/images/painted_altWoolf_fallAsleep_loop_rightBack.png",{frameWidth:256,frameHeight:256,endFrame:8}),this.load.spritesheet("alphaWoolfAttackFront","assets/images/painted_altWoolf_partyHowl_leftFront.png",{frameWidth:256,frameHeight:256,endFrame:15}),this.load.spritesheet("alphaWoolfAttackBack","assets/images/painted_altWoolf_partyHowl_rightBack.png",{frameWidth:256,frameHeight:256,endFrame:15}),this.load.spritesheet("flames","assets/images/firePit_flames_spritesheet.png",{frameWidth:512,frameHeight:512,endFrame:3}),this.load.audioSprite("sounds","assets/audio/sounds.json",["assets/audio/sounds.ogg","assets/audio/sounds.mp3","assets/audio/sounds.m4a","assets/audio/sounds.ac3"]);for(var t=0;t<500;t++)this.load.image("logo".concat(t),"./assets/images/icon.png")}},{key:"setupProgressBar",value:function(t){var e=this.cameras.main.width,i=this.cameras.main.height,n=this.add.graphics(),o=this.add.graphics();o.fillStyle(2236962,.8),o.fillRect(e/2-280,i/2+80,320,50);var r=this.make.text({x:e/2-120,y:i/2+106,text:"0%",style:{font:"30px monospace",fill:"#ffffff"}});d([r]),this.load.on("progress",(function(t){n.clear(),n.fillStyle(16777215,1),n.fillRect(e/2-280,i/2+80,320,50),r.setText("".concat(parseInt(100*t),"%"))})),this.load.on("fileprogress",(function(t){})),this.load.on("complete",(function(){r.destroy(),n.destroy(),o.destroy()}))}},{key:"create",value:function(){}},{key:"update",value:function(){this.scene.start("TutorialScene")}}])&&Pe(i.prototype,n),o&&Pe(i,o),e}(o.a.Scene);function Be(t){return(Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ee(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function We(t,e){return!e||"object"!==Be(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Re(t){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Fe(t,e){return(Fe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ie=function(t){function e(){return Ae(this,e),We(this,Re(e).apply(this,arguments))}var i,n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fe(t,e)}(e,t),i=e,(n=[{key:"init",value:function(){this.cameras.main.setBackgroundColor("#e6ccff")}},{key:"preload",value:function(){}},{key:"create",value:function(){this.tutorial1Image=this.add.image(900,450,"tutorial1").setAlpha(1),this.tutorial1Image.setScale(.3),this.tutorial1Image.visible=!0,this.tutorial2Image=this.add.image(900,450,"tutorial2").setAlpha(1),this.tutorial2Image.setScale(.3),this.tutorial2Image.visible=!1,this.tutorial3Image=this.add.image(900,450,"tutorial3").setAlpha(1),this.tutorial3Image.setScale(.3),this.tutorial3Image.visible=!1,this.tutorial4Image=this.add.image(900,450,"tutorial4").setAlpha(1),this.tutorial4Image.setScale(.3),this.tutorial4Image.visible=!1,this.tutorial5Image=this.add.image(905,455,"tutorial5").setAlpha(1),this.tutorial5Image.setScale(.3),this.tutorial5Image.visible=!1,this.tutorial6Image=this.add.image(905,455,"tutorial6").setAlpha(1),this.tutorial6Image.setScale(.3),this.tutorial6Image.visible=!1,this.SkipButton=this.add.sprite(1670,100,"SkipButton").setInteractive(),this.SkipButton.setScale(.8),this.SkipButton.on("pointerdown",function(t){this.SkipFunction(this.getCurrentNumber())}.bind(this)),this.SkipButton.on("pointerover",(function(){this.SkipButton.setTexture("SkipPressedButton")}),this),this.SkipButton.on("pointerout",(function(){this.SkipButton.setTexture("SkipButton")}),this),this.BackButton=this.add.sprite(135,800,"BackButton").setInteractive(),this.BackButton.setScale(.68),this.BackButton.on("pointerdown",function(t){this.BackFunction(this.getCurrentNumber())}.bind(this)),this.BackButton.on("pointerover",(function(){this.BackButton.setTexture("BackPressedButton")}),this),this.BackButton.on("pointerout",(function(){this.BackButton.setTexture("BackButton")}),this),this.BackButton.visible=!1,this.NextButton=this.add.sprite(1670,790,"NextButton").setInteractive(),this.NextButton.setScale(.8),this.NextButton.on("pointerdown",function(t){this.NextFunction(this.getCurrentNumber())}.bind(this)),this.NextButton.on("pointerover",(function(){this.NextButton.setTexture("NextPressedButton")}),this),this.NextButton.on("pointerout",(function(){this.NextButton.setTexture("NextButton")}),this)}},{key:"getCurrentNumber",value:function(){return!0===this.tutorial1Image.visible?1:!0===this.tutorial2Image.visible?2:!0===this.tutorial3Image.visible?3:!0===this.tutorial4Image.visible?4:!0===this.tutorial5Image.visible?5:!0===this.tutorial6Image.visible?6:void 0}},{key:"NextFunction",value:function(t){this.BackButton.visible=!0,this.tutorial1Image.visible=!1,this.tutorial2Image.visible=!1,this.tutorial3Image.visible=!1,this.tutorial4Image.visible=!1,this.tutorial5Image.visible=!1,this.tutorial6Image.visible=!1,6===t?this.scene.start("SheepMove"):1===t?this.tutorial2Image.visible=!0:2===t?this.tutorial3Image.visible=!0:3===t?this.tutorial4Image.visible=!0:4===t?this.tutorial5Image.visible=!0:5===t&&(this.tutorial6Image.visible=!0)}},{key:"BackFunction",value:function(t){this.BackButton.visible=!0,this.tutorial1Image.visible=!1,this.tutorial2Image.visible=!1,this.tutorial3Image.visible=!1,this.tutorial4Image.visible=!1,this.tutorial5Image.visible=!1,this.tutorial6Image.visible=!1,1===t?this.BackButton.visible=!1:2===t?(this.BackButton.visible=!1,this.tutorial1Image.visible=!0):3===t?this.tutorial2Image.visible=!0:4===t?this.tutorial3Image.visible=!0:5===t?this.tutorial4Image.visible=!0:6===t&&(this.tutorial5Image.visible=!0)}},{key:"SkipFunction",value:function(t){this.scene.start("SheepMove")}}])&&Ee(i.prototype,n),o&&Ee(i,o),e}(o.a.Scene);function De(t){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Le(t,e){return!e||"object"!==De(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ze(t){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ye(t,e){return(Ye=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var He=[{key:"updatePlugin",plugin:r.default,mapping:"updates"},{key:"rexUI",plugin:p.a,mapping:"rexUI"}];var Ne=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=Le(this,ze(e).call(this,{pixelArt:!1,type:o.a.WEBGL,title:"Sheep Yawn",backgroundColor:"#9999cc",scale:{parent:"content",width:B,height:A,mode:o.a.Scale.FIT,autoCenter:o.a.Scale.CENTER_BOTH},plugins:{scene:He},physics:{default:"arcade",arcade:{gravity:{y:0},debug:!1}}}))).scene.add("Boot",O,!1),t.scene.add("StudioSplash",M,!1),t.scene.add("SheepMove",$t,!1),t.scene.add("TutorialScene",Ie,!1),t.scene.add("HUDScene",se,!1),t.scene.add("LoadingScene",Me,!1),t.scene.add("MainMenuScene",Oe,!1),t.scene.start("Boot"),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ye(t,e)}(e,t),e}(o.a.Game);window.game=new Ne},652:function(t,e,i){window,t.exports=function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=376)}({0:function(t,e){t.exports=function(t,e,i){if(t&&"number"!=typeof t){if(t.hasOwnProperty(e))return t[e];if(-1!==e.indexOf(".")){for(var n=e.split("."),o=t,r=i,s=0;s<n.length;s++){if(!o.hasOwnProperty(n[s])){r=i;break}r=o[n[s]],o=o[n[s]]}return r}return i}return i}},1:function(t,e,i){"use strict";e.a={hleft:0,hcenter:1,hright:2,vtop:0,vcenter:1,vbottom:2,NO_NEWLINE:0,RAW_NEWLINE:1,WRAPPED_NEWLINE:2,NO_WRAP:0,WORD_WRAP:1,CHAR_WRAP:2,SPLITREGEXP:/(?:\r\n|\r|\n)/}},10:function(t,e,i){"use strict";var n=i(4);function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=Phaser.Utils.Objects.GetValue,s=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent=e,this._isRunning=!1,this.tickingState=!1,this.setEventEmitter(r(i,"eventEmitter",void 0)),this.setTickingMode(r(i,"tickingMode",1))}var e,i;return e=t,(i=[{key:"boot",value:function(){2!==this.tickingMode||this.tickingState||this.startTicking()}},{key:"shutdown",value:function(){this.destroyEventEmitter(),this.tickingState&&this.stopTicking()}},{key:"setTickingMode",value:function(t){"string"==typeof t&&(t=a[t]),this.tickingMode=t}},{key:"startTicking",value:function(){this.tickingState=!0}},{key:"stopTicking",value:function(){this.tickingState=!1}},{key:"start",value:function(){return this.isRunning=!0,this}},{key:"pause",value:function(){return this.isRunning=!1,this}},{key:"resume",value:function(){return this.isRunning=!0,this}},{key:"stop",value:function(){return this.isRunning=!1,this}},{key:"complete",value:function(){this.isRunning=!1,this.emit("complete",this.parent,this)}},{key:"isRunning",get:function(){return this._isRunning},set:function(t){this._isRunning!==t&&(this._isRunning=t,1===this.tickingMode&&t!=this.tickingState&&(t?this.startTicking():this.stopTicking()))}}])&&o(e.prototype,i),t}();Object.assign(s.prototype,n.a);var a={no:0,lazy:1,always:2};e.a=s},108:function(t,e,i){"use strict";var n=i(4),o=i(7);function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=Phaser.Utils.Objects.GetValue,a=Phaser.Utils.Array.SpliceOne,h=Phaser.Math.Distance.Between,l=Phaser.Math.Angle.Between,u=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e.input.manager.pointersTotal-1;n<2&&e.input.addPointer(2-n),this.scene=e,this.setEventEmitter(s(i,"eventEmitter",void 0)),this.pointers=[],this.movedState={},this.resetFromJSON(i),this.boot()}var e,i;return e=t,(i=[{key:"resetFromJSON",value:function(t){return this.setEnable(s(t,"enable",!0)),this.bounds=s(t,"bounds",void 0),this.tracerState=f,this.pointers.length=0,Object(o.a)(this.movedState),this}},{key:"boot",value:function(){this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.events.once("shutdown",this.destroy,this)}},{key:"shutdown",value:function(){this.destroyEventEmitter(),this.pointers.length=0,Object(o.a)(this.movedState),this.scene&&(this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.events.off("destroy",this.destroy,this),this.scene=void 0),this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable===t||(t||this.dragCancel(),this.enable=t),this}},{key:"onPointerDown",value:function(t){if(this.enable&&2!==this.pointers.length&&(!this.bounds||this.bounds.contains(t.x,t.y))&&-1===this.pointers.indexOf(t))switch(this.movedState[t.id]=!1,this.pointers.push(t),this.tracerState){case f:this.tracerState=p,this.onDrag1Start();break;case p:this.tracerState=d,this.onDrag2Start()}}},{key:"onPointerUp",value:function(t){if(this.enable&&(!this.bounds||this.bounds.contains(t.x,t.y))){var e=this.pointers.indexOf(t);if(-1!==e)switch(delete this.movedState[t.id],a(this.pointers,e),this.tracerState){case p:this.tracerState=f,this.onDrag1End();break;case d:this.tracerState=p,this.onDrag2End(),this.onDrag1Start()}}}},{key:"onPointerMove",value:function(t){if(this.enable&&t.isDown){var e=!this.bounds||this.bounds.contains(t.x,t.y),i=-1!==this.pointers.indexOf(t);if(!i&&e);else if(i&&!e)this.onPointerUp(t);else if(this.movedState[t.id]||(this.movedState[t.id]=t.x!==t.downX||t.y!==t.downY),this.movedState[t.id])switch(this.tracerState){case p:this.onDrag1();break;case d:this.onDrag2()}}}},{key:"dragCancel",value:function(){return this.tracerState===d&&this.onDrag2End(),this.pointers.length=0,Object(o.a)(this.movedState),this.tracerState=f,this}},{key:"onDrag1Start",value:function(){this.emit("drag1start",this)}},{key:"onDrag1End",value:function(){this.emit("drag1end",this)}},{key:"onDrag1",value:function(){this.emit("drag1",this)}},{key:"onDrag2Start",value:function(){this.emit("drag2start",this)}},{key:"onDrag2End",value:function(){this.emit("drag2end",this)}},{key:"onDrag2",value:function(){this.emit("drag2",this)}},{key:"setRecongizedStateObject",value:function(t){return this.recongizedState=t,this}},{key:"cancel",value:function(){return this.state=y,this}},{key:"distanceBetween",get:function(){if(this.tracerState!==d)return 0;var t=this.pointers[0],e=this.pointers[1];return h(t.x,t.y,e.x,e.y)}},{key:"angleBetween",get:function(){if(this.tracerState!==d)return 0;var t=this.pointers[0],e=this.pointers[1];return l(t.x,t.y,e.x,e.y)}},{key:"drag1Vector",get:function(){var t=this.pointers[0];if(t&&this.movedState[t.id]){var e=t.position,i=t.prevPosition;c.x=e.x-i.x,c.y=e.y-i.y}else c.x=0,c.y=0;return c}},{key:"centerX",get:function(){if(this.tracerState!==d)return 0;var t=this.pointers[0].position,e=this.pointers[1].position;return(t.x+e.x)/2}},{key:"centerY",get:function(){if(this.tracerState!==d)return 0;var t=this.pointers[0].position,e=this.pointers[1].position;return(t.y+e.y)/2}},{key:"prevCenterX",get:function(){if(this.tracerState!==d)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,e=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.x+e.x)/2}},{key:"prevCenterY",get:function(){if(this.tracerState!==d)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,e=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.y+e.y)/2}},{key:"movementCenterX",get:function(){return this.centerX-this.prevCenterX}},{key:"movementCenterY",get:function(){return this.centerY-this.prevCenterY}},{key:"state",get:function(){return this.recongizedState.state},set:function(t){this.recongizedState.state=t}}])&&r(e.prototype,i),t}();Object.assign(u.prototype,n.a);var c={},f=0,p=1,d=2,y="IDLE";e.a=u},11:function(t,e,i){"use strict";var n=i(7);e.a=function(t,e){var i=Array.isArray(t);for(var o in void 0===e?e=i?[]:{}:Object(n.a)(e),i&&(e.length=t.length),t)e[o]=t[o];return e}},111:function(t,e,i){"use strict";e.a={"up&down":0,"left&right":1,"4dir":2,"8dir":3}},112:function(t,e,i){"use strict";var n={};e.a=function(t,e,i){switch(void 0===i?i={}:!0===i&&(i=n),i.left=!1,i.right=!1,i.up=!1,i.down=!1,t=(t+360)%360,e){case 0:t<180?i.down=!0:i.up=!0;break;case 1:t>90&&t<=270?i.left=!0:i.right=!0;break;case 2:t>45&&t<=135?i.down=!0:t>135&&t<=225?i.left=!0:t>225&&t<=315?i.up=!0:i.right=!0;break;case 3:t>22.5&&t<=67.5?(i.down=!0,i.right=!0):t>67.5&&t<=112.5?i.down=!0:t>112.5&&t<=157.5?(i.down=!0,i.left=!0):t>157.5&&t<=202.5?i.left=!0:t>202.5&&t<=247.5?(i.left=!0,i.up=!0):t>247.5&&t<=292.5?i.up=!0:t>292.5&&t<=337.5?(i.up=!0,i.right=!0):i.right=!0}return i}},117:function(t,e,i){"use strict";var n=i(3),o=i(4);function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=Phaser.Utils.Objects.GetValue,a=Phaser.Math.Distance.Between,h=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=Object(n.a)(e),this.setEventEmitter(s(i,"eventEmitter",void 0)),e.setInteractive(s(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}var e,i;return e=t,(i=[{key:"resetFromJSON",value:function(t){return this.pointer=void 0,this.isInTouched=!1,this.holdStartTime=void 0,this.x=void 0,this.y=void 0,this.preX=void 0,this.preY=void 0,this.localX=void 0,this.localY=void 0,this.justMoved=!1,this.setEnable(s(t,"enable",!0)),this.holdThreshold=s(t,"holdThreshold",50),this}},{key:"boot",value:function(){this.gameObject.on("pointerdown",this.onPointIn,this),this.gameObject.on("pointerover",this.onPointIn,this),this.gameObject.on("pointerup",this.onPointOut,this),this.gameObject.on("pointerout",this.onPointOut,this),this.gameObject.on("pointermove",this.onPointerMove,this),this.gameObject.once("destroy",this.destroy,this),this.scene.events.on("preupdate",this.preupdate,this)}},{key:"shutdown",value:function(){this.scene&&this.scene.events.off("preupdate",this.preupdate,this),this.pointer=void 0,this.gameObject=void 0,this.scene=void 0,this.destroyEventEmitter()}},{key:"destroy",value:function(){this.shutdown()}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable===t||(t||(this.isInTouched=!1,this.pointer=void 0),this.enable=t,this.gameObject.input.enabled=t),this}},{key:"onPointIn",value:function(t,e,i){t.isDown&&void 0===this.pointer&&(this.pointer=t,this.localX=e,this.localY=i)}},{key:"onPointOut",value:function(t){this.pointer===t&&(this.pointer=void 0)}},{key:"onPointerMove",value:function(t,e,i){t.isDown&&this.pointer===t&&(this.localX=e,this.localY=i)}},{key:"preupdate",value:function(t,e){var i=this.pointer;this.justMoved=!1,i&&!this.isInTouched?(this.x=i.x,this.y=i.y,this.preX=i.x,this.preY=i.y,this.isInTouched=!0,this.holdStartTime=void 0,this.emit("touchstart",i,this.localX,this.localY)):i&&this.isInTouched?this.x===i.x&&this.y===i.y?void 0===this.holdStartTime?this.holdStartTime=t:t-this.holdStartTime>this.holdThreshold&&(this.preX=this.x,this.preY=this.y):(this.preX=this.x,this.preY=this.y,this.x=i.x,this.y=i.y,this.holdStartTime=void 0,this.justMoved=!0,this.emit("touchmove",i,this.localX,this.localY)):!i&&this.isInTouched&&(this.isInTouched=!1,this.holdStartTime=void 0,this.emit("touchend",i))}},{key:"isDown",get:function(){return this.pointer&&this.pointer.isDown}},{key:"isUp",get:function(){return!this.isDown}},{key:"dx",get:function(){return this.x-this.preX}},{key:"dy",get:function(){return this.y-this.preY}},{key:"dt",get:function(){return this.scene.sys.game.loop.delta}},{key:"speed",get:function(){return this.x===this.preX&&this.y===this.preY?0:a(this.preX,this.preY,this.x,this.y)/(.001*this.dt)}},{key:"speedX",get:function(){return this.dx/(.001*this.dt)}},{key:"speedY",get:function(){return this.dy/(.001*this.dt)}}])&&r(e.prototype,i),t}();Object.assign(h.prototype,o.a);var l=h;e.a=l},118:function(t,e,i){"use strict";var n=i(58),o=Phaser.Geom.Intersects.RectangleToRectangle,r=Phaser.Geom.Rectangle.Overlaps,s=function(t,e){var i=0,n=e.top,o=e.bottom,r=e.left,s=e.right;return i+=t.contains(r,n)?1:0,i+=t.contains(r,o)?1:0,(i+=t.contains(s,n)?1:0)+(t.contains(s,o)?1:0)},a=function(t,e){t.setVisible(!0).clearMask()},h=function(t,e){t.setVisible(!0).setMask(e)},l=function(t,e){t.setVisible(!1).clearMask()};e.a=function(t,e,i){if(e){void 0===i&&(i=t.getAllChildren());for(var u,c,f=t.getBounds(),p=Object(n.a)(e),d=0,y=i.length;d<y;d++)if(!(u=i[d]).hasOwnProperty("isRexContainerLite")&&u!==p){if(u.getBounds)switch(c=u.getBounds(c),s(f,c)){case 4:a(u);break;case 0:o(f,c)||r(f,c)?h(u,e):l(u);break;default:h(u,e)}else h(u,e);t.resetChildVisibleState(u).updateChildVisible(u)}}}},119:function(t,e,i){"use strict";var n;e.a=function(t,e){void 0===e&&(void 0===n&&(n=new Phaser.Geom.Rectangle),e=n);var i=t.game.config;return e.setTo(0,0,i.width,i.height),e}},12:function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.items=[]}var e,i;return e=t,(i=[{key:"destroy",value:function(){this.items.length=0,this.items=void 0}},{key:"pop",value:function(){return this.items.length>0?this.items.pop():null}},{key:"push",value:function(t){return this.items.push(t),this}},{key:"pushMultiple",value:function(t){return this.items.push.apply(this.items,t),t.length=0,this}}])&&n(e.prototype,i),t}();e.a=o},125:function(t,e,i){"use strict";var n=i(108),o=i(14);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,e,i){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(i):o.value}})(t,e,i||t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=Phaser.Utils.Objects.GetValue,f=function(t){function e(t,i){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=a(n=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?a(t):e}(this,l(e).call(this,t,i))),h={states:{IDLE:{enter:function(){s.prevDistance=void 0,s.scaleFactor=1}},BEGIN:{},RECOGNIZED:{enter:function(){s.emit("pinchstart",s)},exit:function(){s.emit("pinchend",s)}}},init:function(){this.state=p},eventEmitter:!1};return n.setRecongizedStateObject(new o.a(h)),n}var i,f;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,n.a),i=e,(f=[{key:"resetFromJSON",value:function(t){return h(l(e.prototype),"resetFromJSON",this).call(this,t),this.setDragThreshold(c(t,"threshold",0)),this}},{key:"onDrag2Start",value:function(){this.scaleFactor=1,this.prevDistance=this.distanceBetween,this.state=0===this.dragThreshold?y:d}},{key:"onDrag2End",value:function(){this.state=p}},{key:"onDrag2",value:function(){switch(this.state){case d:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.prevDistance=t,this.state=y}break;case y:t=this.distanceBetween,this.scaleFactor=t/this.prevDistance,this.emit("pinch",this),this.prevDistance=t}}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"isPinch",get:function(){return this.state===y}}])&&s(i.prototype,f),e}(),p="IDLE",d="BEGIN",y="RECOGNIZED";e.a=f},130:function(t,e,i){"use strict";var n=Phaser.Utils.Objects.GetValue,o={id:["id",void 0],width:["width",void 0],height:["height",void 0],autoPlay:["autoplay",!0],controls:["controls",!1],loop:["loop",!1],poster:["poster",void 0],preload:["preload",void 0],muted:["muted",!1],playsInline:["playsInline",!0],crossOrigin:["crossOrigin","anonymous"]},r={canplay:"canplay",canplaythrough:"canplaythrough",ended:"ended",error:"error",loadstart:"loadstart",playing:"playing",pause:"pause",stalled:"stalled"},s=function(t){var e,i,s=this,a=document.createElement("video");for(var h in o)void 0!==(i=n(t,h,(e=o[h])[1]))&&(a[e[0]]=i);var l=n(t,"eventEmitter",void 0);if(l){var u=function(t){a.addEventListener(r[t],function(){l.emit(t,this)}.bind(s))};for(var c in r)u(c)}return a},a=Phaser.Utils.Objects.IsPlainObject,h=["webm","ogg","mp4","h264","vp9","hls"];function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t,e,i){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(i):o.value}})(t,e,i||t)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y=Phaser.Utils.Objects.GetValue,g=Phaser.Math.Clamp;e.a=function(t){return function(e){function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),c(this,p(i).apply(this,arguments))}var n,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(i,t),n=i,(o=[{key:"createVideoElement",value:function(t){return this.video||(void 0===t&&(t={}),t.eventEmitter=this,this.video=s(t),this.playbackTimeChangeEventEnable=y(t,"playbackTimeChangeEventEnable",!0)),this.video}},{key:"preDestroy",value:function(){this.scene&&(this.video&&(this.video.pause(),this.video.removeAttribute("src"),this.video.load(),this.video=void 0),f(p(i.prototype),"preDestroy",this)&&f(p(i.prototype),"preDestroy",this).call(this))}},{key:"preUpdate",value:function(t,e){if(this.playbackTimeChangeEventEnable){var n=this.playbackTime;n!==this.prevT&&this.emit("playbacktimechange",this),this.prevT=n}f(p(i.prototype),"preUpdate",this)&&f(p(i.prototype),"preUpdate",this).call(this,t,e)}},{key:"load",value:function(t){return this.video&&function(t,e,i){if(a(e))for(var n,o=0,r=h.length;o<r;o++)if(i[(n=h[o])+"Video"]&&e.hasOwnProperty(n)){e=e[n];break}t.src=e,t.load()}(this.video,t,this.availableVideoTypes),this}},{key:"play",value:function(){return this.video&&this.video.play(),this}},{key:"pause",value:function(){return this.video&&this.video.pause(),this}},{key:"setPlaybackTime",value:function(t){return this.playbackTime=t,this}},{key:"setT",value:function(t){return this.t=t,this}},{key:"setVolume",value:function(t){return this.volume=t,this}},{key:"setMute",value:function(t){return void 0===t&&(t=!0),this.muted=t,this}},{key:"setLoop",value:function(t){return void 0===t&&(t=!0),this.loop=t,this}},{key:"availableVideoTypes",get:function(){return this.scene.sys.game.device.video}},{key:"isPlaying",get:function(){if(this.video){var t=this.video;return!t.paused&&!t.ended&&t.currentTime>0}return!1}},{key:"isPaused",get:function(){return!!this.video&&this.video.paused}},{key:"playbackTime",get:function(){return this.video&&this.video.currentTime||0},set:function(t){if(this.video)try{this.video.currentTime=t}catch(t){}}},{key:"duration",get:function(){return this.video&&this.video.duration||0}},{key:"t",get:function(){if(this.video){var t=this.duration;return 0===t?0:this.playbackTime/t}return 0},set:function(t){this.video&&(this.playbackTime=this.duration*g(t,0,1))}},{key:"hasEnded",get:function(){return!!this.video&&this.video.ended}},{key:"volume",get:function(){return this.video&&this.video.volume||0},set:function(t){this.video&&(this.video.volume=t)}},{key:"muted",get:function(){return this.video&&this.video.muted||!1},set:function(t){this.video&&(this.video.muted=t)}},{key:"loop",get:function(){return!!this.video&&this.video.loop},set:function(t){this.video&&(this.video.loop=t)}},{key:"readyState",get:function(){return this.video?this.video.readyState:void 0}}])&&u(n.prototype,o),i}()}},137:function(t,e,i){"use strict";var n=i(59),o={};e.a=function(t,e,i,r){return i instanceof n.a&&(r=i,i=void 0),void 0===i&&(i=!0),o.mode=i?1:0,o.end=0,o.duration=e,void 0===r?r=new n.a(t,o):r.resetFromJSON(o),r.restart(),r}},14:function(t,e,i){"use strict";var n=i(4),o=i(0),r=i.n(o);function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var i=r()(e,"states",void 0);i&&this.addStates(i);var n=r()(e,"extend",void 0);if(n)for(var o in n)this.hasOwnProperty(o)&&void 0!==this[o]||(this[o]=n[o]);var s=r()(e,"eventEmitter",void 0),a=r()(e,"EventEmitterClass",void 0);this.setEventEmitter(s,a),this._stateLock=!1,this.resetFromJSON(e)}var e,i;return e=t,(i=[{key:"shutdown",value:function(){this.destroyEventEmitter()}},{key:"destroy",value:function(){this.shutdown()}},{key:"resetFromJSON",value:function(t){this.setEnable(r()(t,"enable",!0)),this.start(r()(t,"start",void 0));var e=r()(t,"init",void 0);return e&&e.call(this),this}},{key:"toJSON",value:function(){return{curState:this.state,prevState:this.prevState,enable:this.enable,start:this._start}}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable=t,this}},{key:"start",value:function(t){return this._start=t,this._prevState=void 0,this._state=t,this}},{key:"goto",value:function(t){return null!=t&&(this.state=t),this}},{key:"next",value:function(){var t,e=this["next_"+this.state];return e&&(t="string"==typeof e?e:e.call(this)),this.goto(t),this}},{key:"addState",value:function(t,e){var i=r()(e,"next",void 0);i&&(this["next_"+t]=i);var n=r()(e,"exit",void 0);n&&(this["exit_"+t]=n);var o=r()(e,"enter",void 0);return o&&(this["enter_"+t]=o),this}},{key:"addStates",value:function(t){for(var e in t)this.addState(e,t[e]);return this}},{key:"update",value:function(t,e,i){void 0===i&&(i="update");var n=this[i+"_"+this.state];n&&n.call(this,t,e)}},{key:"preupdate",value:function(t,e){this.update(t,e,"preupdate")}},{key:"postupdate",value:function(t,e){this.update(t,e,"postupdate")}},{key:"state",set:function(t){if(this.enable&&!this._stateLock&&this._state!==t){if(this._prevState=this._state,this._state=t,this._stateLock=!0,this.emit("statechange",this),null!=this._prevState){var e="exit_"+this._prevState,i=this[e];i&&i.call(this),this.emit(e,this)}if(this._stateLock=!1,null!=this._state){var n="enter_"+this._state,o=this[n];o&&o.call(this),this.emit(n,this)}}},get:function(){return this._state}},{key:"prevState",get:function(){return this._prevState}}])&&s(e.prototype,i),t}();Object.assign(a.prototype,n.a);var h=a;e.a=h},140:function(t,e,i){"use strict";function n(t,e,i){i=i||2;var n,a,h,l,u,p,y,g=e&&e.length,v=g?e[0]*i:t.length,m=o(t,0,v,i,!0),b=[];if(!m||m.next===m.prev)return b;if(g&&(m=function(t,e,i,n){var s,a,h,l=[];for(s=0,a=e.length;s<a;s++)(h=o(t,e[s]*n,s<a-1?e[s+1]*n:t.length,n,!1))===h.next&&(h.steiner=!0),l.push(d(h));for(l.sort(c),s=0;s<l.length;s++)f(l[s],i),i=r(i,i.next);return i}(t,e,m,i)),t.length>80*i){n=h=t[0],a=l=t[1];for(var w=i;w<v;w+=i)(u=t[w])<n&&(n=u),(p=t[w+1])<a&&(a=p),u>h&&(h=u),p>l&&(l=p);y=0!==(y=Math.max(h-n,l-a))?1/y:0}return s(m,b,i,n,a,y),b}function o(t,e,i,n,o){var r,s;if(o===T(t,e,i,n)>0)for(r=e;r<i;r+=n)s=x(r,t[r],t[r+1],s);else for(r=i-n;r>=e;r-=n)s=x(r,t[r],t[r+1],s);return s&&m(s,s.next)&&(O(s),s=s.next),s}function r(t,e){if(!t)return t;e||(e=t);var i,n=t;do{if(i=!1,n.steiner||!m(n,n.next)&&0!==v(n.prev,n,n.next))n=n.next;else{if(O(n),(n=e=n.prev)===n.next)break;i=!0}}while(i||n!==e);return e}function s(t,e,i,n,o,c,f){if(t){!f&&c&&function(t,e,i,n){var o=t;do{null===o.z&&(o.z=p(o.x,o.y,e,i,n)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next}while(o!==t);o.prevZ.nextZ=null,o.prevZ=null,function(t){var e,i,n,o,r,s,a,h,l=1;do{for(i=t,t=null,r=null,s=0;i;){for(s++,n=i,a=0,e=0;e<l&&(a++,n=n.nextZ);e++);for(h=l;a>0||h>0&&n;)0!==a&&(0===h||!n||i.z<=n.z)?(o=i,i=i.nextZ,a--):(o=n,n=n.nextZ,h--),r?r.nextZ=o:t=o,o.prevZ=r,r=o;i=n}r.nextZ=null,l*=2}while(s>1)}(o)}(t,n,o,c);for(var d,y,g=t;t.prev!==t.next;)if(d=t.prev,y=t.next,c?h(t,n,o,c):a(t))e.push(d.i/i),e.push(t.i/i),e.push(y.i/i),O(t),t=y.next,g=y.next;else if((t=y)===g){f?1===f?s(t=l(t,e,i),e,i,n,o,c,2):2===f&&u(t,e,i,n,o,c):s(r(t),e,i,n,o,c,1);break}}}function a(t){var e=t.prev,i=t,n=t.next;if(v(e,i,n)>=0)return!1;for(var o=t.next.next;o!==t.prev;){if(y(e.x,e.y,i.x,i.y,n.x,n.y,o.x,o.y)&&v(o.prev,o,o.next)>=0)return!1;o=o.next}return!0}function h(t,e,i,n){var o=t.prev,r=t,s=t.next;if(v(o,r,s)>=0)return!1;for(var a=o.x<r.x?o.x<s.x?o.x:s.x:r.x<s.x?r.x:s.x,h=o.y<r.y?o.y<s.y?o.y:s.y:r.y<s.y?r.y:s.y,l=o.x>r.x?o.x>s.x?o.x:s.x:r.x>s.x?r.x:s.x,u=o.y>r.y?o.y>s.y?o.y:s.y:r.y>s.y?r.y:s.y,c=p(a,h,e,i,n),f=p(l,u,e,i,n),d=t.prevZ,g=t.nextZ;d&&d.z>=c&&g&&g.z<=f;){if(d!==t.prev&&d!==t.next&&y(o.x,o.y,r.x,r.y,s.x,s.y,d.x,d.y)&&v(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,g!==t.prev&&g!==t.next&&y(o.x,o.y,r.x,r.y,s.x,s.y,g.x,g.y)&&v(g.prev,g,g.next)>=0)return!1;g=g.nextZ}for(;d&&d.z>=c;){if(d!==t.prev&&d!==t.next&&y(o.x,o.y,r.x,r.y,s.x,s.y,d.x,d.y)&&v(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;g&&g.z<=f;){if(g!==t.prev&&g!==t.next&&y(o.x,o.y,r.x,r.y,s.x,s.y,g.x,g.y)&&v(g.prev,g,g.next)>=0)return!1;g=g.nextZ}return!0}function l(t,e,i){var n=t;do{var o=n.prev,r=n.next.next;!m(o,r)&&b(o,n,n.next,r)&&w(o,r)&&w(r,o)&&(e.push(o.i/i),e.push(n.i/i),e.push(r.i/i),O(n),O(n.next),n=t=r),n=n.next}while(n!==t);return n}function u(t,e,i,n,o,a){var h=t;do{for(var l=h.next.next;l!==h.prev;){if(h.i!==l.i&&g(h,l)){var u=k(h,l);return h=r(h,h.next),u=r(u,u.next),s(h,e,i,n,o,a),void s(u,e,i,n,o,a)}l=l.next}h=h.next}while(h!==t)}function c(t,e){return t.x-e.x}function f(t,e){if(e=function(t,e){var i,n=e,o=t.x,r=t.y,s=-1/0;do{if(r<=n.y&&r>=n.next.y&&n.next.y!==n.y){var a=n.x+(r-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=o&&a>s){if(s=a,a===o){if(r===n.y)return n;if(r===n.next.y)return n.next}i=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!i)return null;if(o===s)return i.prev;var h,l=i,u=i.x,c=i.y,f=1/0;for(n=i.next;n!==l;)o>=n.x&&n.x>=u&&o!==n.x&&y(r<c?o:s,r,u,c,r<c?s:o,r,n.x,n.y)&&((h=Math.abs(r-n.y)/(o-n.x))<f||h===f&&n.x>i.x)&&w(n,t)&&(i=n,f=h),n=n.next;return i}(t,e)){var i=k(e,t);r(i,i.next)}}function p(t,e,i,n,o){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*o)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*o)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function d(t){var e=t,i=t;do{e.x<i.x&&(i=e),e=e.next}while(e!==t);return i}function y(t,e,i,n,o,r,s,a){return(o-s)*(e-a)-(t-s)*(r-a)>=0&&(t-s)*(n-a)-(i-s)*(e-a)>=0&&(i-s)*(r-a)-(o-s)*(n-a)>=0}function g(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&b(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(t,e)&&w(t,e)&&w(e,t)&&function(t,e){var i=t,n=!1,o=(t.x+e.x)/2,r=(t.y+e.y)/2;do{i.y>r!=i.next.y>r&&i.next.y!==i.y&&o<(i.next.x-i.x)*(r-i.y)/(i.next.y-i.y)+i.x&&(n=!n),i=i.next}while(i!==t);return n}(t,e)}function v(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function m(t,e){return t.x===e.x&&t.y===e.y}function b(t,e,i,n){return!!(m(t,e)&&m(i,n)||m(t,n)&&m(i,e))||v(t,e,i)>0!=v(t,e,n)>0&&v(i,n,t)>0!=v(i,n,e)>0}function w(t,e){return v(t.prev,t,t.next)<0?v(t,e,t.next)>=0&&v(t,t.prev,e)>=0:v(t,e,t.prev)<0||v(t,t.next,e)<0}function k(t,e){var i=new S(t.i,t.x,t.y),n=new S(e.i,e.x,e.y),o=t.next,r=e.prev;return t.next=e,e.prev=t,i.next=o,o.prev=i,n.next=i,i.prev=n,r.next=n,n.prev=r,n}function x(t,e,i,n){var o=new S(t,e,i);return n?(o.next=n.next,o.prev=n,n.next.prev=o,n.next=o):(o.prev=o,o.next=o),o}function O(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function S(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function T(t,e,i,n){for(var o=0,r=e,s=i-n;r<i;r+=n)o+=(t[s]-t[r])*(t[r+1]+t[s+1]),s=r;return o}t.exports=n,n.deviation=function(t,e,i,n){var o=e&&e.length,r=o?e[0]*i:t.length,s=Math.abs(T(t,0,r,i));if(o)for(var a=0,h=e.length;a<h;a++){var l=e[a]*i,u=a<h-1?e[a+1]*i:t.length;s-=Math.abs(T(t,l,u,i))}var c=0;for(a=0;a<n.length;a+=3){var f=n[a]*i,p=n[a+1]*i,d=n[a+2]*i;c+=Math.abs((t[f]-t[d])*(t[p+1]-t[f+1])-(t[f]-t[p])*(t[d+1]-t[f+1]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},n.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},n=0,o=0;o<t.length;o++){for(var r=0;r<t[o].length;r++)for(var s=0;s<e;s++)i.vertices.push(t[o][r][s]);o>0&&(n+=t[o-1].length,i.holes.push(n))}return i}},141:function(t,e,i){var n=i(183),o=i(184);t.exports=function(t,e,i,r,s){var a=this.pipeline,h=a._tempMatrix1,l=a._tempMatrix2,u=a._tempMatrix3;t.setPipeline(a),l.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),h.copyFrom(r.matrix),s?(h.multiplyWithOffset(s,-r.scrollX*e.scrollFactorX,-r.scrollY*e.scrollFactorY),l.e=e.x,l.f=e.y):(l.e-=r.scrollX*e.scrollFactorX,l.f-=r.scrollY*e.scrollFactorY),h.multiply(l,u);var c=e._displayOriginX,f=e._displayOriginY,p=r.alpha*e.alpha;e.isFilled&&n(a,u,e,p,c,f),e.isStroked&&o(a,e,p,c,f)}},142:function(t,e,i){var n=i(185),o=i(186),r=Phaser.Renderer.Canvas.SetTransform;t.exports=function(t,e,i,s,a){var h=t.currentContext;if(r(t,h,e,s,a)){var l=e._displayOriginX,u=e._displayOriginY,c=e.pathData,f=c.length-1,p=c[0]-l,d=c[1]-u;h.beginPath(),h.moveTo(p,d),e.closePath||(f-=2);for(var y=2;y<f;y+=2){var g=c[y]-l,v=c[y+1]-u;h.lineTo(g,v)}h.closePath(),e.isFilled&&(n(h,e),h.fill()),e.isStroked&&(o(h,e),h.stroke()),h.restore()}}},149:function(t,e,i){"use strict";var n=i(4),o=i(3);function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=Phaser.Utils.Objects.GetValue,a=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=Object(o.a)(e),this.setEventEmitter(s(i,"eventEmitter",void 0)),e.setInteractive(s(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}var e,i;return e=t,(i=[{key:"resetFromJSON",value:function(t){return this.pointer=void 0,this.lastClickTime=void 0,this.setEnable(s(t,"enable",!0)),this.setMode(s(t,"mode",1)),this.setClickInterval(s(t,"clickInterval",100)),this.setDragThreshold(s(t,"threshold",void 0)),this}},{key:"boot",value:function(){this.gameObject.on("pointerdown",this.onPress,this),this.gameObject.on("pointerup",this.onRelease,this),this.gameObject.on("pointerout",this.onPointOut,this),this.gameObject.on("pointermove",this.onMove,this),this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){this.destroyEventEmitter(),this.pointer=void 0,this.gameObject=void 0,this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable===t||(t||this.cancel(),this.enable=t,this.gameObject.input.enabled=t),this}},{key:"setMode",value:function(t){return"string"==typeof t&&(t=h[t]),this.mode=t,this}},{key:"setClickInterval",value:function(t){return this.clickInterval=t,this}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"onPress",value:function(t){void 0===this.pointer&&(this.pointer=t,0===this.mode&&this.click(t.downTime,t))}},{key:"onRelease",value:function(t){this.pointer===t&&(1===this.mode&&this.click(t.upTime,t),this.pointer=void 0)}},{key:"onPointOut",value:function(t){this.pointer===t&&this.cancel()}},{key:"onMove",value:function(t){this.pointer===t&&void 0!==this.dragThreshold&&t.getDistance()>=this.dragThreshold&&this.cancel()}},{key:"click",value:function(t,e){if(void 0===t)return this.emit("click",this,this.gameObject,e),this;this.pointer=void 0;var i=this.lastClickTime;return void 0!==i&&t-i<=this.clickInterval||(this.lastClickTime=t,this.emit("click",this,this.gameObject,e)),this}},{key:"cancel",value:function(){return this.pointer=void 0,this}}])&&r(e.prototype,i),t}();Object.assign(a.prototype,n.a);var h={press:0,pointerdown:0,release:1,pointerup:1};e.a=a},15:function(t,e){var i=Math.PI/180;t.exports=function(t){return t*i}},150:function(t,e,i){"use strict";var n=Phaser.GameObjects.Text;e.a=function(t){return t instanceof n}},158:function(t,e,i){"use strict";var n=i(60),o={};e.a=function(t,e,i,r,s,a){switch(s instanceof n.a&&(a=s,s=void 0),void 0===s&&(s=!0),o.mode=s?1:0,i){case"x":o.end={x:0};break;case"y":o.end={y:0};break;default:o.end=0}return o.duration=e,o.ease=void 0===r?"Linear":r,void 0===a?a=new n.a(t,o):a.resetFromJSON(o),a.restart(),a}},159:function(t,e,i){"use strict";var n=i(60),o={};e.a=function(t,e,i,r,s){switch(o.mode=0,i){case"x":o.start={x:0};break;case"y":o.start={y:0};break;default:o.start=0}return o.end=1,o.duration=e,o.ease=void 0===r?"Cubic":r,void 0===s?s=new n.a(t,o):s.resetFromJSON(o),s.restart(),s}},160:function(t,e,i){"use strict";var n=i(3),o=i(4),r=i(14);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=function(t){function e(t,i){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,h(e).call(this,i))).parent=t,n.init(),n}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,r.a),i=e,(n=[{key:"init",value:function(){this.start("IDLE")}},{key:"next_IDLE",value:function(){var t,e=this.parent;return e.dragState.isDown&&(t=0===e.dragThreshold?"DRAG":"DRAGBEGIN"),t}},{key:"update_IDLE",value:function(t,e){this.next()}},{key:"next_DRAGBEGIN",value:function(){var t=this.parent,e=t.dragState;return e.isDown?e.pointer.getDistance()>=t.dragThreshold?"DRAG":"DRAGBEGIN":"IDLE"}},{key:"update_DRAGBEGIN",value:function(t,e){this.next()}},{key:"next_DRAG",value:function(){var t,e=this.parent;return e.dragState.isUp&&(t=e.outOfBounds?"BACK":e.slidingEnable?"SLIDE":"IDLE"),t}},{key:"update_DRAG",value:function(t,e){var i=this.parent;i.dragState.justMoved&&i.dragging(),this.next()}},{key:"next_SLIDE",value:function(){var t,e=this.parent;return e.dragState.isDown?t="DRAG":e.isSliding||(t="IDLE"),t}},{key:"enter_SLIDE",value:function(){this.parent.onSliding()}},{key:"exit_SLIDE",value:function(){this.parent.stop()}},{key:"update_SLIDE",value:function(t,e){this.parent.sliding(t,e),this.next()}},{key:"next_BACK",value:function(){var t,e=this.parent;return e.dragState.isDown?t="DRAG":e.isPullBack||(t="IDLE"),t}},{key:"enter_BACK",value:function(){this.parent.onPullBack()}},{key:"exit_BACK",value:function(){this.parent.stop()}},{key:"update_BACK",value:function(t,e){this.parent.pullBack(t,e),this.next()}}])&&a(i.prototype,n),e}(),c=i(117);function f(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var p=Phaser.Utils.Objects.GetValue,d=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.resetFromJSON(e)}var e,i;return e=t,(i=[{key:"resetFromJSON",value:function(t){return this.setValue(p(t,"value",0)),this.setSpeed(p(t,"speed",0)),this.setAcceleration(p(t,"acceleration",0)),this}},{key:"reset",value:function(){this.setValue(0),this.setSpeed(0),this.setAcceleration(0)}},{key:"setValue",value:function(t){return this.value=t,this}},{key:"setSpeed",value:function(t){return this.speed=t,this}},{key:"setAcceleration",value:function(t){return this.acceleration=t,this}},{key:"updateSpeed",value:function(t){return 0!==this.acceleration&&(this.speed+=this.acceleration*t,this.speed<0&&(this.speed=0)),this}},{key:"getDeltaValue",value:function(t){return this.updateSpeed(t),this.speed<=0?0:this.speed*t}},{key:"update",value:function(t){return this.updateSpeed(t),this.speed>0&&(this.value+=this.getDeltaValue(t)),this}},{key:"isMoving",get:function(){return this.speed>0}}])&&f(e.prototype,i),t}();function y(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var g=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.value,this.dir,this.movement=new d}var e,i;return e=t,(i=[{key:"init",value:function(t,e,i,n,o){return this.value=t,this.end=o,this.dir=void 0!==o?t<o:e,this.movement.setSpeed(i).setAcceleration(-n),this}},{key:"stop",value:function(){this.movement.reset()}},{key:"update",value:function(t){var e=this.movement.getDeltaValue(t);return this.dir||(e=-e),void 0===this.end?this.value+=e:0===e?this.value=this.end:(this.value+=e,this.dir?this.value>this.end&&(this.value=this.end):this.value<this.end&&(this.value=this.end)),this}},{key:"isMoving",get:function(){return this.movement.isMoving}}])&&y(e.prototype,i),t}();function v(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var m=Phaser.Utils.Objects.GetValue,b=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=Object(n.a)(e),this.setEventEmitter(m(i,"eventEmitter",void 0));var o=m(i,"enable",!0),r={enable:o,eventEmitter:!1};this._state=new u(this,r);var s={inputConfig:m(i,"inputConfig",void 0),enable:o,eventEmitter:!1};this.dragState=new c.a(e,s),this._value=void 0,this._slowDown=new g;var a=m(i,"valuechangeCallback",null);if(null!==a){var h=m(i,"valuechangeCallbackScope",void 0);this.on("valuechange",a,h)}null!==(a=m(i,"overmaxCallback",null))&&(h=m(i,"overmaxCallbackScope",void 0),this.on("overmax",a,h)),null!==(a=m(i,"overminCallback",null))&&(h=m(i,"overminCallbackScope",void 0),this.on("overmin",a,h)),this.resetFromJSON(i),this.boot()}var e,i;return e=t,(i=[{key:"resetFromJSON",value:function(t){this.setOrientationMode(m(t,"orientation",0)),this.setDragThreshold(m(t,"threshold",10)),this.setSlidingDeceleration(m(t,"slidingDeceleration",5e3)),this.setBackDeceleration(m(t,"backDeceleration",2e3));var e=m(t,"bounds",void 0);return e?this.setBounds(e):this.setBounds(m(t,"max",0),m(t,"min",0)),this.setValue(m(t,"value",this.maxValue||0)),this.setEnable(m(t,"enable",!0)),this}},{key:"boot",value:function(){this.scene.events.on("update",this._state.update,this._state),this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){this.destroyEventEmitter(),this.scene&&this.scene.events.off("update",this._state.update,this._state),this.gameObject=void 0,this.scene=void 0,this._state.destroy(),this.dragState.destroy()}},{key:"destroy",value:function(){this.shutdown()}},{key:"setOrientationMode",value:function(t){return"string"==typeof t&&(t=w[t]),this.orientationMode=t,this}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"setSlidingDeceleration",value:function(t){return this.slidingDeceleration=t,this}},{key:"setBackDeceleration",value:function(t){return this.backDeceleration=t,this}},{key:"setBounds",value:function(t,e){if(Array.isArray(t)){var i=t;t=i[0],e=i[1]}return t<e?(this.minValue=t,this.maxValue=e):(this.minValue=e,this.maxValue=t),this}},{key:"setValue",value:function(t){this.value=t}},{key:"setEnable",value:function(t){return this._state.setEnable(t),this.dragState.setEnable(t),this}},{key:"overMax",value:function(t){return null!=this.maxValue&&t>this.maxValue}},{key:"overMin",value:function(t){return null!=this.minValue&&t<this.minValue}},{key:"dragging",value:function(){this.value+=this.dragDelta}},{key:"onSliding",value:function(){var t=this.value,e=this.dragSpeed;if(0===e)return this._slowDown.stop(),void this._state.next();var i=this.slidingDeceleration;this._slowDown.init(t,e>0,Math.abs(e),i)}},{key:"sliding",value:function(t,e){e*=.001;var i=this._slowDown.update(e).value;this.overMax(i)?(this.value=this.maxValue,this._slowDown.stop()):this.overMin(i)?(this.value=this.minValue,this._slowDown.stop()):this.value=i}},{key:"onPullBack",value:function(){var t=this.value,e=this.outOfMinBound?this.minValue:this.maxValue,i=Math.abs(e-t),n=this.backDeceleration,o=Math.sqrt(2*n*i);this._slowDown.init(t,void 0,o,n,e)}},{key:"pullBack",value:function(t,e){e*=.001,this.value=this._slowDown.update(e).value,this._slowDown.isMoving||this._state.next()}},{key:"stop",value:function(){this._slowDown.stop()}},{key:"value",get:function(){return this._value},set:function(t){if(t!==this._value){var e=this._value,i=this.overMax(t),n=this.overMin(t);i&&this.emit("overmax",t,e),n&&this.emit("overmin",t,e),this.backEnable||(i&&(t=this.maxValue),n&&(t=this.minValue)),this._value=t,this.emit("valuechange",t,e)}}},{key:"state",get:function(){return this._state.state}},{key:"isDragging",get:function(){return this.dragState.isInTouched}},{key:"outOfMaxBound",get:function(){return this.overMax(this.value)}},{key:"outOfMinBound",get:function(){return this.overMin(this.value)}},{key:"outOfBounds",get:function(){return this.outOfMinBound||this.outOfMaxBound}},{key:"backEnable",get:function(){return"number"==typeof this.backDeceleration}},{key:"isPullBack",get:function(){return this._slowDown.isMoving}},{key:"slidingEnable",get:function(){return"number"==typeof this.slidingDeceleration}},{key:"isSliding",get:function(){return this._slowDown.isMoving}},{key:"dragDelta",get:function(){return 0===this.orientationMode?this.dragState.dy:1===this.orientationMode?this.dragState.dx:0}},{key:"dragSpeed",get:function(){return 0===this.orientationMode?this.dragState.speedY:1===this.orientationMode?this.dragState.speedX:0}}])&&v(e.prototype,i),t}();Object.assign(b.prototype,o.a);var w={y:0,v:0,vertical:0,x:1,h:1,horizontal:1},k=b;e.a=k},162:function(t,e,i){"use strict";var n=i(3),o=i(150);function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=Phaser.Utils.Objects.GetValue,a=Phaser.Math.Clamp,h=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=Object(n.a)(e),this.setTextObjectType(),this.lines=void 0,this.resetFromJSON(i),this.boot()}var e,i;return e=t,(i=[{key:"resetFromJSON",value:function(t){return this.setText(s(t,"text","")),this.setStartIdx(s(t,"start",0)),this.setPageIdx(s(t,"page",-1)),this}},{key:"toJSON",value:function(){return{text:this.text,start:this.startLineIdx,page:this.pageIndex,pageCount:this.pageCount}}},{key:"boot",value:function(){this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){return void 0===this.lines||(0===this.textObjectType?this.lines.length=0:this.lines.destroy()),this.gameObject=void 0,this.scene=void 0,this}},{key:"destroy",value:function(){this.shutdown()}},{key:"setTextObjectType",value:function(){return this.textObjectType=Object(o.a)(this.gameObject)?0:1,this}},{key:"setText",value:function(t,e){return void 0===e&&(e=!0),this.text=l(t),0===this.textObjectType?this.lines=this.gameObject.getWrappedText(this.text):this.lines=this.gameObject.getPenManager(this.text,this.lines),this.pageCount=Math.ceil(this.totalLinesCount/this.pageLinesCount),e&&this.resetPageIdx(),this}},{key:"appendText",value:function(t){return this.setText(this.text.concat(l(t))),this}},{key:"getPage",value:function(t){return void 0===t&&(t=this.pageIndex),this.setPageIdx(t).getLines()}},{key:"getNextPage",value:function(){return this.getPage(this.pageIndex+1)}},{key:"getPreviousPage",value:function(){return this.getPage(this.pageIndex-1)}},{key:"showPage",value:function(t){return this.displayText(this.getPage()),this}},{key:"showNextPage",value:function(){return this.displayText(this.getNextPage()),this}},{key:"showPreviousPage",value:function(){return this.displayText(this.getPreviousPage()),this}},{key:"show",value:function(){return this.displayText(this.getLines()),this}},{key:"showNextLine",value:function(){return this.displayText(this.setStartIdx(this.startLineIdx+1).getLines()),this}},{key:"showPreviousLine",value:function(){return this.displayText(this.setStartIdx(this.startLineIdx-1).getLines()),this}},{key:"setStartIdx",value:function(t){return t=a(t,0,this.totalLinesCount-1),this.startLineIdx=t,this}},{key:"resetPageIdx",value:function(){this.pageIndex=-1}},{key:"setPageIdx",value:function(t){return t=a(t,0,this.pageCount-1),this.pageIndex=t,this.setStartIdx(this.pageIndex*this.pageLinesCount),this}},{key:"getLines",value:function(t){void 0===t&&(t=this.startLineIdx);var e,i=t+this.pageLinesCount;if(0===this.textObjectType)e=this.lines.slice(t,i).join("\n");else{var n=this.lines.getLineStartIndex(t),o=this.lines.getLineEndIndex(i-1);e=this.lines.getSliceTagText(n,o,!0)}return e}},{key:"displayText",value:function(t){this.gameObject.setText(t)}},{key:"isFirstPage",get:function(){return this.pageIndex<=0}},{key:"isLastPage",get:function(){return this.pageIndex>=this.pageCount-1}},{key:"totalLinesCount",get:function(){return 0===this.textObjectType?this.lines.length:this.lines.linesCount}},{key:"pageLinesCount",get:function(){var t=this.gameObject.style.maxLines;return t>0?t:this.totalLinesCount}}])&&r(e.prototype,i),t}(),l=function(t){return Array.isArray(t)?t=t.join("\n"):"number"==typeof t&&(t=t.toString()),t},u=h;e.a=u},163:function(t,e,i){"use strict";var n=i(3);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e,i){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(i):o.value}})(t,e,i||t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=Phaser.Events.EventEmitter,c=Phaser.Utils.Objects.GetFastValue,f=Phaser.Utils.Objects.GetValue,p=function(t){function e(t,i){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(o=s(this,h(e).call(this))).gameObject=t,o.scene=Object(n.a)(t),o.timer=null,o.resetFromJSON(i),o.boot(),o}var i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,u),i=e,(o=[{key:"resetFromJSON",value:function(t){this.setTypeMode(f(t,"typeMode",0)),this.setTypeSpeed(f(t,"speed",333)),this.setTextCallback=c(t,"setTextCallback",null),this.setTextCallbackScope=c(t,"setTextCallbackScope",null),this.typingIdx=c(t,"typingIdx",0),this.text=d(c(t,"text","")),this.textLen=c(t,"textLen",0),this.insertIdx=c(t,"insertIdx",null);var e=c(t,"elapsed",null);return null!==e&&this.start(void 0,void 0,this.typingIdx,e),this}},{key:"toJSON",value:function(){var t,e=this.getTimer();return t=e?e.elapsed:null,{typeMode:this.typeMode,speed:this.speed,setTextCallback:this.setTextCallback,setTextCallbackScope:this.setTextCallbackScope,typingIdx:this.typingIdx,text:this.text,textLen:this.textLen,insertIdx:this.insertIdx,elapsed:t}}},{key:"boot",value:function(){return this.gameObject.once&&this.gameObject.once("destroy",this.destroy,this),this}},{key:"shutdown",value:function(){return a(h(e.prototype),"shutdown",this).call(this),this.freeTimer(),this.gameObject=void 0,this.scene=void 0,this}},{key:"destroy",value:function(){return this.shutdown(),this}},{key:"setTypeMode",value:function(t){return"string"==typeof t&&(t=y[t]),this.typeMode=t,this}},{key:"setTypeSpeed",value:function(t){return this.speed=t,this}},{key:"start",value:function(t,e,i,n){return void 0!==t&&this.setTypingContent(t),void 0!==e&&(this.speed=e),void 0===i&&(i=0),this.typingIdx=i+1,0===this.speed?this.stop(!0):this.startTimer(n),this}},{key:"appendText",value:function(t){var e=this.text.concat(d(t));return this.isTyping?this.setTypingContent(e):this.start(e,void 0,this.textLen),this}},{key:"stop",value:function(t){return this.getTimer()&&this.freeTimer(),t&&(this.typingIdx=this.textLen,this.setText(this.text),this.emit("type"),this.emit("complete",this,this.gameObject)),this}},{key:"pause",value:function(){var t=this.getTimer();return t&&(t.paused=!0),this}},{key:"resume",value:function(){var t=this.getTimer();return t&&(t.paused=!1),this}},{key:"setTypingContent",value:function(t){return this.text=d(t),this.textLen=this.getTextLength(this.text),this}},{key:"onTyping",value:function(){var t=this.getTypingString(this.text,this.typingIdx,this.textLen,this.typeMode);this.setText(t),this.emit("type"),this.isLastChar?(this.freeTimer(),this.emit("complete",this,this.gameObject)):(this.timer.delay=this.speed,this.typingIdx++)}},{key:"getTypingString",value:function(t,e,i,n){var o;if(0===n){var r=0,s=e;this.insertIdx=s,o=this.getSubString(t,r,s)}else if(1===n)r=(s=i)-e,this.insertIdx=0,o=this.getSubString(t,r,s);else if(2===n){var a=i/2;s=(r=Math.floor(a-e/2))+e,this.insertIdx=e%2?e:0,o=this.getSubString(t,r,s)}else if(3===n){var h,l=Math.floor(e/2);l>0?(r=(s=i)-l,h=this.getSubString(t,r,s)):h="";var u,c=e-l;c>0?(s=(r=0)+c,this.insertIdx=s,u=this.getSubString(t,r,s)):(u="",this.insertIdx=0),o=u+h}return o}},{key:"startTimer",value:function(t){var e;return this.timer&&this.freeTimer(),void 0===t?e=0:(this.speed,e=t),this.timer=this.scene.time.addEvent({delay:0,startAt:e,loop:!0,callback:this.onTyping,callbackScope:this}),this}},{key:"getTimer",value:function(){return this.timer}},{key:"freeTimer",value:function(){return this.timer&&(this.timer.remove(),this.timer=null),this}},{key:"setText",value:function(t){this.setTextCallback&&(t=this.setTextCallbackScope?this.setTextCallback.call(this.setTextCallbackScope,t,this.isLastChar,this.insertIdx):this.setTextCallback(t,this.isLastChar,this.insertIdx)),this.gameObject.setText(t)}},{key:"getTextLength",value:function(t){var e=this.gameObject;return e.getPlainText?e.getPlainText(t).length:t.length}},{key:"getSubString",value:function(t,e,i){var n=this.gameObject;return n.getSubString?n.getSubString(t,e,i):t.slice(e,i)}},{key:"isTyping",get:function(){return null!==this.getTimer()}},{key:"isLastChar",get:function(){return this.typingIdx===this.textLen}}])&&r(i.prototype,o),e}(),d=function(t){return Array.isArray(t)?t=t.join("\n"):"number"==typeof t&&(t=t.toString()),t},y={"left-to-right":0,"right-to-left":1,"middle-to-sides":2,"sides-to-middle":3},g=p;e.a=g},176:function(t,e,i){"use strict";var n=i(10),o=i(3),r=i(0),s=i.n(r),a=i(35),h=i(66),l=i(56),u=i(18);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function p(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t,e,i){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(i):o.value}})(t,e,i||t)}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var v=function(t){function e(t,i){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=p(this,y(e).call(this,t,i))).parent=t,n.scene=Object(o.a)(t),n.resetFromJSON(i),n.boot(),n}var i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(e,n.a),i=e,(r=[{key:"resetFromJSON",value:function(t){return this.isRunning=s()(t,"isRunning",!1),this.state=s()(t,"state",0),this.commands=s()(t,"commands",[]),this.scope=s()(t,"scope",void 0),this.setTimeUnit(s()(t,"timeUnit",0)),this.setDtMode(s()(t,"dtMode",0)),this.setTimeScale(s()(t,"timeScale",1)),this.index=s()(t,"index",0),this.nextDt=s()(t,"nextDt",0),this.seek(s()(t,"now",0)),this.timeScale=s()(t,"timeScale",1),this}},{key:"toJSON",value:function(){return{isRunning:this.isRunning,state:this.state,commands:this.commands,scope:this.scope,timeUnit:this.timeUnit,dtMode:this.dtMode,index:this.index,nextDt:this.nextDt,now:this.now,timeScale:this.timeScale,tickingMode:this.tickingMode}}},{key:"boot",value:function(){d(y(e.prototype),"boot",this).call(this);var t=Object(l.a)(this.parent);t&&t.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){d(y(e.prototype),"shutdown",this).call(this),this.parent=void 0,this.scene=void 0,this.commands=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"startTicking",value:function(){d(y(e.prototype),"startTicking",this).call(this),this.scene.events.on("update",this.update,this)}},{key:"stopTicking",value:function(){d(y(e.prototype),"stopTicking",this).call(this),this.scene&&this.scene.events.off("update",this.update,this)}},{key:"load",value:function(t,e,i){this.stop();var n=s()(i,"timeUnit",void 0);void 0!==n&&this.setTimeUnit(n);var o=s()(i,"dtMode",void 0);return void 0!==o&&this.setDtMode(o),t=t.filter((function(t){var e=t[0];return!isNaN(e)})).map((function(t){return"string"==typeof t[0]&&(t[0]=parseFloat(t[0])),t})),0===this.dtMode&&t.sort((function(t,e){var i=t[0],n=e[0];return i>n?1:i<n?-1:0})),this.commands=t,this.scope=e,this}},{key:"start",value:function(t){return void 0===t&&(t=0),this.stop(),this.index=0,this.isRunning=!0,this.state=1,this.nextDt=this.getNextDt(0),this.seek(t),this.update(),this}},{key:"pause",value:function(){return this.isRunning=!1,this}},{key:"resume",value:function(){return this.isRunning=!0,this}},{key:"stop",value:function(){return this.isRunning=!1,this.state=0,this}},{key:"seek",value:function(t){return this.now=t,this}},{key:"setTimeScale",value:function(t){this.timeScale=t}},{key:"update",value:function(t,e){if(!this.isRunning)return this;if(void 0!==t){if(0===this.timeScale||0===e)return this;this.now+=e*this.timeScale}if(this.nextDt>this.now)return this;for(;;){var i=this.commands[this.index],n=i[1];if(Object(u.a)(n)||(n=Object(a.a)(m,i,1)),Object(h.a)(n,this.scope),this.emit("runcommand",n,this.scope),this.index===this.commands.length-1)return this.complete(),this;if(this.index++,this.nextDt=this.getNextDt(this.nextDt),this.nextDt>this.now)return this}}},{key:"complete",value:function(){d(y(e.prototype),"complete",this).call(this),this.state=2}},{key:"getNextDt",value:function(t){var e=this.commands[this.index][0];return 1===this.timeUnit&&(e*=1e3),1===this.dtMode&&(e+=t),e}},{key:"setDtMode",value:function(t){return"string"==typeof t&&(t=w[t]),this.dtMode=t,this}},{key:"setTimeUnit",value:function(t){return"string"==typeof t&&(t=b[t]),this.timeUnit=t,this}},{key:"isPlaying",get:function(){return this.isRunning}},{key:"completed",get:function(){return 2===this.state}}])&&f(i.prototype,r),e}(),m=[],b={ms:0,s:1,sec:1},w={abs:0,absolute:0,inc:1,increment:1};e.a=v},18:function(t,e,i){"use strict";e.a=function(t){return"[object Array]"===Object.prototype.toString.call(t)}},183:function(t,e){var i=Phaser.Renderer.WebGL.Utils;t.exports=function(t,e,n,o,r,s){for(var a=i.getTintAppendFloatAlphaAndSwap(n.fillColor,n.fillAlpha*o),h=n.pathData,l=n.pathIndexes,u=0;u<l.length;u+=3){var c=2*l[u],f=2*l[u+1],p=2*l[u+2],d=h[c+0]-r,y=h[c+1]-s,g=h[f+0]-r,v=h[f+1]-s,m=h[p+0]-r,b=h[p+1]-s,w=e.getX(d,y),k=e.getY(d,y),x=e.getX(g,v),O=e.getY(g,v),S=e.getX(m,b),T=e.getY(m,b);t.setTexture2D(),t.batchTri(w,k,x,O,S,T,0,0,1,1,a,a,a,t.tintEffect)}}},184:function(t,e){var i=Phaser.Renderer.WebGL.Utils;t.exports=function(t,e,n,o,r){var s=t.strokeTint,a=i.getTintAppendFloatAlphaAndSwap(e.strokeColor,e.strokeAlpha*n);s.TL=a,s.TR=a,s.BL=a,s.BR=a;var h=e.pathData,l=h.length-1,u=e.lineWidth,c=u/2,f=h[0]-o,p=h[1]-r;e.closePath||(l-=2);for(var d=2;d<l;d+=2){var y=h[d]-o,g=h[d+1]-r;t.setTexture2D(),t.batchLine(f,p,y,g,c,c,u,d-2,!!e.closePath&&d===l-1),f=y,p=g}}},185:function(t,e){t.exports=function(t,e,i,n){var o=i||e.fillColor,r=n||e.fillAlpha,s=(16711680&o)>>>16,a=(65280&o)>>>8,h=255&o;t.fillStyle="rgba("+s+","+a+","+h+","+r+")"}},186:function(t,e){t.exports=function(t,e,i,n){var o=i||e.strokeColor,r=n||e.strokeAlpha,s=(16711680&o)>>>16,a=(65280&o)>>>8,h=255&o;t.strokeStyle="rgba("+s+","+a+","+h+","+r+")",t.lineWidth=e.lineWidth}},189:function(t,e,i){"use strict";var n=i(3),o=i(63),r=Phaser.Utils.Objects.GetValue,s=function(t,e){void 0===e&&(e={});var i=t.scene,n=t.style,s=r(e,"backgroundColor",n.backgroundColor);null===s&&(s="transparent"),e.text=r(e,"text",t.text),e.fontFamily=r(e,"fontFamily",n.fontFamily),e.fontSize=r(e,"fontSize",n.fontSize),e.color=r(e,"color",n.color),e.backgroundColor=s;var a=new o.a(i,t.x,t.y,r(e,"width",t.width),r(e,"height",t.height),e);return a.setOrigin(t.originX,t.originY),i.add.existing(a),a},a=i(75);function h(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var l=Phaser.Utils.Objects.GetValue,u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=Object(n.a)(e),this.inputText=void 0,this.onClose=void 0,this.delayCall=void 0,this.boot()}var e,i;return e=t,(i=[{key:"boot",value:function(){return this.gameObject.once("destroy",this.destroy,this),this}},{key:"shutdown",value:function(){return this.close(),this.gameObject=void 0,this.scene=void 0,c===this&&(c=void 0),this}},{key:"destroy",value:function(){return this.shutdown(),this}},{key:"open",value:function(t,e){void 0!==c&&c.close(),c=this,Object(a.a)(t)&&(e=t,t=void 0),void 0===e&&(e=l(t,"onClose",void 0));var i=l(t,"onTextChanged",void 0);return this.inputText=s(this.gameObject,t).on("textchange",(function(t){var e=t.text;i?i(this.gameObject,e):this.gameObject.text=e}),this).setFocus(),this.gameObject.setVisible(!1),this.onClose=e,this.scene.input.keyboard.once("keydown-ENTER",this.close,this),this.delayCall=this.scene.time.delayedCall(0,(function(){this.scene.input.once("pointerdown",this.close,this)}),[],this),this}},{key:"close",value:function(){return c=void 0,this.inputText?(this.gameObject.setVisible(!0),this.inputText.destroy(),this.inputText=void 0,this.delayCall&&(this.delayCall.remove(),this.delayCall=void 0),this.scene.input.keyboard.off("keydown-ENTER",this.close,this),this.scene.input.off("pointerdown",this.close,this),this.onClose&&this.onClose(this.gameObject),this):this}},{key:"isOpened",get:function(){return void 0!==this.inputText}},{key:"text",get:function(){return this.isOpened?this.inputText.text:this.gameObject.text}}])&&h(e.prototype,i),t}(),c=void 0;e.a=u},191:function(t,e,i){"use strict";var n=i(36),o=i(14);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,e,i){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(i):o.value}})(t,e,i||t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=Phaser.Utils.Objects.GetValue,f=function(t){function e(t,i){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=a(n=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?a(t):e}(this,l(e).call(this,t,i))),h={states:{IDLE:{},BEGIN:{enter:function(){var t=s.pointer;s.startX=t.x,s.startY=t.y,s.startWorldX=t.worldX,s.startWorldY=t.worldY}},RECOGNIZED:{enter:function(){s.emit("panstart",s,s.gameObject,s.lastPointer)},exit:function(){var t=s.lastPointer;s.endX=t.x,s.endY=t.y,s.endWorldX=t.worldX,s.endWorldY=t.worldY,s.emit("panend",s,s.gameObject,s.lastPointer)}}},init:function(){this.state=p},eventEmitter:!1};return n.setRecongizedStateObject(new o.a(h)),n}var i,f;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,n.a),i=e,(f=[{key:"resetFromJSON",value:function(t){return h(l(e.prototype),"resetFromJSON",this).call(this,t),this.setDragThreshold(c(t,"threshold",10)),this}},{key:"onDragStart",value:function(){this.state=0===this.dragThreshold?y:d}},{key:"onDragEnd",value:function(){this.state=p}},{key:"onDrag",value:function(){switch(this.state){case d:this.pointer.getDistance()>=this.dragThreshold&&(this.state=y);break;case y:var t=this.pointer.position,e=this.pointer.prevPosition;this.dx=t.x-e.x,this.dy=t.y-e.y;var i=this.pointer;self.x=i.x,self.y=i.y,self.worldX=i.worldX,self.worldY=i.worldY,this.emit("pan",this)}}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"isPan",get:function(){return this.state===y}}])&&s(i.prototype,f),e}(),p="IDLE",d="BEGIN",y="RECOGNIZED";e.a=f},192:function(t,e,i){"use strict";var n=i(108),o=i(14),r=Phaser.Math.RotateAround,s=function(t,e,i,n){return r(t,e,i,n),t.rotation+=n,t},a={};function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,e,i){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(i):o.value}})(t,e,i||t)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d=Phaser.Utils.Objects.GetValue,g=Phaser.Math.Angle.WrapDegrees,v=Phaser.Math.Angle.ShortestBetween,m=Phaser.Math.RadToDeg,b=Phaser.Math.DegToRad,w=function(t){function e(t,i){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=u(n=function(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?u(t):e}(this,f(e).call(this,t,i))),s={states:{IDLE:{enter:function(){r.prevAngle=void 0,r.angle=0}},BEGIN:{},RECOGNIZED:{enter:function(){r.emit("rotatestart",r)},exit:function(){r.emit("rotateend",r)}}},init:function(){this.state=O},eventEmitter:!1};return n.setRecongizedStateObject(new o.a(s)),n}var i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,n.a),i=e,(r=[{key:"resetFromJSON",value:function(t){return c(f(e.prototype),"resetFromJSON",this).call(this,t),this.setDragThreshold(d(t,"threshold",0)),this}},{key:"onDrag2Start",value:function(){this.prevAngle=g(m(this.angleBetween)),this.state=0===this.rotationThreshold?T:S}},{key:"onDrag2End",value:function(){this.state=O}},{key:"onDrag2",value:function(){switch(this.state){case S:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=g(m(this.angleBetween));this.angle=v(this.prevAngle,t),this.prevAngle=t,this.state=T}break;case T:t=g(m(this.angleBetween)),this.angle=v(this.prevAngle,t),this.prevAngle=t,this.emit("rotate",this)}}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"isRotation",get:function(){return this.state===T}},{key:"rotation",get:function(){return b(this.angle)}}])&&l(i.prototype,r),e}(),k={spinObject:function(t,e){if(!this.isRotation)return this;void 0===e&&(e=this.pointers[0].camera);var i=this.movementCenterX,n=this.movementCenterY;e.getWorldPoint(this.centerX,this.centerY,a);var o=a.x,r=a.y,h=this.rotation;if(Array.isArray(t))for(var l=t,u=0,c=l.length;u<c;u++)(t=l[u]).x+=i,t.y+=n,s(t,o,r,h);else t.x+=i,t.y+=n,s(t,x,y,h);return this}};Object.assign(w.prototype,k);var O="IDLE",S="BEGIN",T="RECOGNIZED";e.a=w},195:function(t,e,i){"use strict";var n=i(36),o=i(14),r=Phaser.Math.Distance.Between,s=Phaser.Math.Angle.Between,a={getDt:function(){return this.scene.sys.game.loop.delta},getVelocity:function(){var t=this.pointer.position,e=this.pointer.prevPosition;return r(e.x,e.y,t.x,t.y)/(.001*this.getDt())},getVelocityX:function(){var t=this.pointer.position,e=this.pointer.prevPosition;return Math.abs(t.x-e.x)/(.001*this.getDt())},getVelocityY:function(){var t=this.pointer.position,e=this.pointer.prevPosition;return Math.abs(t.y-e.y)/(.001*this.getDt())},getVelocityAngle:function(){var t=this.pointer.position,e=this.pointer.prevPosition;return s(e.x,e.y,t.x,t.y)}},h=i(111),l=i(112);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t,e,i){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(i):o.value}})(t,e,i||t)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var g=Phaser.Utils.Objects.GetValue,v=Phaser.Math.RadToDeg,m=function(t){function e(t,i){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=f(n=function(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?f(t):e}(this,d(e).call(this,t,i))),s={states:{IDLE:{},BEGIN:{enter:function(){r.validDrag=!1}},RECOGNIZED:{enter:function(){r.start(),r.updateDirectionStates(),r.emit("swipe",r,r.gameObject,r.lastPointer)},exit:function(){r.stop(),r.clearDirectionStates()}}},init:function(){this.state=b},eventEmitter:!1};return n.setRecongizedStateObject(new o.a(s)),n.clearDirectionStates(),n}var i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(e,n.a),i=e,(r=[{key:"resetFromJSON",value:function(t){return p(d(e.prototype),"resetFromJSON",this).call(this,t),this.setDragThreshold(g(t,"threshold",10)),this.setMinDragVelocity(g(t,"velocityThreshold",1e3)),this.setDirectionMode(g(t,"dir","8dir")),this}},{key:"onDragStart",value:function(){this.state=w}},{key:"onDragEnd",value:function(){this.state=b}},{key:"onDrag",value:function(){this.state===w&&(this.vaildDrag||(this.vaildDrag=0===this.dragThreshold||this.pointer.getDistance()>=this.dragThreshold),this.vaildDrag&&this.dragVelocity>this.minDragVelocity&&(this.state=k))}},{key:"postUpdate",value:function(t,e){this.state===k&&(this.state=b)}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"setMinDragVelocity",value:function(t){return this.minDragVelocity=t,this}},{key:"setDirectionMode",value:function(t){return"string"==typeof t&&(t=h.a[t]),this.dirMode=t,this}},{key:"updateDirectionStates",value:function(){var t=v(this.getVelocityAngle());return Object(l.a)(t,this.dirMode,this),this}},{key:"clearDirectionStates",value:function(){return this.left=!1,this.right=!1,this.up=!1,this.down=!1,this}},{key:"isSwiped",get:function(){return this.state===k}},{key:"dragVelocity",get:function(){var t;switch(this.dirMode){case 0:t=this.getVelocityX();break;case 1:t=this.getVelocityY();break;default:t=this.getVelocity()}return t}}])&&c(i.prototype,r),e}();Object.assign(m.prototype,a);var b="IDLE",w="BEGIN",k="RECOGNIZED";e.a=m},2:function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=function(t){return null==t||""===t||0===t.length};e.a=function(t,e,i){if("object"===n(t))if(o(e)){if(null==i)return;"object"===n(i)&&(t=i)}else{"string"==typeof e&&(e=e.split("."));var r=e.pop();(function(t,e,i){void 0===i&&(i={});var r=t;if(o(e));else{var s;"string"==typeof e&&(e=e.split("."));for(var a=0,h=e.length;a<h;a++){var l;null!=r[s=e[a]]&&"object"===n(r[s])||(l=a===h-1?i:{},r[s]=l),r=r[s]}}return r}(t,e))[r]=i}}},25:function(t,e,i){"use strict";var n={add:function(t){return Array.isArray(t)?this.addMultiple(t):this._add(t),this},addMultiple:function(t){return t.forEach(this._add,this),this},_add:function(t){return this.children.add(t),this.resetChildState(t).updateChildVisible(t).updateChildActive(t).updateChildScrollFactor(t).updateChildMask(t),this}},o=Phaser.Math.RotateAround,r={worldToLocal:function(t){return t.x-=this.x,t.y-=this.y,o(t,0,0,-this.rotation),t.x/=this.scaleX,t.y/=this.scaleY,t.x*=this.flipX?-1:1,t.y*=this.flipY?-1:1,t},localToWorld:function(t){return t.x*=this.flipX?-1:1,t.y*=this.flipY?-1:1,t.x*=this.scaleX,t.y*=this.scaleY,o(t,0,0,this.rotation),t.x+=this.x,t.y+=this.y,t}},s=function(t,e){return t===e?1:t/e},a={updateChildPosition:function(t){t.isRexContainerLite&&(t.syncChildrenEnable=!1);var e=this.getLocalState(t);return t.x=e.x,t.y=e.y,this.localToWorld(t),t.scaleX=e.scaleX*this.scaleX,t.scaleY=e.scaleY*this.scaleY,void 0!==t.flipX&&(t.flipX=this.flipX?!e.flipX:e.flipX,t.flipY=this.flipY?!e.flipY:e.flipY),t.rotation=e.rotation+this.rotation,t.isRexContainerLite&&(t.syncChildrenEnable=!0,t.syncPosition()),this},syncPosition:function(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildPosition,this),this},resetChildPositionState:function(t){var e=this.getLocalState(t);return e.x=t.x,e.y=t.y,this.worldToLocal(e),e.scaleX=s(t.scaleX,this.scaleX),e.scaleY=s(t.scaleY,this.scaleY),void 0!==t.flipX&&(e.flipX=t.flipX,e.flipY=t.flipY),e.rotation=t.rotation-this.rotation,this},setChildPosition:function(t,e,i){return t.x=e,t.y=i,this.resetChildPositionState(t),this},setChildLocalPosition:function(t,e,i){var n=this.getLocalState(t);return n.x=e,n.y=i,this.updateChildPosition(t),this}},h={updateChildAlpha:function(t){return t.alpha=this.alpha*this.getLocalState(t).alpha,this},syncAlpha:function(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildAlpha,this),this},resetChildAlphaState:function(t){return this.getLocalState(t).alpha=s(t.alpha,this.alpha),this},setChildAlpha:function(t,e){return t.alpha=e,this.resetChildAlphaState(t),this._add},setChildLocalAlpha:function(t,e){return this.getLocalState(t).alpha=e,this.updateChildAlpha(t),this}};function l(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var u=Phaser.Utils.Array,c={getChildren:function(){return this.children.getChildren()},getAllChildren:function(t){void 0===t&&(t=[]);for(var e,i=this.children.getChildren(),n=0,o=i.length;n<o;n++){var r;e=i[n],t.push(e),e.hasOwnProperty("isRexContainerLite")&&(r=t).push.apply(r,l(e.getAllChildren()))}return t},contains:function(t){if(this.children.contains(t))return!0;for(var e,i=this.children.getChildren(),n=0,o=i.length;n<o;n++)if((e=i[n]).isRexContainerLite&&e.contains(t))return!0;return!1},getByName:function(t){return u.GetFirst(this.list,"name",t)},getRandom:function(t,e){return u.GetRandom(this.list,t,e)},getFirst:function(t,e,i,n){return u.GetFirstElement(this.list,t,e,i,n)},getAll:function(t,e,i,n){return u.GetAll(this.list,t,e,i,n)},count:function(t,e,i,n){return u.CountAllMatching(this.list,t,e,i,n)},swap:function(t,e){return u.Swap(this.list,t,e),this},moveTo:function(t,e){return u.MoveTo(this.list,t,e),this},setAll:function(t,e,i,n){return u.SetAll(this.list,t,e,i,n),this}};function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function d(t,e,i,n){return(d="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(t,e,i,n){var o,r=v(t,e);if(r){if((o=Object.getOwnPropertyDescriptor(r,e)).set)return o.set.call(n,i),!0;if(!o.writable)return!1}if(o=Object.getOwnPropertyDescriptor(n,e)){if(!o.writable)return!1;o.value=i,Object.defineProperty(n,e,o)}else!function(t,e,i){e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i}(n,e,i);return!0})(t,e,i,n)}function y(t,e,i,n,o){if(!d(t,e,i,n||t)&&o)throw new Error("failed to set property");return i}function g(t,e,i){return(g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=v(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(i):o.value}})(t,e,i||t)}function v(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=m(t)););return t}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var w=Phaser.GameObjects.Zone,k=Phaser.GameObjects.Components,x=function(t){function e(t,i,n,o,r,s){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Array.isArray(o)&&(s=o,o=void 0),void 0===o&&(o=1),void 0===r&&(r=1),(a=function(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,m(e).call(this,t,i,n,o,r))).children=t.add.group(),a.type="rexContainerLite",a.isRexContainerLite=!0,a.syncChildrenEnable=!0,a._flipX=!1,a._flipY=!1,a._alpha=1,a._active=!0,a._mask=null,a._scrollFactorX=1,a._scrollFactorY=1,s&&a.add(s),a}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(e,w),i=e,(n=[{key:"destroy",value:function(t){this.scene&&(this.children.destroy(!t),this.children=void 0,g(m(e.prototype),"destroy",this).call(this,t))}},{key:"resize",value:function(t,e){return this.setSize(t,e),this}},{key:"x",get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.syncPosition())}},{key:"y",get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.syncPosition())}},{key:"rotation",get:function(){return g(m(e.prototype),"rotation",this)},set:function(t){this.rotation!==t&&(y(m(e.prototype),"rotation",t,this,!0),this.syncPosition())}},{key:"scaleX",get:function(){return g(m(e.prototype),"scaleX",this)},set:function(t){this.scaleX!==t&&(y(m(e.prototype),"scaleX",t,this,!0),this.syncPosition())}},{key:"scaleY",get:function(){return g(m(e.prototype),"scaleY",this)},set:function(t){this.scaleY!==t&&(y(m(e.prototype),"scaleY",t,this,!0),this.syncPosition())}},{key:"flipX",get:function(){return this._flipX},set:function(t){this._flipX!==t&&(this._flipX=t,this.syncPosition())}},{key:"flipY",get:function(){return this._flipY},set:function(t){this._flipY!==t&&(this._flipY=t,this.syncPosition())}},{key:"visible",get:function(){return g(m(e.prototype),"visible",this)},set:function(t){this.visible!==t&&(y(m(e.prototype),"visible",t,this,!0),this.syncVisible())}},{key:"alpha",get:function(){return this._alpha},set:function(t){this._alpha!==t&&(this._alpha=t,this.syncAlpha())}},{key:"active",get:function(){return this._active},set:function(t){this._active!==t&&(this._active=t,this.syncActive())}},{key:"mask",get:function(){return this._mask},set:function(t){this._mask!==t&&(this._mask=t,this.syncMask())}},{key:"scrollFactorX",get:function(){return this._scrollFactorX},set:function(t){this._scrollFactorX!==t&&(this._scrollFactorX=t,this.syncScrollFactor())}},{key:"scrollFactorY",get:function(){return this._scrollFactorY},set:function(t){this._scrollFactorY!==t&&(this._scrollFactorY=t,this.syncScrollFactor())}},{key:"list",get:function(){return this.children.getChildren()}}])&&p(i.prototype,n),e}();Object.assign(x.prototype,n,{remove:function(t,e){return this.children.remove(t,!1,e),this},clear:function(t){return this.children.clear(!1,t),this}},{getLocalState:function(t){return t.hasOwnProperty("rexContainer")||(t.rexContainer={}),t.rexContainer},resetChildState:function(t){return this.resetChildPositionState(t).resetChildVisibleState(t).resetChildAlphaState(t).resetChildActiveState(t),this},resetChildrenState:function(t){for(var e=0,i=t.length;e<i;e++)this.resetChildState(t[e]);return this},syncProperties:function(){return this.syncPosition().syncVisible().syncAlpha().syncActive().syncScrollFactor().syncMask(),this}},r,a,{updateChildVisible:function(t){return t.visible=this.visible&&this.getLocalState(t).visible,this},syncVisible:function(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildVisible,this),this},resetChildVisibleState:function(t){return this.getLocalState(t).visible=t.visible,this},setChildVisible:function(t,e){return t.visible=e,this.resetChildVisibleState(t),this},setChildLocalVisible:function(t,e){return void 0===e&&(e=!0),this.getLocalState(t).visible=e,this.updateChildVisible(t),this}},h,{updateChildScrollFactor:function(t){return t.setScrollFactor(this.scrollFactorX,this.scrollFactorY),this},syncScrollFactor:function(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildScrollFactor,this),this}},{updateChildActive:function(t){return t.active=this.active&&this.getLocalState(t).active,this},syncActive:function(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildActive,this),this},resetChildActiveState:function(t){return this.getLocalState(t).active=t.active,this},setChildActive:function(t,e){return t.active=e,this.resetChildActiveState(t),this},setChildLocalActive:function(t,e){return void 0===e&&(e=!0),this.getLocalState(t).active=e,this.updateChildActive(t),this}},{updateChildMask:function(t){return null==this.mask||(this.mask.hasOwnProperty("geometryMask")?this.mask.geometryMask:this.mask.bitmapMask)!==t&&(t.mask=this.mask),this},syncMask:function(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildMask,this),this},setMask:function(t){return this.mask=t,this},clearMask:function(t){return void 0===t&&(t=!1),t&&this.mask&&this.mask.destroy(),this.mask=null,this}},{setDepth:function(t){if(this.depth=t,this.children)for(var e=this.getAllChildren(),i=0,n=e.length;i<n;i++)e[i].depth=t;return this},swapDepth:function(t){var e=this.depth,i=t.depth;return this.setDepth(i),t.setDepth(e),this},incDepth:function(t){if(this.depth+=t,this.children)for(var e=this.getAllChildren(),i=0,n=e.length;i<n;i++)e[i].depth+=t;return this}},c,k.Alpha,k.Flip),e.a=x},258:function(t,e,i){"use strict";var n=i(189);e.a=function(t,e,i){return t._edit||(t._edit=new n.a(t)),t._edit.open(e,i),t._edit}},26:function(t,e,i){"use strict";var n=Phaser.Renderer.WebGL.Utils,o=i(9),r=(o.a,o.a,{renderWebGL:function(t,e,i,o,r){if(e.dirty&&(e.updateTexture(),e.dirty=!1),0!==e.width&&0!==e.height){var s=e.frame,a=s.width,h=s.height,l=n.getTintAppendFloatAlpha;this.pipeline.batchTexture(e,s.glTexture,a,h,e.x,e.y,a/e.resolution,h/e.resolution,e.scaleX,e.scaleY,e.rotation,e.flipX,e.flipY,e.scrollFactorX,e.scrollFactorY,e.displayOriginX,e.displayOriginY,0,0,a,h,l(e._tintTL,o.alpha*e._alphaTL),l(e._tintTR,o.alpha*e._alphaTR),l(e._tintBL,o.alpha*e._alphaBL),l(e._tintBR,o.alpha*e._alphaBR),e._isTinted&&e.tintFill,0,0,o,r)}},renderCanvas:function(t,e,i,n,o){0!==e.width&&0!==e.height&&t.batchSprite(e,e.frame,n,o)}}),s=Phaser.Display.Color,a={clear:function(){return this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},fill:function(t){return this.context.fillStyle=t,this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},getPixel:function(t,e,i){void 0===i&&(i=new s);var n=this.context.getImageData(t,e,1,1);return i.setTo(n.data[0],n.data[1],n.data[2],n.data[3]),i},setPixel:function(t,e,i,n,o,r){if("number"!=typeof i){var s=i;i=s.red,n=s.green,o=s.blue,r=s.alpha}void 0===r&&(r=0!==i||0!==n||0!==o?255:0);var a=this.context.createImageData(1,1);return a.data[0]=i,a.data[1]=n,a.data[2]=o,a.data[3]=r,this.context.putImageData(a,t,e),this.dirty=!0,this}};function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=Phaser.Display.Canvas.CanvasPool,d=Phaser.GameObjects.GameObject,y=function(t){function e(t,i,n,o,r){var s,a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===i&&(i=0),void 0===n&&(n=0),void 0===o&&(o=1),void 0===r&&(r=1),(s=!(a=u(e).call(this,t,"rexCanvas"))||"object"!==h(a)&&"function"!=typeof a?c(this):a).renderer=t.sys.game.renderer,s.resolution=t.sys.game.config.resolution,s.canvas=p.create(c(s),s.resolution*o,s.resolution*r),s.context=s.canvas.getContext("2d"),s.dirty=!1,s.setPosition(i,n),s.setSize(o,r),s.setOrigin(.5,.5),s.initPipeline(),s._crop=s.resetCropObject(),s.texture=t.sys.textures.addCanvas(null,s.canvas,!0),s.frame=s.texture.get(),s.frame.source.resolution=s.resolution,s.renderer&&s.renderer.gl&&(s.renderer.deleteTexture(s.frame.source.glTexture),s.frame.source.glTexture=null),s.dirty=!0,t.sys.game.events.on("contextrestored",(function(){this.dirty=!0}),c(s)),s}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,d),i=e,(n=[{key:"getCanvas",value:function(t){return t||(this.dirty=!0),this.canvas}},{key:"needRedraw",value:function(){return this.dirty=!0,this}},{key:"preDestroy",value:function(){p.remove(this.canvas)}},{key:"resize",value:function(t,e){return this.width===t&&this.height===e||(this.setSize(t,e).updateDisplayOrigin(),t*=this.resolution,e*=this.resolution,t=Math.max(Math.ceil(t),1),e=Math.max(Math.ceil(e),1),this.canvas.width=t,this.canvas.height=e,this.dirty=!0),this}}])&&l(i.prototype,n),e}(),g=Phaser.GameObjects.Components;Phaser.Class.mixin(y,[g.Alpha,g.BlendMode,g.ComputedSize,g.Crop,g.Depth,g.Flip,g.GetBounds,g.Mask,g.Origin,g.Pipeline,g.ScrollFactor,g.Tint,g.Transform,g.Visible,r,a,{updateTexture:function(t,e){t&&(e?t.call(e,this.canvas,this.context):t(this.canvas,this.context)),this.canvas.width===this.frame.width&&this.canvas.height===this.frame.height||this.frame.setSize(this.canvas.width,this.canvas.height),this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(this.canvas,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!1;var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=this.width,i.hitArea.height=this.height),this},generateTexture:function(t,e,i,n,o){var r,s=this.canvas,a=this.scene.sys,h=a.game.renderer;void 0===e&&(e=0),void 0===i&&(i=0),void 0===n?n=s.width:n*=this.resolution,void 0===o?o=s.height:o*=this.resolution;var l=(r=a.textures.exists(t)?a.textures.get(t):a.textures.createCanvas(t,n,o)).getSourceImage();l.width!==n&&(l.width=n),l.height!==o&&(l.height=o);var u=l.getContext("2d");return u.clearRect(0,0,n,o),u.drawImage(s,e,i,n,o),h.gl&&r&&h.canvasToTexture(l,r.source[0].glTexture,!0,0),this},loadTexture:function(t,e){var i=this.scene.textures.getFrame(t,e);return i?(this.width!==i.cutWidth||this.height!==i.cutHeight?this.resize(i.cutWidth,i.cutHeight):this.context.clearRect(0,0,i.cutWidth,i.cutHeight),this.context.drawImage(i.source.image,i.cutX,i.cutY,i.cutWidth,i.cutHeight,0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this):this}}]),e.a=y},261:function(t,e,i){"use strict";var n=i(4),o=i(3),r=Phaser.Utils.Objects.IsPlainObject,s=Phaser.Utils.Objects.GetValue,a=function(t,e,i){var n;if(void 0===t)t=i.texture.key,e=i.frame.name;else if(r(t)){var o=t;t=s(o,"key",i.texture.key),e=s(o,"frame",i.frame.name)}else"string"==typeof t||(n=t);return void 0===n&&(n=function(i){i.setTexture(t,e)}),n};function h(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var l=Phaser.Utils.Objects.GetValue,u=Phaser.Utils.Objects.GetAdvancedValue,c=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=Object(o.a)(e),this.setEventEmitter(l(i,"eventEmitter",void 0)),this.scaleStart={},this.scaleEnd={},this.tween=void 0,this.resetFromJSON(i),this.boot()}var e,i;return e=t,(i=[{key:"resetFromJSON",value:function(t){return this.setOrientation(l(t,"orientation",0)),this.setDelay(u(t,"delay",0)),this.setDuration(u(t,"duration",500)),this.setEase(l(t,"ease","Sine")),this.setFrontFace(l(t,"front",void 0)),this.setBackFace(l(t,"back",void 0)),this.setFace(l(t,"face",0)),this}},{key:"boot",value:function(){this.gameObject.once&&this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){return this.destroyEventEmitter(),this.stop(),this.gameObject=void 0,this.scene=void 0,this}},{key:"destroy",value:function(){return this.shutdown(),this}},{key:"setOrientation",value:function(t){return"string"==typeof t&&(t=f[t]),this.orientation=t,this}},{key:"setDelay",value:function(t){return this.delay=t,this}},{key:"setDuration",value:function(t){return this.duration=t,this}},{key:"setEase",value:function(t){return void 0===t&&(t="Linear"),this.ease=t,this}},{key:"setFace",value:function(t){return this.face=t,this}},{key:"toggleFace",value:function(){var t=0===this.face?1:0;return this.setFace(t),this}},{key:"setFrontFace",value:function(t,e){return this.frontFaceCallback=a(t,e,this.gameObject),this}},{key:"setBackFace",value:function(t,e){return this.backFaceCallback=a(t,e,this.gameObject),this}},{key:"start",value:function(){if(this.isRunning)return this;var t={targets:this.gameObject,duration:this.duration/2,ease:this.ease,yoyo:!0,repeat:0,onYoyo:this.toggleFace,onYoyoScope:this,onComplete:this.complete,onCompleteScope:this};return t[0===this.orientation?"scaleX":"scaleY"]={from:1,to:0},this.tween=this.scene.tweens.add(t),this}},{key:"restart",value:function(){return this.stop().start(),this}},{key:"flip",value:function(t){return this.isRunning||(void 0!==t&&this.setDuration(t),this.start()),this}},{key:"stop",value:function(){return this.tween?(this.tween.remove(),this.tween=void 0,this):this}},{key:"complete",value:function(){return this.stop(),this.emit("complete",this,this.gameObject),this}},{key:"isRunning",get:function(){return!!this.tween}},{key:"face",get:function(){return this._face},set:function(t){"string"==typeof t&&(t=p[t]),this._face=t,0===t&&this.frontFaceCallback?this.frontFaceCallback(this.gameObject):1===t&&this.backFaceCallback&&this.backFaceCallback(this.gameObject)}}])&&h(e.prototype,i),t}();Object.assign(c.prototype,n.a);var f={x:0,horizontal:0,y:1,vertical:1},p={front:0,back:1},d=c;e.a=d},262:function(t,e,i){"use strict";var n=Phaser.Geom.Rectangle,o=function(t,e){void 0===e&&(e=new n);var i=t.canvasBounds,o=t.displayScale,r=t.autoCenter;return e.x=i.x>=0?0:-i.x*o.x,e.y=i.y>=0?0:-i.y*o.y,e.width=i.width*o.x-e.x,e.height=i.height*o.y-e.y,1!==r&&2!==r||(e.width-=e.x),1!==r&&3!==r||(e.height-=e.y),e};function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=Phaser.Utils.Objects.GetValue,a=Phaser.Geom.Rectangle,h=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.viewport=new a,this.resetFromJSON(i),this.boot()}var e,i;return e=t,(i=[{key:"resetFromJSON",value:function(t){var e,i;if("string"==typeof t){var n=t.split(",");e=n[0],i=n[1]}else e=s(t,"x","0%+0"),i=s(t,"y","0%+0");e=e.replace("left","0%").replace("right","100%").replace("center","50%").split("%");var o=parseFloat(e[0])/100,r=""===e[1]?0:parseFloat(e[1]);i=i.replace("top","0%").replace("bottom","100%").replace("center","50%").split("%");var a=parseFloat(i[0])/100,h=""===i[1]?0:parseFloat(i[1]);return this.setPercentage(o,a),this.setOffset(r,h),this}},{key:"boot",value:function(){this.scaleManamger.on("resize",this.onResize,this),this.gameObject.once("destroy",this.destroy,this),this.onResize()}},{key:"shutdown",value:function(){this.scaleManamger.off("resize",this.onResize,this),this.gameObject=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"setOffset",value:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.offsetX=t,this.offsetY=e,this}},{key:"setPercentage",value:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.percentageX=t,this.percentageY=e,this}},{key:"onResize",value:function(){o(this.scaleManamger,this.viewport),this.updatePosition()}},{key:"updatePosition",value:function(){return this.gameObject.setPosition(this.x,this.y),this}},{key:"scaleManamger",get:function(){return this.gameObject.scene.scale}},{key:"x",get:function(){return this.viewport.x+this.viewport.width*this.percentageX+this.offsetX}},{key:"y",get:function(){return this.viewport.y+this.viewport.height*this.percentageY+this.offsetY}}])&&r(e.prototype,i),t}();e.a=h},28:function(t,e,i){"use strict";var n=i(9),o=new Phaser.GameObjects.Zone({sys:{queueDepthSort:n.a,events:{once:n.a}}},0,0,1,1);o.setOrigin(0),e.a=o},3:function(t,e,i){"use strict";var n=i(5);e.a=function(t){return Object(n.a)(t)?t:t.scene&&Object(n.a)(t.scene)?t.scene:t.parent&&t.parent.scene&&Object(n.a)(t.parent.scene)?t.parent.scene:void 0}},30:function(t,e,i){"use strict";var n=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i;e.a=function(t){return"string"!=typeof t||(""===t?t=null:n.test(t)?t=parseFloat(t):"false"===screen?t=!1:"true"===t&&(t=!0)),t}},34:function(t,e,i){"use strict";var n=Phaser.Display.Canvas.CanvasPool,o={},r=function(t){var e=n.create(this),i=e.getContext("2d");t.syncFont(e,i);var r=Math.ceil(i.measureText(t.testString).width*t.baselineX),s=r,a=2*s;s=s*t.baselineY|0,e.width=r,e.height=a,i.fillStyle="#f00",i.fillRect(0,0,r,a),i.font=t._font,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(t.testString,0,s);var h=o;if(!i.getImageData(0,0,r,a))return h.ascent=s,h.descent=s+6,h.fontSize=h.ascent+h.descent,n.remove(e),h;var l,u,c=i.getImageData(0,0,r,a).data,f=c.length,p=4*r,d=0,y=!1;for(l=0;l<s;l++){for(u=0;u<p;u+=4)if(255!==c[d+u]){y=!0;break}if(y)break;d+=p}for(h.ascent=s-l,d=f-p,y=!1,l=a;l>s;l--){for(u=0;u<p;u+=4)if(255!==c[d+u]){y=!0;break}if(y)break;d-=p}return h.descent=l-s,h.fontSize=h.ascent+h.descent,n.remove(e),h},s=i(1);function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var h=Phaser.Utils.Objects.GetAdvancedValue,l=Phaser.Utils.Objects.GetValue,u={backgroundColor:["backgroundColor",null],fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],underlineColor:["underline.color","#000"],underlineThickness:["underline.thickness",0],underlineOffset:["underline.offset",0],halign:["halign",0],valign:["valign",0],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],lineSpacing:["lineSpacing",0],rtl:["rtl",!1],testString:["testString","|Mqgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wrapMode:["wrap.mode",1],wrapWidth:["wrap.width",0]},c=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent=e,this.backgroundColor,this.fontFamily,this.fontSize,this.fontStyle,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.underlineColor,this.underlineThickness,this.underlineOffset,this.halign,this.valign,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.lineSpacing,this.rtl,this.testString,this.baselineX,this.baselineY,this._font,this.setStyle(i,!1);var n=l(i,"metrics",!1);this.metrics=n?{ascent:l(n,"ascent",0),descent:l(n,"descent",0),fontSize:l(n,"fontSize",0)}:r(this)}var e,i;return e=t,(i=[{key:"setStyle",value:function(t,e){if(void 0===e&&(e=!0),t&&t.hasOwnProperty("halign")&&"string"==typeof t.halign&&(t.halign=f[t.halign.toLowerCase()]||0),t&&t.hasOwnProperty("valign")&&"string"==typeof t.valign&&(t.valign=p[t.valign.toLowerCase()]||0),t&&t.hasOwnProperty("wrap")){var i=t.wrap;if(i.hasOwnProperty("mode")){var n=i.mode;"string"==typeof n&&(i.mode=d[n])}else i.hasOwnProperty("width")&&(i.mode=1)}for(var o in t&&t.hasOwnProperty("fontSize")&&"number"==typeof t.fontSize&&(t.fontSize=t.fontSize.toString()+"px"),u)this[o]="wrapCallback"===o||"wrapCallbackScope"===o?l(t,u[o][0],u[o][1]):h(t,u[o][0],u[o][1]);var r=l(t,"font",null);this._font=null===r?this.fontStyle+" "+this.fontSize+" "+this.fontFamily:r;var s=l(t,"fill",null);return null!==s&&(this.color=s),e?this.update(!0):this.parent}},{key:"syncFont",value:function(t,e){e.font=this._font}},{key:"syncStyle",value:function(t,e){e.textBaseline="alphabetic",e.fillStyle=this.color,e.strokeStyle=this.stroke,e.lineWidth=this.strokeThickness,e.lineCap="round",e.lineJoin="round"}},{key:"syncShadow",value:function(t,e){e?(t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur):(t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowColor=0,t.shadowBlur=0)}},{key:"update",value:function(t){return t&&(this._font=this.fontStyle+" "+this.fontSize+" "+this.fontFamily,this.metrics=r(this)),this.parent.updateText(t)}},{key:"buildFont",value:function(){var t=this.fontStyle+" "+this.fontSize+" "+this.fontFamily;return t!==this._font&&(this._font=t),this}},{key:"setFont",value:function(t){return"string"==typeof t?(this.fontFamily=t,this.fontSize="",this.fontStyle=""):(this.fontFamily=l(t,"fontFamily","Courier"),this.fontSize=l(t,"fontSize","16px"),this.fontStyle=l(t,"fontStyle","")),this.update(!0)}},{key:"setFontFamily",value:function(t){return this.fontFamily=t,this.update(!0)}},{key:"setFontStyle",value:function(t){return this.fontStyle=t,this.update(!0)}},{key:"setFontSize",value:function(t){return"number"==typeof t&&(t=t.toString()+"px"),this.fontSize=t,this.update(!0)}},{key:"setTestString",value:function(t){return this.testString=t,this.update(!0)}},{key:"setFixedSize",value:function(t,e){return this.fixedWidth=t,this.fixedHeight=e,t&&(this.parent.width=t),e&&(this.parent.height=e),this.update(!1)}},{key:"setResolution",value:function(t){return this.resolution=t,this.update(!1)}},{key:"setLineSpacing",value:function(t){return this.lineSpacing=t,this.update(!1)}},{key:"setBackgroundColor",value:function(t){return this.backgroundColor=t,this.update(!1)}},{key:"setFill",value:function(t){return this.color=t,this.update(!1)}},{key:"setColor",value:function(t){return this.color=t,this.update(!1)}},{key:"setStroke",value:function(t,e){return void 0===t?this.strokeThickness=0:(void 0===e&&(e=this.strokeThickness),this.stroke=t,this.strokeThickness=e),this.update(!0)}},{key:"setShadow",value:function(t,e,i,n,o,r){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i="#000"),void 0===n&&(n=0),void 0===o&&(o=!1),void 0===r&&(r=!0),this.shadowOffsetX=t,this.shadowOffsetY=e,this.shadowColor=i,this.shadowBlur=n,this.shadowStroke=o,this.shadowFill=r,this.update(!1)}},{key:"setShadowOffset",value:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.shadowOffsetX=t,this.shadowOffsetY=e,this.update(!1)}},{key:"setShadowColor",value:function(t){return void 0===t&&(t="#000"),this.shadowColor=t,this.update(!1)}},{key:"setShadowBlur",value:function(t){return void 0===t&&(t=0),this.shadowBlur=t,this.update(!1)}},{key:"setShadowStroke",value:function(t){return this.shadowStroke=t,this.update(!1)}},{key:"setShadowFill",value:function(t){return this.shadowFill=t,this.update(!1)}},{key:"setUnderline",value:function(t,e,i){return void 0===t&&(t="#000"),void 0===e&&(e=0),void 0===i&&(i=0),this.underlineColor=t,this.underlineThickness=e,this.underlineOffset=i,this.update(!1)}},{key:"setUnderlineColor",value:function(t){return void 0===t&&(t="#000"),this.underlineColor=t,this.update(!1)}},{key:"setUnderlineThickness",value:function(t){return void 0===t&&(t=0),this.underlineThickness=t,this.update(!1)}},{key:"setUnderlineOffset",value:function(t){return void 0===t&&(t=0),this.underlineOffset=t,this.update(!1)}},{key:"setWrapMode",value:function(t){return"string"==typeof t&&(t=d[t.toLowerCase()]||0),this.wrapMode=t,this.update(!0)}},{key:"setWrapWidth",value:function(t){return this.wrapWidth=t,this.update(!1)}},{key:"setAlign",value:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),"string"==typeof t&&(t=f[t.toLowerCase()]||0),"string"==typeof e&&(e=f[e.toLowerCase()]||0),this.halign=t,this.valign=e,this.update(!1)}},{key:"setHAlign",value:function(t){return void 0===t&&(t=0),"string"==typeof t&&(t=f[t.toLowerCase()]||0),this.halign=t,this.update(!1)}},{key:"setVAlign",value:function(t){return void 0===t&&(t=0),"string"==typeof t&&(t=f[t.toLowerCase()]||0),this.valign=t,this.update(!1)}},{key:"setMaxLines",value:function(t){return void 0===t&&(t=0),this.maxLines=t,this.update(!1)}},{key:"getTextMetrics",value:function(){var t=this.metrics;return{ascent:t.ascent,descent:t.descent,fontSize:t.fontSize}}},{key:"toJSON",value:function(){var t={};for(var e in u)t[e]=this[e];return t.metrics=this.getTextMetrics(),t}},{key:"destroy",value:function(){this.parent=void 0}},{key:"lineHeight",get:function(){return this.metrics.fontSize+this.strokeThickness+this.lineSpacing}}])&&a(e.prototype,i),t}(),f={left:s.a.hleft,center:s.a.hcenter,right:s.a.hright},p={top:s.a.vtop,center:s.a.vcenter,bottom:s.a.vbottom},d={none:s.a.NO_WRAP,word:s.a.WORD_WRAP,char:s.a.CHAR_WRAP,character:s.a.CHAR_WRAP};e.a=c},35:function(t,e,i){"use strict";e.a=function(t,e,i,n){void 0===i&&(i=0),void 0===n&&(n=e.length),t.length=n-i;for(var o=0,r=t.length;o<r;o++)t[o]=e[o+i];return t}},36:function(t,e,i){"use strict";var n=i(10),o=i(3);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t,e,i){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(i):o.value}})(t,e,i||t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=Phaser.Utils.Objects.GetValue,f=function(t){function e(t,i){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=Object(o.a)(t);return r===t&&(t=void 0),(n=a(this,l(e).call(this,r,i))).scene=r,n.gameObject=t,t&&t.setInteractive(c(i,"inputConfig",void 0)),n.resetFromJSON(i),n.boot(),n}var i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,n.a),i=e,(r=[{key:"resetFromJSON",value:function(t){return this.setEnable(c(t,"enable",!0)),void 0===this.gameObject?this.bounds=c(t,"bounds",void 0):this.bounds=void 0,this.tracerState=p,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,this.isTouchingAnyObject=!1,this}},{key:"boot",value:function(){h(l(e.prototype),"boot",this).call(this),this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.events.once("shutdown",this.destroy,this)}},{key:"shutdown",value:function(){this.gameObject?this.gameObject.off("pointerdown",this.onPointerDown,this):this.scene&&this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene&&(this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.events.off("destroy",this.destroy,this),this.scene=void 0),this.scene=void 0,this.gameObject=void 0,this.bounds=void 0,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,h(l(e.prototype),"shutdown",this).call(this)}},{key:"destroy",value:function(){this.shutdown()}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable===t||(t||this.dragCancel(),this.enable=t),this}},{key:"onPointerDown",value:function(t,e){this.enable&&void 0===this.pointer&&(!this.bounds||this.bounds.contains(t.x,t.y))&&this.pointer!==t&&(this.pointer=t,this.lastPointer=t,this.movedState=!1,this.tracerState=d,void 0===this.gameObject&&(this.isTouchingAnyObject=e.length>0),this.onDragStart())}},{key:"onPointerUp",value:function(t){this.enable&&(!this.bounds||this.bounds.contains(t.x,t.y))&&this.pointer===t&&(this.pointer=void 0,this.movedState=!1,this.tracerState=p,this.onDragEnd())}},{key:"onPointerMove",value:function(t){if(this.enable&&t.isDown){var e=!this.bounds||this.bounds.contains(t.x,t.y),i=this.pointer===t;!i&&e||(i&&!e?this.onPointerUp(t):(this.movedState||(this.movedState=t.x!==t.downX||t.y!==t.downY),this.movedState&&this.onDrag()))}}},{key:"dragCancel",value:function(){return this.tracerState===d&&this.onDragEnd(),this.pointer=void 0,this.tracerState=p,this}},{key:"onDragStart",value:function(){this.emit("dragstart",this)}},{key:"onDragEnd",value:function(){this.emit("dragend",this)}},{key:"onDrag",value:function(){this.emit("drag",this)}},{key:"preUpdate",value:function(t,e){}},{key:"postUpdate",value:function(t,e){}},{key:"startTicking",value:function(){h(l(e.prototype),"startTicking",this).call(this),this.scene.events.on("preupdate",this.preUpdate,this),this.scene.events.on("postupdate",this.postUpdate,this)}},{key:"stopTicking",value:function(){h(l(e.prototype),"stopTicking",this).call(this),this.scene&&(this.scene.events.off("preupdate",this.preUpdate,this),this.scene.events.off("postupdate",this.postUpdate,this))}},{key:"setRecongizedStateObject",value:function(t){return this.recongizedState=t,this}},{key:"cancel",value:function(){return this.state=y,this}},{key:"state",get:function(){return this.recongizedState.state},set:function(t){this.recongizedState.state=t}}])&&s(i.prototype,r),e}(),p=0,d=1,y="IDLE";e.a=f},376:function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i.r(e);var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scene=e}var e,i;return e=t,(i=[{key:"register",value:function(e,i){t.prototype[e]=i}}])&&n(e,i),t}(),r=i(52).a,s=i(2);o.register("roundRectangle",(function(t,e,i,n,o,s,a){var h=new r(this.scene,t,e,i,n,o,s,a);return this.scene.add.existing(h),h})),Object(s.a)(window,"RexPlugins.UI.RoundRectangle",r);var a=i(55).a;o.register("BBCodeText",(function(t,e,i,n){var o=new a(this.scene,t,e,i,n);return this.scene.add.existing(o),o})),Object(s.a)(window,"RexPlugins.UI.BBCodeText",a);var h=i(54).a;o.register("tagText",(function(t,e,i,n){var o=new h(this.scene,t,e,i,n);return this.scene.add.existing(o),o})),Object(s.a)(window,"RexPlugins.UI.TagText",h);var l=i(25).a;o.register("container",(function(t,e,i,n,o){var r=new l(this.scene,t,e,i,n,o);return this.scene.add.existing(r),r})),Object(s.a)(window,"RexPlugins.UI.Container",l);var u=i(26);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function p(t,e,i){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(i):o.value}})(t,e,i||t)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var g=function(t){function e(t,i,n,o,r,s){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(a=function(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,d(e).call(this,t,i,n,o,r))).type="rexChart",a.chart=void 0,void 0!==s&&a.setChart(s),a}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(e,u.a),i=e,(n=[{key:"destroy",value:function(t){this.scene&&(this.chart&&(this.chart.destroy(),this.chart=void 0),p(d(e.prototype),"destroy",this).call(this,t))}},{key:"resize",value:function(t,i){if(t===this.width&&i===this.height)return this;if(p(d(e.prototype),"resize",this).call(this,t,i),this.chart){var n=this.chart;n.height=this.canvas.height,n.width=this.canvas.width,n.aspectRatio=n.height?n.width/n.height:null,n.update()}return this}}])&&f(i.prototype,n),e}(),v={setChart:function(t){return window.Chart?(this.chart&&this.chart.destroy(),this.chart=new Chart(this.context,function(t,e){void 0===e&&(e={}),void 0===e.options&&(e.options={});var i=e.options;i.responsive=!1,i.maintainAspectRatio=!1,i.hasOwnProperty("devicePixelRatio")||(i.devicePixelRatio=1);var n=!1;void 0===i.animation?i.animation={}:!1===i.animation&&(n=!0,i.animation={});var o=i.animation;n&&(o.duration=0);var r=o.onProgress;o.onProgress=function(e){r&&r(e),t.needRedraw()};var s=o.onComplete;return o.onComplete=function(e){s&&s(e),t.needRedraw()},e}(this,t)),this):(console.error("Can not find chartjs! Load chartjs in preload stage.\nscene.load.script('chartjs', 'https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.min.js');"),this)},getChartDataset:function(t){if(void 0!==this.chart){if("string"!=typeof t)return this.chart.data.datasets[t];for(var e,i=this.chart.data.datasets,n=0,o=i.length;n<o;n++)if((e=i[n]).label===t)return e}},getChartData:function(t,e){var i=this.getChartDataset(t);if(void 0!==i){if("string"==typeof e&&-1===(e=this.chart.data.labels.indexOf(e)))return;return i.data[e]}},setChartData:function(t,e,i){if(void 0===this.chart)return this;var n=this.getChartDataset(t);return"string"==typeof e&&-1===(e=this.chart.data.labels.indexOf(e))||(n.data[e]=i),this},updateChart:function(){if(void 0===this.chart)return this;this.chart.update()}};Object.assign(g.prototype,v);var m=g;o.register("chart",(function(t,e,i,n,o){var r=new m(this.scene,t,e,i,n,o);return this.scene.add.existing(r),r})),Object(s.a)(window,"RexPlugins.UI.Chart",m);var b=i(89).a;o.register("circleMaskImage",(function(t,e,i,n,o){var r=new b(this.scene,t,e,i,n,o);return this.scene.add.existing(r),r})),Object(s.a)(window,"RexPlugins.UI.CircleMaskImage",b);var w=i(83).a;o.register("video",(function(t,e,i,n,o){var r=new w(this.scene,t,e,i,n,o);return this.scene.add.existing(r),r})),Object(s.a)(window,"RexPlugins.UI.Video",w);var k=i(88).a;o.register("youtubePlayer",(function(t,e,i,n,o){var r=new k(this.scene,t,e,i,n,o);return this.scene.add.existing(r),r})),Object(s.a)(window,"RexPlugins.UI.YoutubePlayer",k);var x=function(t){return t.hasOwnProperty("rexSizer")||(t.rexSizer={}),t.rexSizer},O=i(119),S=new Phaser.Geom.Rectangle,T=function(t,e){return void 0===this.childrenMap&&(this.childrenMap={}),this.childrenMap[t]=e,this},P=/(\S+)\[(\d+)\]/i,C=[],_=i(159),j=Phaser.Utils.Objects.IsPlainObject,M=Phaser.Utils.Objects.GetValue,B=i(158),A=Phaser.Utils.Objects.IsPlainObject,E=Phaser.Utils.Objects.GetValue,W=i(59),R={},F=Phaser.Utils.Objects.IsPlainObject,I=Phaser.Utils.Objects.GetValue,D=i(137),L=Phaser.Utils.Objects.IsPlainObject,z=Phaser.Utils.Objects.GetValue,Y=void 0,H=i(51),N=i(28),X=Phaser.Display.Align.In.QuickSet,G=Phaser.Display.Align.CENTER,U=function(t,e,i){var n=this.getTopmostSizer();n.x+=e-this.x,n.y+=i-this.y},V={getSizerConfig:x,pushIntoBounds:function(t){return void 0===t&&(t=Object(O.a)(this.scene)),this.left=Math.max(this.left,t.left),this.right=Math.min(this.right,t.right),this.top=Math.max(this.top,t.top),this.bottom=Math.min(this.bottom,t.bottom),this},drawBounds:function(t,e){void 0===e&&(e=16777215);for(var i,n=this.getAllChildren([this]),o=0,r=n.length;o<r;o++)(i=n[o]).getBounds&&t.lineStyle(1,e).strokeRectShape(i.getBounds(S));return this},getChildrenWidth:function(){return 0},getChildrenHeight:function(){return 0},addChildrenMap:T,addElement:T,getElement:function(t){if(void 0!==this.childrenMap&&("string"==typeof t&&(t=t.split(".")),0!==t.length)){var e,i=t.shift();if("#"===i.charAt(0)){i=i.substring(1);for(var n=0,o=(r=function t(e,i){var n;for(var o in void 0===i&&(i=[]),e)void 0!==(n=e[o]).name?i.push(n):t(n,i);return i}(this.childrenMap,C)).length;n<o;n++)if(r[n].name===i){e=r[n];break}C.length=0}else if(-1===i.indexOf("["))e=this.childrenMap[i];else{var r,s=i.match(P);null!=s&&(r=this.childrenMap[s[1]])&&(e=r[s[2]])}return 0===t.length?e:e&&e.childrenMap?e.getElement(t):null}},getAllChildrenSizers:function(t){void 0===t&&(t=[]);for(var e=t.length,i=this.getChildrenSizers(t),n=t.length,o=e;o<n;o++)i[o].getAllChildrenSizers(t);return t},getChildrenSizers:function(t){return void 0===t&&(t=[]),t},layout:function(t,e,i){},layoutBackgrounds:function(){if(void 0!==this.backgroundChildren)for(var t,e=this.backgroundChildren,i=this.left,n=this.top,o=this.width,r=this.height,s=0,a=e.length;s<a;s++)(t=e[s]).rexSizer.hidden||(Object(H.a)(t,o,r),N.a.setPosition(i,n).setSize(o,r),X(t,N.a,G),this.resetChildPositionState(t))},layoutInit:function(t){if(!t)for(var e,i=this.getAllChildrenSizers([this]),n=0,o=i.length;n<o;n++)(e=i[n]).rexSizer&&e._layoutInit()},_layoutInit:function(){},popUp:function(t,e,i){if(j(t)){var n=t;t=M(n,"duration",void 0),e=M(n,"orientation",void 0),i=M(n,"ease",void 0)}return this._scale=Object(_.a)(this,t,e,i,this._scale),this},scaleDownDestroy:function(t,e,i,n){if(A(t)){var o=t;t=E(o,"duration",void 0),e=E(o,"orientation",void 0),i=E(o,"ease",void 0),n=E(o,"destroy",void 0)}return this._scale=Object(B.a)(this,t,e,i,n,this._scale),this},fadeIn:function(t){return F(t)&&(t=I(t,"duration",void 0)),this._fade=function(t,e,i,n){return void 0===i&&(i=t.alpha),R.mode=0,R.start=0,R.end=i,R.duration=e,void 0===n?n=new W.a(t,R):n.resetFromJSON(R),n.restart(),n}(this,t,this._fade),this},fadeOutDestroy:function(t,e){if(L(t)){var i=t;t=z(i,"duration",void 0),e=z(i,"destroy",void 0)}return this._fade=Object(D.a)(this,t,e,this._fade),this},isInTouching:function(t){if(void 0===Y&&(Y=new Phaser.Geom.Rectangle),this.getBounds(Y),void 0!==t)return Y.contains(t.x,t.y);for(var e=this.scene.input.manager,i=e.pointersTotal,n=e.pointers,o=0;o<i;o++)if(t=n[o],Y.contains(t.x,t.y))return!0;return!1},getTopmostSizer:function(t){void 0===t&&(t=this);for(var e=x(t).parent;e;)e=x(t=e).parent;return t},setDraggable:function(t){return void 0===t&&(t=!0),this.input&&this.input.hasOwnProperty("draggable")?this.input.draggable=t:t&&(this.setInteractive(),this.scene.input.setDraggable(this),this.on("drag",U,this)),this}},K=i(262);function J(t){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Z(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Q(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q(t,e,i){return(q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=$(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(i):o.value}})(t,e,i||t)}function $(t){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tt(t,e){return(tt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var et=Phaser.Utils.Objects.GetValue,it=function(t){function e(t,i,n,o,r,s){var a,h,l,u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),"string"==typeof i&&(h=i,l=n,i=0,n=0),(a=!(u=$(e).call(this,t,i,n,2,2))||"object"!==J(u)&&"function"!=typeof u?Q(this):u).isRexSizer=!0,a.setMinSize(o,r),a.setName(et(s,"name","")),a.rexSizer={},a.backgroundChildren=void 0,void 0!==h&&(a._anchor=new K.a(Q(a),{x:h,y:l})),a.setDraggable(et(s,"draggable",!1)),a}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tt(t,e)}(e,l),i=e,(n=[{key:"destroy",value:function(t){this.scene&&(void 0!==this.backgroundChildren&&(this.backgroundChildren.length=0),q($(e.prototype),"destroy",this).call(this,t))}},{key:"setMinSize",value:function(t,e){return this.setMinWidth(t).setMinHeight(e),this}},{key:"setMinWidth",value:function(t){return null==t&&(t=0),this.minWidth=t,this}},{key:"setMinHeight",value:function(t){return null==t&&(t=0),this.minHeight=t,this}},{key:"alignLeft",value:function(t){return this.left=t,this}},{key:"alignRight",value:function(t){return this.right=t,this}},{key:"alignCenterX",value:function(t){return this.centerX=t,this}},{key:"alignTop",value:function(t){return this.top=t,this}},{key:"alignBottom",value:function(t){return this.bottom=t,this}},{key:"alignCenterY",value:function(t){return this.centerY=t,this}},{key:"pin",value:function(t){return q($(e.prototype),"add",this).call(this,t),this}},{key:"addBackground",value:function(t){return void 0===this.backgroundChildren&&(this.backgroundChildren=[]),q($(e.prototype),"add",this).call(this,t),this.getSizerConfig(t).parent=this,this.backgroundChildren.push(t),this}},{key:"childrenWidth",get:function(){return void 0===this._childrenWidth&&(this._childrenWidth=this.getChildrenWidth()),this._childrenWidth}},{key:"childrenHeight",get:function(){return void 0===this._childrenHeight&&(this._childrenHeight=this.getChildrenHeight()),this._childrenHeight}},{key:"left",get:function(){return this.x-this.displayWidth*this.originX},set:function(t){this.x+=t-this.left}},{key:"right",get:function(){return this.x-this.displayWidth*this.originX+this.displayWidth},set:function(t){this.x+=t-this.right}},{key:"centerX",get:function(){return(this.left+this.right)/2},set:function(t){this.x+=t-this.centerX}},{key:"top",get:function(){return this.y-this.displayHeight*this.originY},set:function(t){this.y+=t-this.top}},{key:"bottom",get:function(){return this.y-this.displayHeight*this.originY+this.displayHeight},set:function(t){this.y+=t-this.bottom}},{key:"centerY",get:function(){return(this.top+this.bottom)/2},set:function(t){this.y+=t-this.centerY}}])&&Z(i.prototype,n),e}();Object.assign(it.prototype,V);var nt=it,ot=function(t,e){var i,n=e.rexSizer,o=n.padding;return 0===t.orientation?n.proportion>0&&t.proportionLength>0&&(i=n.proportion*t.proportionLength):n.expand&&(i=t.width-o.left-o.right),i},rt=function(t,e){var i,n=e.rexSizer,o=n.padding;return 0===t.orientation?n.expand&&(i=t.height-o.top-o.bottom):n.proportion>0&&t.proportionLength>0&&(i=n.proportion*t.proportionLength),i},st=Phaser.Display.Align.In.QuickSet,at={getChildrenWidth:function(t){if(this.rexSizer.hidden)return 0;void 0===t&&(t=!0);var e,i,n,o=0,r=this.sizerChildren;if(0===this.orientation)for(var s=0,a=r.length;s<a;s++)(e=r[s]).rexSizer.hidden||(n=0===e.rexSizer.proportion||t&&e.rexSizer.proportion>0?e.isRexSizer?Math.max(e.minWidth,e.childrenWidth):e.width:0,o+=n+=(i=e.rexSizer.padding).left+i.right);else for(s=0,a=r.length;s<a;s++)(e=r[s]).hasOwnProperty("rexSizer")&&(e.rexSizer.hidden||(n=e.isRexSizer?Math.max(e.minWidth,e.childrenWidth):e.width,n+=(i=e.rexSizer.padding).left+i.right,o=Math.max(n,o)));return o},getChildrenHeight:function(t){if(this.rexSizer.hidden)return 0;void 0===t&&(t=!0);var e,i,n,o=0,r=this.sizerChildren;if(0===this.orientation)for(var s=0,a=r.length;s<a;s++)(e=r[s]).rexSizer.hidden||(n=e.isRexSizer?Math.max(e.minHeight,e.childrenHeight):e.height,n+=(i=e.rexSizer.padding).top+i.bottom,o=Math.max(n,o));else for(s=0,a=r.length;s<a;s++)(e=r[s]).hasOwnProperty("rexSizer")&&(e.rexSizer.hidden||(n=0===e.rexSizer.proportion||t&&e.rexSizer.proportion>0?e.isRexSizer?Math.max(e.minHeight,e.childrenHeight):e.height:0,o+=n+=(i=e.rexSizer.padding).top+i.bottom));return o},getChildrenProportion:function(){for(var t,e,i=0,n=this.sizerChildren,o=0,r=n.length;o<r;o++)(t=n[o]).rexSizer.hidden||(e=t.rexSizer.proportion)>0&&(i+=e);return i},getChildrenSizers:function(t){void 0===t&&(t=[]);for(var e,i=this.sizerChildren,n=0,o=i.length;n<o;n++)(e=i[n]).isRexSizer&&t.push(e);return t},layout:function(t,e,i){if(this.rexSizer.hidden)return this;var n;if(this.layoutInit(t),void 0===e&&(e=Math.max(this.childrenWidth,this.minWidth)),void 0===i&&(i=Math.max(this.childrenHeight,this.minHeight)),this.resize(e,i),this.childrenProportion>0){var o=0===this.orientation?this.width-this.childrenWidth:this.height-this.childrenHeight;n=o>0?(o=0===this.orientation?this.width-this.getChildrenWidth(!1):this.height-this.getChildrenHeight(!1))/this.childrenProportion:0}else n=0;this.proportionLength=n;for(var r,s,a,h,l,u,c,f,p,d=this.sizerChildren,y=this.left,g=this.top,v=0,m=d.length;v<m;v++)(r=d[v]).rexSizer.hidden||(a=(s=r.rexSizer).padding,f=ot(this,r),p=rt(this,r),r.isRexSizer?r.layout(this,f,p):Object(H.a)(r,f,p),void 0===f&&(f=r.width),void 0===p&&(p=r.height),0===this.orientation?(h=y+a.left,u=0===s.proportion||0===n?f:s.proportion*n,l=g+a.top,c=this.height-a.top-a.bottom):(h=y+a.left,u=this.width-a.left-a.right,l=g+a.top,c=0===s.proportion||0===n?p:s.proportion*n),N.a.setPosition(h,l).setSize(u,c),st(r,N.a,s.align),this.resetChildPositionState(r),0===this.orientation?y+=u+a.left+a.right:g+=c+a.top+a.bottom);return this.layoutBackgrounds(),this},_layoutInit:function(){this._childrenWidth=void 0,this._childrenHeight=void 0,this._childrenProportion=void 0}},ht=Phaser.Utils.Objects.GetValue,lt=function(t,e){return void 0===e&&(e={}),"number"==typeof t?(e.left=t,e.right=t,e.top=t,e.bottom=t):(e.left=ht(t,"left",0),e.right=ht(t,"right",0),e.top=ht(t,"top",0),e.bottom=ht(t,"bottom",0)),e},ut={x:0,h:0,horizontal:0,"left-to-right":0,y:1,v:1,vertical:1,"top-to-bottom":1},ct=Phaser.Display.Align,ft={center:ct.CENTER,left:ct.LEFT_CENTER,right:ct.RIGHT_CENTER,top:ct.TOP_CENTER,bottom:ct.BOTTOM_CENTER,"left-top":ct.TOP_LEFT,"left-center":ct.LEFT_CENTER,"left-bottom":ct.LEFT_BOTTOM,"center-top":ct.TOP_CENTER,"center-center":ct.CENTER,"center-bottom":ct.BOTTOM_CENTER,"right-top":ct.TOP_RIGHT,"right-center":ct.RIGHT_CENTER,"right-bottom":ct.RIGHT_BOTTOM};function pt(t){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function yt(t,e,i){return(yt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=gt(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(i):o.value}})(t,e,i||t)}function gt(t){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vt(t,e){return(vt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var mt=Phaser.Utils.Objects.IsPlainObject,bt=Phaser.Utils.Objects.GetValue,wt=Phaser.Utils.Array.Remove,kt=Phaser.Display.Align.CENTER,xt=function(t){function e(t,i,n,o,r,s){var a,h;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),mt(i)?(i=bt(h=i,"x",0),n=bt(h,"y",0),o=bt(h,"width",void 0),r=bt(h,"height",void 0)):mt(o)?(o=bt(h=o,"width",void 0),r=bt(h,"height",void 0)):mt(s)&&(h=s),void 0!==h&&(s=bt(h,"orientation",0)),void 0===s&&(s=0),(a=function(t,e){return!e||"object"!==pt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,gt(e).call(this,t,i,n,o,r,h))).type="rexSizer",a.sizerChildren=[],a.setOrientation(s),a}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vt(t,e)}(e,nt),i=e,(n=[{key:"destroy",value:function(t){this.scene&&(this.sizerChildren.length=0,yt(gt(e.prototype),"destroy",this).call(this,t))}},{key:"setOrientation",value:function(t){return"string"==typeof t&&(t=ut[t]),this.orientation=t,this}},{key:"add",value:function(t,i,n,o,r){yt(gt(e.prototype),"add",this).call(this,t);var s=pt(i);if(null===i)return this;if("number"===s);else if("string"===s)i=Ot[i];else if(mt(i)){var a;i=bt(a=i,"proportion",0),n=bt(a,"align",kt),o=bt(a,"padding",0),r=bt(a,"expand",!1)}return"string"==typeof n&&(n=ft[n]),void 0===i&&(i=0),void 0===n&&(n=kt),void 0===o&&(o=0),void 0===r&&(r=!1),(a=this.getSizerConfig(t)).parent=this,a.proportion=i,a.align=n,a.padding=lt(o),a.expand=r,this.sizerChildren.push(t),this}},{key:"insert",value:function(t,e,i,n,o,r){return this.add(e,i,n,o,r),this.moveTo(e,t),this}},{key:"remove",value:function(t){var i=this.getSizerConfig(t);return i.parent!==this||(i.parent=void 0,wt(this.sizerChildren,t),yt(gt(e.prototype),"remove",this).call(this,t)),this}},{key:"clear",value:function(t){for(var i=0,n=this.sizerChildren.length;i<n;i++)this.getSizerConfig(this.sizerChildren[i]).parent=void 0;return this.sizerChildren.length=0,yt(gt(e.prototype),"clear",this).call(this,t),this}},{key:"childrenProportion",get:function(){return void 0===this._childrenProportion&&(this._childrenProportion=this.getChildrenProportion()),this._childrenProportion}}])&&dt(i.prototype,n),e}();Object.assign(xt.prototype,at);var Ot={min:0,full:-1},St=xt;o.register("sizer",(function(t,e,i,n,o){var r=new St(this.scene,t,e,i,n,o);return this.scene.add.existing(r),r})),Object(s.a)(window,"RexPlugins.UI.Sizer",St);var Tt=function(t,e){var i,n=t.rexSizer;if(n.expand){var o=n.padding;i=e-o.left-o.right}return i},Pt=function(t,e){var i,n=t.rexSizer;if(n.expand){var o=n.padding;i=e-o.top-o.bottom}return i},Ct=Phaser.Display.Align.In.QuickSet,_t={getChildrenWidth:function(){if(this.rexSizer.hidden)return 0;for(var t,e,i,n,o,r=0,s=this.gridChildren,a=0;a<this.columnCount;a++){if(t=0,void 0===(o=this.columnProportions[a])||0===o){for(var h=0;h<this.rowCount;h++)(e=s[h*this.columnCount+a])&&(e.rexSizer.hidden||(n=e.isRexSizer?Math.max(e.minWidth,e.childrenWidth):e.width,n+=(i=e.rexSizer.padding).left+i.right,t=Math.max(t,n)));r+=t}this.columnWidth[a]=t}return r},getChildrenHeight:function(){if(this.rexSizer.hidden)return 0;for(var t,e,i,n,o,r=0,s=this.gridChildren,a=0;a<this.rowCount;a++){if(t=0,void 0===(o=this.rowProportions[a])||0===o){for(var h=0;h<this.columnCount;h++)(e=s[a*this.columnCount+h])&&(e.rexSizer.hidden||(n=e.isRexSizer?Math.max(e.minHeight,e.childrenHeight):e.height,n+=(i=e.rexSizer.padding).top+i.bottom,t=Math.max(t,n)));r+=t}this.rowHeight[a]=t}return r},getChildrenSizers:function(t){void 0===t&&(t=[]);for(var e,i=this.gridChildren,n=0,o=i.length;n<o;n++)(e=i[n])&&e.isRexSizer&&t.push(e);return t},layout:function(t,e,i){if(this.rexSizer.hidden)return this;this.layoutInit(t);var n,o,r,s,a=this.totalColumnProportions,h=this.totalRowProportions;if(void 0===e)if(t&&a>0){var l=this.rexSizer.padding;e=t.width-l.left-l.right}else e=Math.max(this.childrenWidth,this.minWidth);void 0===i&&(t&&h>0?(l=this.rexSizer.padding,i=t.height-l.top-l.bottom):i=Math.max(this.childrenHeight,this.minHeight)),this.resize(e,i),n=a>0?(this.width-this.childrenWidth)/a:0,o=h>0?(this.height-this.childrenHeight)/h:0;for(var u,c,f,p,d,y,g,v,m,b,w=this.left,k=w,x=this.top,O=0;O<this.rowCount;O++){b=0===(v=this.rowProportions[O]||0)?this.rowHeight[O]:v*o,k=w;for(var S=0;S<this.columnCount;S++)m=0===(g=this.columnProportions[S]||0)?this.columnWidth[S]:g*n,(r=this.gridChildren[O*this.columnCount+S])&&!r.rexSizer.hidden?(d=Tt(r,m),y=Pt(r,b),r.isRexSizer?r.layout(this,d,y):Object(H.a)(r,d,y),u=k+(l=(s=r.rexSizer).padding).left,f=m-l.left-l.right,c=x+l.top,p=b-l.top-l.bottom,N.a.setPosition(u,c).setSize(f,p),Ct(r,N.a,s.align),this.resetChildPositionState(r),k+=m):k+=m;x+=b}return this.layoutBackgrounds(),this},_layoutInit:function(){this._childrenWidth=void 0,this._childrenHeight=void 0}};function jt(t){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Bt(t,e,i){return(Bt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=At(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(i):o.value}})(t,e,i||t)}function At(t){return(At=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Et(t,e){return(Et=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Wt=Phaser.Utils.Objects.IsPlainObject,Rt=Phaser.Utils.Objects.GetValue,Ft=Phaser.Utils.Array.Remove,It=Phaser.Display.Align.CENTER,Dt=function(t){function e(t,i,n,o,r,s,a,h,l){var u,c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Wt(i)?(i=Rt(c=i,"x",0),n=Rt(c,"y",0),o=Rt(c,"width",void 0),r=Rt(c,"height",void 0),s=Rt(c,"column",0),a=Rt(c,"row",0),h=Rt(c,"columnProportions",void 0),l=Rt(c,"rowProportions",void 0)):Wt(o)?(o=Rt(c=o,"width",void 0),r=Rt(c,"height",void 0),s=Rt(c,"column",0),a=Rt(c,"row",0),h=Rt(c,"columnProportions",void 0),l=Rt(c,"rowProportions",void 0)):Wt(s)?(s=Rt(c=s,"column",0),a=Rt(c,"row",0),h=Rt(c,"columnProportions",void 0),l=Rt(c,"rowProportions",void 0)):Wt(h)&&(h=Rt(c=h,"columnProportions",void 0),l=Rt(c,"rowProportions",void 0)),(u=function(t,e){return!e||"object"!==jt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,At(e).call(this,t,i,n,o,r,c))).type="rexGridSizer",u.initialGrid(s,a,h,l),u}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Et(t,e)}(e,nt),i=e,(n=[{key:"destroy",value:function(t){this.scene&&(this.gridChildren.length=0,Bt(At(e.prototype),"destroy",this).call(this,t))}},{key:"setColumnProportion",value:function(t,e){return t>=this.columnProportions.length||(this.columnProportions[t]=e),this}},{key:"setRowProportion",value:function(t,e){return t>=this.rowProportions.length||(this.rowProportions[t]=e),this}},{key:"add",value:function(t,i,n,o,r,s){var a;return Bt(At(e.prototype),"add",this).call(this,t),Wt(i)&&(i=Rt(a=i,"column",0),n=Rt(a,"row",0),o=Rt(a,"align",It),r=Rt(a,"padding",0),s=Rt(a,"expand",!1)),"string"==typeof o&&(o=ft[o]),void 0===o&&(o=It),void 0===r&&(r=0),void 0===s&&(s=!0),(a=this.getSizerConfig(t)).parent=this,a.align=o,a.padding=lt(r),a.expand=s,this.gridChildren[n*this.columnCount+i]=t,this}},{key:"remove",value:function(t){var i=this.getSizerConfig(t);return i.parent!==this||(i.parent=void 0,Ft(this.gridChildren,t),void 0!==this.backgroundChildren&&Ft(this.backgroundChildren,t),Bt(At(e.prototype),"remove",this).call(this,t)),this}},{key:"initialGrid",value:function(t,e,i,n){if(this.columnCount=t,this.rowCount=e,this.gridChildren=[],this.gridChildren.length=t*e,this.columnProportions=[],this.columnProportions.length=t,this.columnWidth=[],this.columnWidth.length=t,this.rowProportions=[],this.rowProportions.length=e,this.rowHeight=[],this.rowHeight.length=e,i)for(var o="number"==typeof i,r=0;r<t;r++)if(o)this.setColumnProportion(r,i);else{var s=i[r];s>0&&this.setColumnProportion(r,s)}if(n){var a="number"==typeof n;for(r=0;r<e;r++)if(a)this.setRowProportion(r,n);else{var h=n[r];h>0&&this.setRowProportion(r,h)}}return this}},{key:"totalColumnProportions",get:function(){for(var t,e=0,i=0;i<this.columnCount;i++)(t=this.columnProportions[i])>0&&(e+=t);return e}},{key:"totalRowProportions",get:function(){for(var t,e=0,i=0;i<this.rowCount;i++)(t=this.rowProportions[i])>0&&(e+=t);return e}}])&&Mt(i.prototype,n),e}();Object.assign(Dt.prototype,_t);var Lt=Dt;o.register("gridSizer",(function(t,e,i,n,o,r,s,a){var h=new Lt(this.scene,t,e,i,n,o,r,s,a);return this.scene.add.existing(h),h})),Object(s.a)(window,"RexPlugins.UI.GridSizer",Lt);var zt=function(t){var e=t.rexSizer.padding;return t.width+e.left+e.right},Yt=function(t){var e=t.rexSizer.padding;return t.height+e.top+e.bottom},Ht=function(t,e){return 0===e?zt(t):Yt(t)},Nt=function(t,e){return 0===e?Yt(t):zt(t)},Xt=function(t){for(var e,i,n,o,r={lines:[],width:0,height:0},s=this.sizerChildren,a=0,h=r.lines,l=0,u=s.length;l<u;l++){if("\n"===(e=s[l]))e=void 0,i=0,o=!0;else{if(e.rexSizer.hidden)continue;e.isRexSizer&&e.layout(),o=a<(i=Ht(e,this.orientation))}if(o){if(n){var c=t-(a+this.itemSpacing);r.width=Math.max(r.width,c),r.height+=n.height+this.lineSpacing}n={children:[],remainder:0,height:0},h.push(n),a=t}a-=i+this.itemSpacing,n.remainder=a,e&&(n.children.push(e),n.height=Math.max(n.height,Nt(e,this.orientation)))}return n&&(r.height+=n.height),r},Gt=Phaser.Display.Align.In.QuickSet,Ut={getChildrenWidth:function(){return this.rexSizer.hidden?0:(t=0===this.orientation?this.maxChildWidth:0,t=Math.max(t,this.minWidth));var t},getChildrenHeight:function(){return this.rexSizer.hidden?0:(t=0===this.orientation?0:this.maxChildHeight,t=Math.max(t,this.minHeight));var t},getChildrenSizers:function(t){void 0===t&&(t=[]);for(var e,i=this.sizerChildren,n=0,o=i.length;n<o;n++)"\n"!==(e=i[n])&&e.isRexSizer&&t.push(e);return t},layout:function(t,e,i){if(this.rexSizer.hidden)return this;if(this.layoutInit(t),void 0===e){var n=this.padding;e=Math.max(this.maxChildWidth+n.left+n.right,this.minWidth)}var o;void 0===i&&(n=this.padding,i=Math.max(this.maxChildHeight+n.top+n.bottom,this.minHeight)),n=this.padding,o=0===this.orientation?e-n.left-n.right:i-n.top-n.bottom;var r,s,a=Xt.call(this,o);0===this.orientation?i=Math.max(i,a.height+n.top+n.bottom):e=Math.max(e,a.height+left+n.right),this.resize(e,i);var h,l,u,c,f,p,d,y,g=this.left,v=this.top,m=a.lines;0===this.orientation?(h=g,l=v+this.padding.top):(h=g+this.padding.left,l=v);for(var b=0,w=m.length;b<w;b++){for(var k=0,x=(y=(d=m[b]).children).length;k<x;k++)n=(s=(r=y[k]).rexSizer).padding,0===this.orientation?(u=h+n.left,u+=0===k?this.padding.left:this.itemSpacing,c=l+n.top,f=r.width,p=r.height,h=u+r.width+n.right):(u=h+n.left,c=l+n.top,c+=0===k?this.padding.top:this.itemSpacing,f=r.width,p=r.height,l=c+r.height+n.bottom),N.a.setPosition(u,c).setSize(f,p),Gt(r,N.a,s.align),this.resetChildPositionState(r);0===this.orientation?(h=g,l+=d.height+this.lineSpacing):(h+=d.height+this.lineSpacing,l=v)}return this.layoutBackgrounds(),this}},Vt=function(t){void 0===t&&(t=this.sizerChildren);for(var e,i=0,n=0,o=t.length;n<o;n++)"\n"!==(e=t[n])&&(i=Math.max(i,zt(e)));return i},Kt=function(t){void 0===t&&(t=this.sizerChildren);for(var e,i=0,n=0,o=t.length;n<o;n++)"\n"!==(e=t[n])&&(i=Math.max(i,Yt(e)));return i};function Jt(t){return(Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Qt(t,e,i){return(Qt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=qt(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(i):o.value}})(t,e,i||t)}function qt(t){return(qt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $t(t,e){return($t=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var te=Phaser.Utils.Objects.IsPlainObject,ee=Phaser.Utils.Objects.GetValue,ie=Phaser.Utils.Array.Remove,ne=Phaser.Display.Align.CENTER,oe=function(t){function e(t,i,n,o,r,s,a){var h,l;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),te(i)?(i=ee(l=i,"x",0),n=ee(l,"y",0),o=ee(l,"width",void 0),r=ee(l,"height",void 0)):te(o)?(o=ee(l=o,"width",void 0),r=ee(l,"height",void 0)):te(s)?l=s:te(a)&&(l=a),void 0!==l&&(s=ee(l,"orientation",0),a=ee(l,"space",l)),void 0===s&&(s=0),void 0===a&&(a=0),(h=function(t,e){return!e||"object"!==Jt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,qt(e).call(this,t,i,n,o,r,l))).type="rexFixWidthSizer",h.sizerChildren=[],h.setOrientation(s),h.setPadding(a),h.setItemSpacing(ee(a,"item",0)),h.setLineSpacing(ee(a,"line",0)),h}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$t(t,e)}(e,nt),i=e,(n=[{key:"destroy",value:function(t){this.scene&&(this.sizerChildren.length=0,Qt(qt(e.prototype),"destroy",this).call(this,t))}},{key:"setOrientation",value:function(t){return"string"==typeof t&&(t=ut[t]),this.orientation=t,this}},{key:"setPadding",value:function(t){return this.padding=lt(t,this.padding),this}},{key:"setItemSpacing",value:function(t){return this.itemSpacing=t,this}},{key:"setLineSpacing",value:function(t){return this.lineSpacing=t,this}},{key:"add",value:function(t,i){if("\n"===t)return this.addNewLine(),this;Qt(qt(e.prototype),"add",this).call(this,t),void 0===i&&(i=0);var n=this.getSizerConfig(t);return n.parent=this,n.align=ne,n.padding=lt(i),this.sizerChildren.push(t),this}},{key:"addNewLine",value:function(){return this.sizerChildren.push("\n"),this}},{key:"insert",value:function(t,e,i,n){return this.add(e,i,n),this.moveTo(e,t),this}},{key:"remove",value:function(t){var i=this.getSizerConfig(t);return i.parent!==this||(i.parent=void 0,ie(this.sizerChildren,t),Qt(qt(e.prototype),"remove",this).call(this,t)),this}},{key:"clear",value:function(t){for(var i,n=this.sizerChildren,o=0,r=n.length;o<r;o++)"\n"!==(i=n[o])&&(this.getSizerConfig(i).parent=void 0);return n.length=0,Qt(qt(e.prototype),"clear",this).call(this,t),this}},{key:"maxChildWidth",get:function(){return void 0===this._maxChildWidth&&(this._maxChildWidth=Vt.call(this)),this._maxChildWidth}},{key:"maxChildHeight",get:function(){return void 0===this._maxChildHeight&&(this._maxChildHeight=Kt.call(this)),this._maxChildHeight}}])&&Zt(i.prototype,n),e}();Object.assign(oe.prototype,Ut);var re=oe;o.register("fixWidthSizer",(function(t,e,i,n,o,r){var s=new re(this.scene,t,e,i,n,o,r);return this.scene.add.existing(s),s})),Object(s.a)(window,"RexPlugins.UI.FixWidthSizer",re);var se=i(61);function ae(t){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function he(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function le(t,e,i){return(le="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ue(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(i):o.value}})(t,e,i||t)}function ue(t){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ce(t,e){return(ce=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var fe=Phaser.Utils.Objects.GetValue,pe=function(t){function e(t,i){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==ae(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,ue(e).call(this,t,i))).type="rexLabel";var o=fe(i,"background",void 0),r=fe(i,"icon",void 0),s=fe(i,"iconMask",void 0),a=fe(i,"text",void 0),h=fe(i,"action",void 0),l=fe(i,"actionMask",void 0),u=fe(i,"space.left",0),c=fe(i,"space.right",0),f=fe(i,"space.top",0),p=fe(i,"space.bottom",0),d=fe(i,"space.icon",0),y=fe(i,"space.text",0);if(o&&n.addBackground(o),r&&(v=0===n.orientation?{left:u,right:a||h?d:c,top:f,bottom:p}:{left:u,right:c,top:f,bottom:a||h?d:p},n.add(r,0,"center",v),s&&(s=new se.a(r,1),r.setMask(s.createGeometryMask()),n.add(s,null))),a){var g,v,m,b=fe(i,"expandTextWidth",!1),w=fe(i,"expandTextHeight",!1);0===n.orientation?(g=b?1:0,v={left:r?0:u,right:h?y:c,top:f,bottom:p},m=w):(g=w?1:0,v={left:u,right:c,top:r?0:f,bottom:h?y:p},m=b),n.add(a,g,"center",v,m)}return h&&(v=0===n.orientation?{left:r||a?0:u,right:c,top:f,bottom:p}:{left:u,right:c,top:r||a?0:f,bottom:p},n.add(h,0,"center",v),l&&(l=new se.a(h,1),r.setMask(l.createGeometryMask()),n.add(l,null))),n.addChildrenMap("background",o),n.addChildrenMap("icon",r),n.addChildrenMap("iconMask",s),n.addChildrenMap("text",a),n.addChildrenMap("action",h),n.addChildrenMap("actionMask",l),n}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ce(t,e)}(e,St),i=e,(n=[{key:"setText",value:function(t){return this.text=t,this}},{key:"appendText",value:function(t){this.text+=t}},{key:"layout",value:function(t,i,n){le(ue(e.prototype),"layout",this).call(this,t,i,n);var o=this.childrenMap.iconMask;o&&(o.setPosition(),this.resetChildPositionState(o));var r=this.childrenMap.actionMask;return r&&(r.setPosition(),this.resetChildPositionState(r)),this}},{key:"resize",value:function(t,i){le(ue(e.prototype),"resize",this).call(this,t,i);var n=this.childrenMap.iconMask;n&&n.resize();var o=this.childrenMap.actionMask;return o&&o.resize(),this}},{key:"text",get:function(){var t=this.childrenMap.text;return void 0===t?"":t.text?t.text:t.getData("text")},set:function(t){var e=this.childrenMap.text;void 0!==e&&(e.setText?e.setText(t):e.setData("text",t))}}])&&he(i.prototype,n),e}();o.register("label",(function(t){var e=new pe(this.scene,t);return this.scene.add.existing(e),e})),Object(s.a)(window,"RexPlugins.UI.Label",pe);var de=function(t,e,i){return void 0===e&&(e=0),void 0===i&&(i=0),t.add.zone(0,0,e,i)},ye=i(149),ge=function(t,e){t._buttonBehavior=new ye.a(t,e),t._buttonBehavior.on("click",(function(e,i,n){ve.call(this,"button.click",t,n)}),this),t.on("pointerover",(function(e){ve.call(this,"button.over",t,e)}),this).on("pointerout",(function(e){ve.call(this,"button.out",t,e)}),this)},ve=function(t,e,i){var n;if("number"==typeof e){if(n=e,!(e=this.childrenMap.buttons[n]))return}else if(-1===(n=this.childrenMap.buttons.indexOf(e)))return;void 0!==this.groupName?this.eventEmitter.emit(t,e,this.groupName,n,i):this.eventEmitter.emit(t,e,n,i)},me=function(t){ke(t,!1)},be=function(t){ke(t,!0)},we=function(t){return!!t&&!x(t).hidden},ke=function(t,e){t&&(x(t).hidden=e,t.setVisible(!e))},xe={getButton:function(t){var e;return"number"==typeof t?e=this.childrenMap.buttons[t]:(e=t,-1===this.childrenMap.buttons.indexOf(e)&&(e=void 0)),e},emitButtonClick:function(t){return ve.call(this,"button.click",t),this},showButton:function(t){return me(this.getButton(t)),this},hideButton:function(t){return be(this.getButton(t)),this},isButtonShown:function(t){return we(this.getButton(t)),this},forEachButtton:function(t,e){for(var i=this.childrenMap.buttons,n=0,o=i.length;n<o;n++)e?t.call(e,i[n],n,i):t(i[n],n,i);return this}};function Oe(t){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Se(t){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Te(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pe(t,e){return(Pe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ce=Phaser.Utils.Objects.GetValue,_e=function(t){function e(t,i){var n,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===i&&(i={}),(n=!(o=Se(e).call(this,t,i))||"object"!==Oe(o)&&"function"!=typeof o?Te(this):o).type="rexButtons",n.eventEmitter=Ce(i,"eventEmitter",Te(n)),n.groupName=Ce(i,"groupName",void 0);var r=Ce(i,"background",void 0),s=Ce(i,"buttons",void 0);s&&0===s.length&&(s=void 0);var a=Ce(i,"space",0);if(r&&n.addBackground(r),s){var h,l,u=Ce(i,"align",void 0),c=Ce(i,"click",void 0);"right"!==u&&"bottom"!==u&&"center"!==u||n.add(de(t),1,"center",0,!1);for(var f=0,p=s.length;f<p;f++)h=s[f],l=0===n.orientation?{left:f>=1?a:0,right:0,top:0,bottom:0}:{left:0,right:0,top:f>=1?a:0,bottom:0},n.add(h,0,"center",l,!0),ge.call(Te(n),h,c);"center"===u&&n.add(de(t),1,"center",0,!1)}return n.addChildrenMap("background",r),n.addChildrenMap("buttons",s||[]),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pe(t,e)}(e,St),e}();Object.assign(_e.prototype,xe);var je,Me=_e;function Be(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}o.register("buttons",(function(t){var e=new Me(this.scene,t);return this.scene.add.existing(e),e})),Object(s.a)(window,"RexPlugins.UI.Buttons",Me);var Ae=(Be(je={getChoice:function(t){return this.childrenMap.choicesSizer.getButton(t)},getAction:function(t){return this.childrenMap.actionsSizer.getButton(t)},emitChoiceClick:function(t){return this.childrenMap.choicesSizer.emitButtonClick(t),this},emitActionClick:function(t){return this.childrenMap.actionsSizer.emitButtonClick(t),this},showChoice:function(t){return this.childrenMap.choicesSizer.showButton(t),this},showAction:function(t){return this.childrenMap.actionsSizer.showButton(t),this},hideChoice:function(t){return this.childrenMap.choicesSizer.hideButton(t),this},hideAction:function(t){return this.childrenMap.actionsSizer.hideButton(t),this},forEachChoice:function(t,e){return this.childrenMap.choicesSizer.forEachButtton(t,e),this}},"forEachChoice",(function(t,e){return this.childrenMap.choicesSizer.forEachButtton(t,e),this})),Be(je,"forEachAction",(function(t,e){return this.childrenMap.actionsSizer.forEachButtton(t,e),this})),je);function Ee(t){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function We(t){return(We=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Re(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fe(t,e){return(Fe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ie=Phaser.Utils.Objects.GetValue,De=function(t){function e(t,i){var n,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===i&&(i={}),i.orientation=1,(n=!(o=We(e).call(this,t,i))||"object"!==Ee(o)&&"function"!=typeof o?Re(this):o).type="rexDialog",n.eventEmitter=Ie(i,"eventEmitter",Re(n));var r=Ie(i,"background",void 0),s=Ie(i,"title",void 0),a=Ie(i,"toolbar",void 0);a&&0===a.length&&(a=void 0);var h,l,u=Ie(i,"content",void 0),c=Ie(i,"description",void 0),f=Ie(i,"choices",void 0);f&&0===f.length&&(f=void 0);var p=Ie(i,"actions",void 0);p&&0===p.length&&(p=void 0);var d,y=Ie(i,"click",void 0),g=Ie(i,"space.left",0),v=Ie(i,"space.right",0),m=Ie(i,"space.top",0),b=Ie(i,"space.bottom",0);if(r&&n.addBackground(r),s&&!a){var w=Ie(i,"align.title","center"),k=Ie(i,"space.title",0),x={left:g,right:v,top:m,bottom:u||c||f||p?k:b},O=Ie(i,"expand.title",!0);n.add(s,0,w,x,O)}if(a&&(d=new Me(t,{groupName:"toolbar",buttons:a,orientation:0,space:Ie(i,"space.toolbarItem",0),click:y,eventEmitter:n.eventEmitter})),a&&!s&&(k=Ie(i,"space.title",0),x={left:g,right:v,top:m,bottom:u||c||f||p?k:b},O=Ie(i,"expand.toolbar",!0),n.add(d,0,"center",x,O)),s&&a){var S=new St(t,{orientation:0});w=Ie(i,"align.title","left"),(O=Ie(i,"expand.title",!0))||"right"!==w&&"center"!==w||S.add(de(t),1,"center",0,!1),x={left:Ie(i,"space.titleLeft",0),right:Ie(i,"space.titleRight",0),top:0,bottom:0},S.add(s,O?1:0,"center",x,O),O||"left"!==w&&"center"!==w||S.add(de(t),1,"center",0,!1),S.add(d,0,"right",0,!1),k=Ie(i,"space.title",0),x={left:g,right:v,top:m,bottom:u||c||f||p?k:b},n.add(S,0,"center",x,!0)}if(u){w=Ie(i,"align.content","center");var T=Ie(i,"space.content",0);x={left:g+Ie(i,"space.contentLeft",0),right:v+Ie(i,"space.contentRight",0),top:s||a?0:m,bottom:c||f||p?T:b},O=Ie(i,"expand.content",!0),n.add(u,0,w,x,O)}if(c){w=Ie(i,"align.description","center");var P=Ie(i,"space.description",0);x={left:g+Ie(i,"space.descriptionLeft",0),right:v+Ie(i,"space.descriptionRight",0),top:s||a||u?0:m,bottom:f||p?P:b},O=Ie(i,"expand.description",!0),n.add(c,0,w,x,O)}if(f){w=Ie(i,"align.choices","center"),h=new Me(t,{groupName:"choices",buttons:f,orientation:1,space:Ie(i,"space.choice",0),click:y,eventEmitter:n.eventEmitter});var C=Ie(i,"space.choices",0);x={left:g+Ie(i,"space.choicesLeft",0),right:v+Ie(i,"space.choicesRight",0),top:s||a||u||c?0:m,bottom:p?C:b},O=Ie(i,"expand.choices",!0),n.add(h,0,w,x,O)}return p&&(l=new Me(t,{groupName:"actions",buttons:p,orientation:0,space:Ie(i,"space.action",0),align:Ie(i,"align.actions","center"),click:y,eventEmitter:n.eventEmitter}),x={left:g+Ie(i,"space.actionsLeft",0),right:v+Ie(i,"space.actionsRight",0),top:s||a||u||c||f?0:m,bottom:b},O=Ie(i,"expand.actions",!0),n.add(l,0,"center",x,O)),n.addChildrenMap("background",r),n.addChildrenMap("title",s),n.addChildrenMap("toolbar",a),n.addChildrenMap("content",u),n.addChildrenMap("choices",f),n.addChildrenMap("actions",p),n.addChildrenMap("choicesSizer",h),n.addChildrenMap("actionsSizer",l),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fe(t,e)}(e,St),e}();Object.assign(De.prototype,Ae);var Le=De;o.register("dialog",(function(t){var e=new Le(this.scene,t);return this.scene.add.existing(e),e})),Object(s.a)(window,"RexPlugins.UI.Dialog",Le);var ze={getButtonsSizer:function(t){return this.childrenMap[t+"ButtonsSizer"]},getButton:function(t,e){var i=this.getButtonsSizer(t);return i?i.getButton(e):void 0},emitButtonClick:function(t,e){var i=this.getButtonsSizer(t);return i?(i.emitButtonClick(e),this):this},emitLeftButtonClick:function(t){return this.childrenMap.leftButtonsSizer.emitButtonClick(t),this},emitRightButtonClick:function(t){return this.childrenMap.rightButtonsSizer.emitButtonClick(t),this},emitTopButtonClick:function(t){return this.childrenMap.topButtonsSizer.emitButtonClick(t),this},emitBottomButtonClick:function(t){return this.childrenMap.bottomButtonsSizer.emitButtonClick(t),this},getLeftButton:function(t){return this.childrenMap.leftButtonsSizer.getButton(t)},getRightButton:function(t){return this.childrenMap.rightButtonsSizer.getButton(t)},getTopButton:function(t){return this.childrenMap.topButtonsSizer.getButton(t)},getBottomButton:function(t){return this.childrenMap.bottomButtonsSizer.getButton(t)},showButton:function(t,e){return me(this.getButton(t,e)),this},showLeftButton:function(t){return me(this.getLeftButton(t)),this},showRightButton:function(t){return me(this.getRightButton(t)),this},showTopButton:function(t){return me(this.getTopButton(t)),this},showBottomButton:function(t){return me(this.getBottomButton(t)),this},hideButton:function(t,e){return be(this.getButton(t,e)),this},hideLeftButton:function(t){return be(this.getLeftButton(t)),this},hideRightButton:function(t){return be(this.getRightButton(t)),this},hideTopButton:function(t){return be(this.getTopButton(t)),this},hideBottomButton:function(t){return be(this.getBottomButton(t)),this},forEachLeftButton:function(t,e){return this.childrenMap.leftButtonsSizer.forEachButtton(t,e),this},forEachRightButton:function(t,e){return this.childrenMap.rightButtonsSizer.forEachButtton(t,e),this},forEachTopButton:function(t,e){return this.childrenMap.topButtonsSizer.forEachButtton(t,e),this},forEachBottomButton:function(t,e){return this.childrenMap.bottomButtonsSizer.forEachButtton(t,e),this}};function Ye(t){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function He(t){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ne(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xe(t,e){return(Xe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ge=Phaser.Utils.Objects.GetValue,Ue=function(t){function e(t,i){var n,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===i&&(i={}),i.column=3,i.row=3,(n=!(o=He(e).call(this,t,i))||"object"!==Ye(o)&&"function"!=typeof o?Ne(this):o).type="rexTabs",n.eventEmitter=Ge(i,"eventEmitter",Ne(n));var r,s=Ge(i,"background",void 0),a=Ge(i,"panel",void 0),h=Ge(i,"leftButtons",void 0);h&&0===h.length&&(h=void 0);var l,u=Ge(i,"rightButtons",void 0);u&&0===u.length&&(u=void 0);var c,f=Ge(i,"topButtons",void 0);f&&0===f.length&&(f=void 0);var p,d=Ge(i,"bottomButtons",void 0);d&&0===d.length&&(d=void 0);var y=Ge(i,"click",void 0),g=Ge(i,"space.left",0),v=Ge(i,"space.right",0),m=Ge(i,"space.top",0),b=Ge(i,"space.bottom",0),w=Ge(i,"space.leftButtonsOffset",0),k=Ge(i,"space.rightButtonsOffset",0),x=Ge(i,"space.topButtonsOffset",0),O=Ge(i,"space.bottomButtonsOffset",0),S=Ge(i,"space.leftButton",0),T=Ge(i,"space.rightButton",0),P=Ge(i,"space.topButton",0),C=Ge(i,"space.bottomButton",0);if(s&&n.addBackground(s),a){var _={left:h?0:g,right:u?0:v,top:f?0:m,bottom:d?0:b};n.add(a,1,1,"center",_,!0)}return h&&(r=new Me(t,{groupName:"left",buttons:h,orientation:1,space:S,align:Ge(i,"align.leftButtons",void 0),click:y,eventEmitter:n.eventEmitter}),_={left:g,top:w},n.add(r,0,1,"top",_,!1)),u&&(l=new Me(t,{groupName:"right",buttons:u,orientation:1,space:T,align:Ge(i,"align.rightButtons",void 0),click:y,eventEmitter:n.eventEmitter}),_={right:v,top:k},n.add(l,2,1,"top",_,!1)),f&&(c=new Me(t,{groupName:"top",buttons:f,orientation:0,space:P,align:Ge(i,"align.topButtons",void 0),click:y,eventEmitter:n.eventEmitter}),_={top:m,left:x},n.add(c,1,0,"left",_,!1)),d&&(p=new Me(t,{groupName:"bottom",buttons:d,orientation:0,space:C,align:Ge(i,"align.bottomButtons",void 0),click:y,eventEmitter:n.eventEmitter}),_={bottom:b,left:O},n.add(p,1,2,"left",_,!1)),n.addChildrenMap("background",s),n.addChildrenMap("panel",a),n.addChildrenMap("leftButtons",h),n.addChildrenMap("rightButtons",u),n.addChildrenMap("topButtons",f),n.addChildrenMap("bottomButtons",d),n.addChildrenMap("leftButtonsSizer",r),n.addChildrenMap("rightButtonsSizer",l),n.addChildrenMap("topButtonsSizer",c),n.addChildrenMap("bottomButtonsSizer",p),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xe(t,e)}(e,Lt),e}();Object.assign(Ue.prototype,ze);var Ve=Ue;o.register("tabs",(function(t){var e=new Ve(this.scene,t);return this.scene.add.existing(e),e})),Object(s.a)(window,"RexPlugins.UI.Tabs",Ve);var Ke=Phaser.Math.Percent,Je=function(t,e,i){var n,o,r;return t.y===e.y?(n=Math.min(t.x,e.x),o=Math.max(t.x,e.x),r=Ke(i.x,n,o)):t.x===e.x&&(n=Math.min(t.y,e.y),o=Math.max(t.y,e.y),r=Ke(i.y,n,o)),r},Ze={},Qe=function(t,e,i){this.enable&&(Ze.x=e,Ze.y=i,this.value=Je(this.getStartPoint(),this.getEndPoint(),Ze))},qe={},$e=function(t,e,i){this.enable&&t.isDown&&(qe.x=t.worldX,qe.y=t.worldY,this.value=Je(this.getStartPoint(),this.getEndPoint(),qe))},ti=Phaser.Display.Align.In.QuickSet,ei={},ii=function(t,e){void 0===e&&(e=ei);var i=this.childrenMap.thumb,n=i.x,o=i.y;return ti(i,this,t),e.x=i.x,e.y=i.y,i.x=n,i.y=o,e},ni=Phaser.Display.Align.LEFT_CENTER,oi=Phaser.Display.Align.TOP_CENTER,ri={},si=Phaser.Display.Align.RIGHT_CENTER,ai=Phaser.Display.Align.BOTTOM_CENTER,hi={},li=Phaser.Math.Linear,ui={},ci=Phaser.Display.Align.In.QuickSet,fi=Phaser.Display.Align.LEFT_CENTER,pi=Phaser.Display.Align.TOP_CENTER;function di(t){return(di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yi(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function gi(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vi(t,e,i){return(vi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=mi(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(i):o.value}})(t,e,i||t)}function mi(t){return(mi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function bi(t,e){return(bi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var wi=Phaser.Utils.Objects.GetValue,ki=Phaser.Math.Clamp,xi=Phaser.Math.Linear,Oi=Phaser.Math.Percent,Si=Phaser.Math.Snap.To,Ti=function(t){function e(t,i){var n,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=!(o=mi(e).call(this,t,i))||"object"!==di(o)&&"function"!=typeof o?gi(this):o).type="rexSlider",n.eventEmitter=wi(i,"eventEmitter",gi(n));var r=wi(i,"background",void 0),s=wi(i,"track",void 0),a=wi(i,"indicator",void 0),h=wi(i,"thumb",void 0),l=wi(i,"space.left",0),u=wi(i,"space.right",0),c=wi(i,"space.top",0),f=wi(i,"space.bottom",0);if(r&&n.addBackground(r),s){var p={left:l,right:u,top:c,bottom:f};n.add(s,0,void 0,p,!0)}a&&n.add(a,null),h&&n.add(h,null);var d=wi(i,"input",0);switch("string"==typeof d&&(d=Pi[d]),d){case 0:h&&(h.setInteractive(),n.scene.input.setDraggable(h),h.on("drag",Qe,gi(n)));break;case 1:n.setInteractive().on("pointerdown",$e,gi(n)).on("pointermove",$e,gi(n))}n.addChildrenMap("background",r),n.addChildrenMap("track",s),n.addChildrenMap("indicator",a),n.addChildrenMap("thumb",h);var y=wi(i,"valuechangeCallback",null);if(null!==y){var g=wi(i,"valuechangeCallbackScope",void 0);n.eventEmitter.on("valuechange",y,g)}return n.setEnable(wi(i,"enable",void 0)),n.setGap(wi(i,"gap",void 0)),n.setValue(wi(i,"value",0)),n}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bi(t,e)}(e,St),i=e,(n=[{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable=t,this}},{key:"setGap",value:function(t){return this.gap=t,this}},{key:"setValue",value:function(t,e,i){return null==t||(void 0!==e&&(t=Oi(t,e,i)),this.value=t),this}},{key:"addValue",value:function(t,e,i){return void 0!==e&&(t=Oi(t,e,i)),this.value+=t,this}},{key:"getValue",value:function(t,e){var i=this.value;return void 0!==t&&(i=xi(t,e,i)),i}},{key:"layout",value:function(t,i,n){return vi(mi(e.prototype),"layout",this).call(this,t,i,n),this.updateThumb(),this.updateIndicator(),this}},{key:"value",get:function(){return this._value},set:function(t){void 0!==this.gap&&(t=Si(t,this.gap));var e=this._value;this._value=ki(t,0,1),e!==this._value&&(this.updateThumb(this._value),this.updateIndicator(this._value),this.eventEmitter.emit("valuechange",this._value,e,this.eventEmitter))}}])&&yi(i.prototype,n),e}(),Pi={drag:0,click:1,none:-1},Ci={getStartPoint:function(t){if(void 0===t&&(t=ri),this.childrenMap.thumb){var e=0===this.orientation?oi:ni;ii.call(this,e,t)}else 0===this.orientation?(t.x=this.centerX,t.y=this.top+1):(t.x=this.left+1,t.y=this.centerY);return t},getEndPoint:function(t){if(void 0===t&&(t=hi),this.childrenMap.thumb){var e=1===this.orientation?si:ai;ii.call(this,e,t)}else 0===this.orientation?(t.x=this.centerX,t.y=this.bottom-1):(t.x=this.right-1,t.y=this.centerY);return t},updateThumb:function(t){var e=this.childrenMap.thumb;return void 0===e||(void 0===t&&(t=this.value),function(t,e,i,n){void 0===n&&(n=ui),n.x=li(e.x,i.x,t),n.y=li(e.y,i.y,t)}(t,this.getStartPoint(),this.getEndPoint(),e),this.resetChildPositionState(e)),this},updateIndicator:function(t){var e,i,n=this.childrenMap.indicator;if(void 0===n)return this;void 0===t&&(t=this.value);var o=this.childrenMap.thumb;o?0===this.orientation?i=o.y-o.displayHeight*o.originY+o.displayHeight-this.top:e=o.x-o.displayWidth*o.originX+o.displayWidth-this.left:0===this.orientation?i=this.height*t:e=this.width*t,Object(H.a)(n,e,i);var r=1===this.orientation?fi:pi;ci(n,this,r),this.resetChildPositionState(n)}};Object.assign(Ti.prototype,Ci);var _i=Ti;o.register("slider",(function(t){var e=new _i(this.scene,t);return this.scene.add.existing(e),e})),Object(s.a)(window,"RexPlugins.UI.Slider",_i);var ji={v:0,vertical:0,h:1,horizontal:1},Mi=Phaser.Utils.Objects.GetValue,Bi=function(t,e){void 0===e&&(e="scrollMode");var i=Mi(t,"scrollMode",0);return"string"==typeof i&&(i=ji[i]),i},Ai=i(160),Ei=Phaser.Utils.Objects.GetValue,Wi=function(t){var e,i,n=this.scene,o=Bi(t),r=new St(n,{orientation:o}),s=Ei(t,"child.gameObject",void 0),a=Ei(t,"slider",void 0),h=Ei(t,"scroller",!0);if(s){var l=Ei(t,"space.child",0);if(this.childPadding={},"number"!=typeof l){var u=l;0===o?(l=Ei(u,"right",0),this.childPadding.top=Ei(u,"top",0),this.childPadding.bottom=Ei(u,"bottom",0)):(l=Ei(u,"bottom",0),this.childPadding.top=Ei(u,"left",0),this.childPadding.bottom=Ei(u,"right",0))}else this.childPadding.top=0,this.childPadding.bottom=0;var c,f=Ei(t,"child.proportion",1),p=Ei(t,"child.expand",!0);c=0===o?{right:a?l:0}:{bottom:a?l:0},r.add(s,f,"center",c,p),a&&(!0===a&&(a={}),a.orientation=r.orientation,e=new _i(n,a),r.add(e,0,"center",0,!0)),h&&(!0===h&&(h={}),h.orientation=o,i=new Ai.a(s,h))}return e&&e.on("valuechange",(function(t){this.t=t}),this),i&&i.on("valuechange",(function(t){this.childOY=t}),this),this.addChildrenMap("child",s),this.addChildrenMap("slider",e),this.addChildrenMap("scroller",i),r};function Ri(t){return(Ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fi(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ii(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Di(t,e,i){return(Di="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Li(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(i):o.value}})(t,e,i||t)}function Li(t){return(Li=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function zi(t,e){return(zi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Yi=Phaser.Utils.Objects.GetValue,Hi=function(t){function e(t,i){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===i&&(i={});var o,r=Bi(i);i.orientation=0===r?1:0,(n=!(o=Li(e).call(this,t,i))||"object"!==Ri(o)&&"function"!=typeof o?Ii(this):o).type=Yi(i,"type","rexScrollable");var s=Yi(i,"background",void 0),a=Wi.call(Ii(n),i),h=Yi(i,"header",void 0),l=Yi(i,"footer",void 0),u=Yi(i,"space.left",0),c=Yi(i,"space.right",0),f=Yi(i,"space.top",0),p=Yi(i,"space.bottom",0);if(s&&n.addBackground(s),h){var d=Yi(i,"align.header","center"),y=Yi(i,"space.header",0);v=0===r?{left:u,right:c,top:f,bottom:y}:{left:u,right:y,top:f,bottom:p};var g=Yi(i,"expand.header",!0);n.add(h,0,d,v,g)}if(a&&(v=0===r?{left:u,right:c,top:h?0:f,bottom:l?0:p}:{left:h?0:u,right:l?0:c,top:f,bottom:p},n.add(a,1,"center",v,!0)),l){d=Yi(i,"align.footer","center");var v,m=Yi(i,"space.footer",0);v=0===r?{left:u,right:c,top:m,bottom:p}:{left:m,right:c,top:f,bottom:p},g=Yi(i,"expand.footer",!0),n.add(l,0,d,v,g)}return n.addChildrenMap("background",s),n.addChildrenMap("header",h),n.addChildrenMap("footer",l),n}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zi(t,e)}(e,St),i=e,(n=[{key:"layout",value:function(t,i,n){return Di(Li(e.prototype),"layout",this).call(this,t,i,n),this.resizeController(),this}},{key:"resizeController",value:function(){var t=this.topChildOY,e=this.bottomChildOY,i=this.childrenMap.scroller,n=this.childrenMap.slider;return i&&i.setBounds(e,t),n&&n.setEnable(e!==t),this.updateController(),this}},{key:"updateController",value:function(){var t=this.childrenMap.scroller,e=this.childrenMap.slider;t&&t.setValue(this.childOY),e&&e.setValue(this.t)}},{key:"setChildOY",value:function(t){return this.childOY=t,this}},{key:"setT",value:function(t){return this.t=t,this}},{key:"scrollToTop",value:function(){return this.t=0,this}},{key:"scrollToBottom",value:function(){return this.t=1,this}},{key:"setSliderEnable",value:function(t){return void 0===t&&(t=!0),this.sliderEnable=t,this}},{key:"setScrollerEnable",value:function(t){return void 0===t&&(t=!0),this.scrollerEnable=t,this}},{key:"t",set:function(t){var e=this.childPadding;if(0!==e.top||0!==e.bottom){var i=this.childrenMap.child,n=i.topChildOY-i.bottomChildOY;t=((n+e.top+e.bottom)*t-e.top)/n}this.childrenMap.child.t=t,this.updateController()},get:function(){var t=this.childrenMap.child.t,e=this.childPadding;if(0!==e.top||0!==e.bottom){var i=this.childrenMap.child,n=i.topChildOY-i.bottomChildOY,o=n+e.top+e.bottom;t=(n*t+e.top)/o}return t}},{key:"childOY",set:function(t){this.childrenMap.child.childOY=t,this.updateController()},get:function(){return this.childrenMap.child.childOY}},{key:"topChildOY",get:function(){return this.childrenMap.child.topChildOY+this.childPadding.top}},{key:"bottomChildOY",get:function(){return this.childrenMap.child.bottomChildOY-this.childPadding.bottom}},{key:"sliderEnable",get:function(){var t=this.childrenMap.slider;if(t)return t.enable},set:function(t){var e=this.childrenMap.slider;e&&e.setEnable(t)}},{key:"scrollerEnable",get:function(){var t=this.childrenMap.scroller;if(t)return t.enable},set:function(t){var e=this.childrenMap.scroller;e&&e.setEnable(t)}}])&&Fi(i.prototype,n),e}(),Ni=i(53),Xi=function(t){t.on("cellvisible",(function(t,e){var i,n=this.createCellContainerCallback,o=this.createCellContainerCallbackScope;t.item=this.items[t.index],(i=o?n.call(o,t,e):n(t,e)).setOrigin&&i.setOrigin(0),i.isRexSizer&&i.layout(),t.item=void 0,t.setContainer(i)}),this)},Gi=function(t,e,i,n,o){var r;if(null!==(r=void 0===o?n:i.pointerToCellIndex(n,o))&&void 0!==r){var s=i.getCellContainer(r);t.emit(e,s,r)}},Ui=function(t){t._click=new ye.a(t,{threshold:10}),t._click.on("click",(function(t,e,i){Gi(this.eventEmitter,"cell.click",e,i.x,i.y)}),this)},Vi=function(t){if(!t.isDown){var e=this.childrenMap.child,i=e.pointerToCellIndex(t.x,t.y);if(i!==this._lastOverCellIndex){var n=this._lastOverCellIndex;this._lastOverCellIndex=i,Gi(this.eventEmitter,"cell.out",e,n),Gi(this.eventEmitter,"cell.over",e,i)}}},Ki=function(){var t=this.childrenMap.child,e=this._lastOverCellIndex;this._lastOverCellIndex=void 0,Gi(this.eventEmitter,"cell.out",t,e)},Ji=function(t){t.on("pointermove",Vi,this).on("pointerover",Vi,this).on("pointerup",Ki,this).on("pointerout",Ki,this)},Zi=i(84).a,Qi=function(t){t._tap=new Zi(t),t._tap.on("tap",(function(t){var e="cell.".concat(t.tapsCount,"tap");Gi(this.eventEmitter,e,t.gameObject,t.x,t.y)}),this)},qi=i(85).a,$i=function(t){t._press=new qi(t),t._press.on("pressstart",(function(t){var e=t.gameObject,i=e.pointerToCellIndex(t.x,t.y);t._cellIndex=i,Gi(this.eventEmitter,"cell.pressstart",e,i)}),this).on("pressend",(function(t){var e=t.gameObject,i=t._cellIndex;t._cellIndex=void 0,Gi(this.eventEmitter,"cell.pressend",e,i)}),this)},tn=function(t){t.setInteractive(),Ui.call(this,t),Ji.call(this,t),Qi.call(this,t),$i.call(this,t)},en=i(9);function nn(t){return(nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function on(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function rn(t){return(rn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function sn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function an(t,e){return(an=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var hn=Phaser.Utils.Objects.GetValue,ln=function(t){function e(t,i){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===i&&(i={});var o=Bi(i),r=hn(i,"table",void 0);void 0===r&&(r={}),r.scrollMode=o,r.clamplTableOXY=hn(i,"clamplChildOY",!1);var s,a,h=hn(r,"width",void 0),l=hn(r,"height",void 0),u=new Ni.a(t,0,0,h,l,r);0===o?(s=void 0===h?1:0,a=void 0===l):(s=void 0===l?1:0,a=void 0===h),function(t){Object.defineProperty(t,"childOY",{configurable:!0,get:function(){return t.tableOY},set:function(e){t.tableOY=e}}),Object.defineProperty(t,"topChildOY",{get:function(){return t.topTableOY}}),Object.defineProperty(t,"bottomChildOY",{get:function(){return t.bottomTableOY}})}(u),i.type="rexGridTable",i.child={gameObject:u,proportion:s,expand:a};var c,f=hn(i,"space",void 0);f&&(f.child=f.table),(n=!(c=rn(e).call(this,t,i))||"object"!==nn(c)&&"function"!=typeof c?sn(this):c).addChildrenMap("table",u),n.eventEmitter=hn(i,"eventEmitter",sn(n));var p=hn(i,"createCellContainerCallback",en.a),d=hn(i,"createCellContainerCallbackScope",void 0);return n.setCreateCellContainerCallback(p,d),Xi.call(sn(n),u),hn(r,"interactive",!0)&&tn.call(sn(n),u),n.setItems(hn(i,"items",[])),n}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&an(t,e)}(e,Hi),i=e,(n=[{key:"setCreateCellContainerCallback",value:function(t,e){return this.createCellContainerCallback=t,this.createCellContainerCallbackScope=e,this}},{key:"refresh",value:function(){return this.childrenMap.child.updateTable(!0),this}}])&&on(i.prototype,n),e}(),un={setItems:function(t){void 0===t?this.items.length=0:this.items=t;var e=this.childrenMap.child;return e.setCellsCount(this.items.length),e.updateTable(!0),this.resizeController(),this}};Object.assign(ln.prototype,un);var cn=ln;function fn(t){return(fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pn(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function dn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yn(t,e,i){return(yn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=gn(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(i):o.value}})(t,e,i||t)}function gn(t){return(gn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vn(t,e){return(vn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}o.register("gridTable",(function(t){var e=new cn(this.scene,t);return this.scene.add.existing(e),e})),Object(s.a)(window,"RexPlugins.UI.GridTable",cn);var mn=Phaser.Utils.Objects.GetValue,bn=function(t){function e(t,i){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===i&&(i={}),i.hasOwnProperty("orientation")||(i.orientation=1);var o,r=mn(i,"items",void 0),s=mn(i,"createButtonCallback",void 0),a=mn(i,"createButtonCallbackScope",void 0);if(i.buttons=function(t,e,i,n){var o,r,s=[];if(e&&i)for(var a=0,h=e.length;a<h;a++)(o=e[a]).scene=t,r=n?i.call(n,o,a):i(o,a),o.scene=void 0,s.push(r);return s}(t,r,s,a),(n=!(o=gn(e).call(this,t,i))||"object"!==fn(o)&&"function"!=typeof o?dn(this):o).type="rexMenu",n.items=r,n.root=mn(i,"root",dn(n)),n.root===dn(n)){if(n.expandEventName=mn(i,"expandEvent","button.click"),n.easeIn=mn(i,"easeIn",void 0),n.easeOut=mn(i,"easeOut",void 0),n.bounds=mn(i,"bounds",void 0),n.expandOrientation=mn(i,"expandOrientation",void 0),void 0===n.expandOrientation){var h=n.bounds;void 0===h&&(h=Object(O.a)(t)),0===n.orientation?n.expandOrientation=n.y<h.centerY?1:3:n.expandOrientation=n.x<h.centerX?0:2}n.createButtonCallback=s,n.createButtonCallbackScope=a,n.isPassedEvent=!1}n.setOrigin(0).layout();var l=mn(i,"parent",void 0);if(l)switch(n.root.expandOrientation){case 0:n.alignTop(l.top).alignLeft(l.right);break;case 1:n.alignLeft(l.left).alignTop(l.bottom);break;case 2:n.alignTop(l.top).alignRight(l.left);break;case 3:n.alignLeft(l.left).alignBottom(l.top)}return n.pushIntoBounds(n.root.bounds),function(t){t.on(t.root.expandEventName,(function(t,e){if(!this.isPassedEvent){var i=this.items[e].children;i&&this.expandSubMenu(t,i)}}),t).on("button.click",(function(t,e){this!==this.root&&(this.root.isPassedEvent=!0,this.root.emit("button.click",t,e),this.root.isPassedEvent=!1)}),t).on("button.over",(function(t,e){this!==this.root&&(this.root.isPassedEvent=!0,this.root.emit("button.over",t,e),this.root.isPassedEvent=!1)}),t).on("button.out",(function(t,e){this!==this.root&&(this.root.isPassedEvent=!0,this.root.emit("button.out",t,e),this.root.isPassedEvent=!1)}),t)}(dn(n)),n.root.easeIn&&n.popUp(n.root.easeIn),n}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vn(t,e)}(e,Me),i=e,(n=[{key:"isInTouching",value:function(t){return!!yn(gn(e.prototype),"isInTouching",this).call(this,t)||!!this.childrenMap.subMenu&&this.childrenMap.subMenu.isInTouching(t)}}])&&pn(i.prototype,n),e}();Object.assign(bn.prototype,{expandSubMenu:function(t,e){this.collapseSubMenu();var i=new this.constructor(this.scene,{items:e,orientation:this.orientation,createButtonCallback:this.root.createButtonCallback,createButtonCallbackScope:this.root.createButtonCallbackScope,easeIn:this.root.easeIn,easeOut:this.root.easeOut,root:this.root,parent:t});return this.add(i,null),this.childrenMap.subMenu=i,this},collapse:function(){return this.root.easeOut?this.scaleDownDestroy(this.root.easeOut):this.destroy(),this.collapseSubMenu(),this},collapseSubMenu:function(){if(void 0===this.childrenMap.subMenu)return this;var t=this.childrenMap.subMenu;return this.childrenMap.subMenu=void 0,this.remove(t),t.collapse(),this}});var wn=bn;o.register("menu",(function(t){var e=new wn(this.scene,t);return this.scene.add.existing(e),e})),Object(s.a)(window,"RexPlugins.UI.Menu",wn);var kn=i(162),xn=i(163);function On(t){return(On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sn(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Tn(t){return(Tn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Pn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cn(t,e){return(Cn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _n=Phaser.Utils.Objects.GetValue,jn=function(t){function e(t,i){var n,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===i&&(i={text:Mn(t)}),(n=!(o=Tn(e).call(this,t,i))||"object"!==On(o)&&"function"!=typeof o?Pn(this):o).type="rexTextBox";var r=n.childrenMap.text;return n.page=new kn.a(r,_n(i,"page",void 0)),n.typing=new xn.a(r,_n(i,"type",void 0)),n.typing.on("complete",n.onPageEnd,Pn(n)).on("type",n.onType,Pn(n)),n.textWidth=r.width,n.textHeight=r.height,n}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Cn(t,e)}(e,pe),i=e,(n=[{key:"start",value:function(t,e){return this.page.setText(t),void 0!==e&&this.typing.setTypeSpeed(e),this.typeNextPage(),this}},{key:"typeNextPage",value:function(){if(this.page.isLastPage)this.emit("complete");else{var t=this.page.getNextPage();this.typing.start(t)}return this}},{key:"pause",value:function(){return this.typing.pause(),this}},{key:"resume",value:function(){return this.typing.resume(),this}},{key:"stop",value:function(t){return this.typing.stop(t),this}},{key:"onType",value:function(){var t=this.childrenMap.text;this.textWidth===t.width&&this.textHeight===t.height||(this.textWidth=t.width,this.textHeight=t.height,this.getTopmostSizer().layout()),this.emit("type")}},{key:"onPageEnd",value:function(){this.emit("pageend")}},{key:"isTyping",get:function(){return this.typing.isTyping}},{key:"isLastPage",get:function(){return this.page.isLastPage}},{key:"isFirstPage",get:function(){return this.page.isFirstPage}},{key:"pageCount",get:function(){return this.page.pageCount}},{key:"pageIndex",get:function(){return this.page.pageIndex}}])&&Sn(i.prototype,n),e}(),Mn=function(t){return t.add.text(0,0,"",{wordWrap:{width:200},maxLines:5})},Bn=jn;function An(t){return(An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function En(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Wn(t){return(Wn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Rn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fn(t,e){return(Fn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}o.register("textBox",(function(t){var e=new Bn(this.scene,t);return this.scene.add.existing(e),e})),Object(s.a)(window,"RexPlugins.UI.TextBox",Bn);var In=Phaser.Utils.Objects.GetValue,Dn=Phaser.Math.Percent,Ln=Phaser.Math.Linear,zn=function(t){function e(t,i){var n,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=!(o=Wn(e).call(this,t,i))||"object"!==An(o)&&"function"!=typeof o?Rn(this):o).type="rexNumberBar";var r,s,a,h=In(i,"background",void 0),l=In(i,"icon",void 0),u=In(i,"iconMask",void 0),c=In(i,"slider",void 0),f=In(i,"text",void 0),p=In(i,"space.left",0),d=In(i,"space.right",0),y=In(i,"space.top",0),g=In(i,"space.bottom",0),v=In(i,"space.icon",0),m=In(i,"space.slider",0);h&&n.addBackground(h),l&&(s=0===n.orientation?{left:p,right:c||f?v:d,top:y,bottom:g}:{left:p,right:d,top:y,bottom:c||f?v:g},n.add(l,0,"center",s),u&&(u=new se.a(l,1),l.setMask(u.createGeometryMask()),n.add(u,null))),c&&(c.orientation=0==n.orientation?1:0,c.eventEmitter=Rn(n),c.value=null,c.hasOwnProperty("input")||(c.input=-1),r=new _i(t,c),s=0===n.orientation?{left:l?0:p,right:f?m:d,top:y,bottom:g}:{left:p,right:d,top:l?0:y,bottom:f?m:g},a=0===n.orientation?void 0===In(c,"width",void 0)?1:0:void 0===In(c,"height",void 0)?1:0,n.add(r,a,"center",s)),f&&(s=0===n.orientation?{left:l||c?0:p,right:d,top:y,bottom:g}:{left:p,right:d,top:l||c?0:y,bottom:g},n.add(f,0,"center",s)),n.addChildrenMap("background",h),n.addChildrenMap("icon",l),n.addChildrenMap("slider",r),n.addChildrenMap("text",f);var b=In(i,"valuechangeCallback",null);if(null!==b){var w=In(i,"valuechangeCallbackScope",void 0);n.on("valuechange",b,w)}return n.setEnable(In(i,"enable",void 0)),n.setValue(In(i,"value",0)),n}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fn(t,e)}(e,St),i=e,(n=[{key:"setEnable",value:function(t){return this.childrenMap.slider||(void 0===t&&(t=!0),this.childrenMap.slider.enable=t),this}},{key:"setValue",value:function(t,e,i){return void 0!==e&&(t=Dn(t,e,i)),this.value=t,this}},{key:"addValue",value:function(t,e,i){return void 0!==e&&(t=Dn(t,e,i)),this.value+=t,this}},{key:"getValue",value:function(t,e){var i=this.value;return void 0!==t&&(i=Ln(t,e,i)),i}},{key:"setText",value:function(t){return this.text=t,this}},{key:"value",get:function(){return this.childrenMap.slider?this.childrenMap.slider.value:0},set:function(t){this.childrenMap.slider&&(this.childrenMap.slider.value=t)}},{key:"text",get:function(){var t=this.childrenMap.text;return void 0===t?"":t.text?t.text:t.getData("text")},set:function(t){var e=this.childrenMap.text;void 0!==e&&(e.setText?e.setText(t):e.setData("text",t))}}])&&En(i.prototype,n),e}();o.register("numberBar",(function(t){var e=new zn(this.scene,t);return this.scene.add.existing(e),e})),Object(s.a)(window,"RexPlugins.UI.NumberBar",zn);var Yn=Phaser.Utils.Objects.IsPlainObject,Hn=Phaser.Display.Align.TOP_LEFT,Nn=function(t,e){var i,n=e.rexSizer,o=n.padding;return n.expand&&(i=t.width-o.left-o.right),i},Xn=function(t,e){var i,n=e.rexSizer,o=n.padding;return n.expand&&(i=t.height-o.top-o.bottom),i},Gn=Phaser.Display.Align.In.QuickSet,Un={addPage:function(t,e,i,n,o){if(Yn(e)){var r=e;e=GetValue(r,"key",0),i=GetValue(r,"align",Hn),n=GetValue(r,"padding",0),o=GetValue(r,"expand",!1)}return"string"==typeof i&&(i=ft[i]),void 0===i&&(i=ALIGN_CENTER),void 0===n&&(n=0),void 0===o&&(o=!0),(r=this.getSizerConfig(t)).parent=this,r.align=i,r.padding=lt(n),r.expand=o,this.sizerChildren.has(e)&&this.sizerChildren.get(e).destroy(),this.sizerChildren.set(e,t),t.setVisible(!1),this.add(t),this},getPage:function(t){return void 0===t?null:this.sizerChildren.has(t)?this.sizerChildren.get(t):null},swapPage:function(t){this._previousKey=this._currentKey;var e=this.previousPage;e&&(0===this.swapMode?(e.setVisible(!1),this.resetChildVisibleState(e),this.emit("pageinvisible",e,this._previousKey,this)):e.destroy()),t&&!this.sizerChildren.has(t)&&this.emit("createpage",t,this),this._currentKey=t;var i=this.currentPage;return i&&(i.setVisible(!0),this.resetChildVisibleState(i),this.emit("pagevisible",i,this._currentKey,this)),this},getChildrenWidth:function(){if(this.rexSizer.hidden)return 0;var t,e,i,n=0,o=this.sizerChildren.entries;for(var r in o)i=(t=o[r]).isRexSizer?Math.max(t.minWidth,t.childrenWidth):t.width,i+=(e=t.rexSizer.padding).left+e.right,n=Math.max(i,n);return n},getChildrenHeight:function(){if(this.rexSizer.hidden)return 0;var t,e,i,n=0,o=this.sizerChildren.entries;for(var r in o)i=(t=o[r]).isRexSizer?Math.max(t.minHeight,t.childrenHeight):t.height,i+=(e=t.rexSizer.padding).top+e.bottom,n=Math.max(i,n);return n},getChildrenSizers:function(t){void 0===t&&(t=[]);var e,i=this.sizerChildren.entries;for(var n in i)(e=i[n]).isRexSizer&&t.push(e);return t},layout:function(t,e,i){if(this.rexSizer.hidden)return this;var n,o,r;this.layoutInit(t),void 0===e&&(e=Math.max(this.childrenWidth,this.minWidth)),void 0===i&&(i=Math.max(this.childrenHeight,this.minHeight)),this.resize(e,i);var s,a,h,l,u,c,f=this.left,p=this.top,d=this.pages;for(var y in d)r=(o=(n=d[y]).rexSizer).padding,n.isRexSizer?n.layout(this,Nn(this,n),Xn(this,n)):(u=void 0,c=void 0,o.expand&&(c=this.height-r.top-r.bottom,u=this.width-r.left-r.right),Object(H.a)(n,u,c)),s=f+r.left,h=this.width-r.left-r.right,a=p+r.top,l=this.height-r.top-r.bottom,N.a.setPosition(s,a).setSize(h,l),Gn(n,N.a,o.align),this.resetChildPositionState(n);return this.layoutBackgrounds(),this},_layoutInit:function(){this._childrenWidth=void 0,this._childrenHeight=void 0}};function Vn(t){return(Vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kn(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Jn(t,e,i){return(Jn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Zn(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(i):o.value}})(t,e,i||t)}function Zn(t){return(Zn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Qn(t,e){return(Qn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var qn=Phaser.Utils.Objects.IsPlainObject,$n=Phaser.Utils.Objects.GetValue,to=Phaser.Structs.Map,eo=function(t){function e(t,i,n,o,r,s){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),qn(i)?(i=$n(s=i,"x",0),n=$n(s,"y",0),o=$n(s,"width",void 0),r=$n(s,"height",void 0)):qn(o)&&(o=$n(s=o,"width",void 0),r=$n(s,"height",void 0)),(a=function(t,e){return!e||"object"!==Vn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,Zn(e).call(this,t,i,n,o,r,s))).type="rexPages",a._previousKey=void 0,a._currentKey=void 0,a.sizerChildren=new to,a.setSwapMode($n(s,"swapMode",0)),a.addChildrenMap("pages",a.pages),a}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qn(t,e)}(e,nt),i=e,(n=[{key:"destroy",value:function(t){this.scene&&(this.sizerChildren.clear(),Jn(Zn(e.prototype),"destroy",this).call(this,t))}},{key:"setSwapMode",value:function(t){return"string"==typeof t&&(t=io[t]),this.swapMode=t,this}},{key:"previousKey",get:function(){return this._previousKey}},{key:"currentKey",get:function(){return this._currentKey},set:function(t){this.swapPage(t)}},{key:"currentPage",get:function(){return this.getPage(this.currentKey)}},{key:"previousPage",get:function(){return this.getPage(this.previousKey)}},{key:"keys",get:function(){return this.sizerChildren.keys()}},{key:"pages",get:function(){return this.sizerChildren.entries}}])&&Kn(i.prototype,n),e}();Object.assign(eo.prototype,Un);var io={invisible:0,destroy:1},no=eo;o.register("pages",(function(t,e,i,n,o){var r=new no(this.scene,t,e,i,n,o);return this.scene.add.existing(r),r})),Object(s.a)(window,"RexPlugins.UI.Pages",no);var oo=i(150),ro=Phaser.Display.Align.TOP_LEFT,so=function(t){return(t-this.textLineSpacing)/(this.textLineHeight+this.textLineSpacing)},ao=function(t){return t*(this.textLineHeight+this.textLineSpacing)-this.textLineSpacing},ho=function(t){var e,i=t+this.textObject.style.maxLines;if(0===this.textObjectType)e=this.lines.slice(t,i).join("\n");else{var n=this.lines.getLineStartIndex(t),o=this.lines.getLineEndIndex(i-1);e=this.lines.getSliceTagText(n,o,!0)}return e},lo=function(){var t=this.textObject.rexSizer;this.textObject.y+=t.offsetY-t.preOffsetY,t.preOffsetY=t.offsetY,this.resetChildPositionState(this.textObject)},uo=function(t,e,i){if(t.width!==e||t.height!==i){t.setFixedSize(e,i);var n=t.style,o=Math.max(e,0),r=Math.ceil(so.call(this,i))+1;0===this.textObjectType?(n.wordWrapWidth=o,n.maxLines=r):(n.wrapWidth=o,n.maxLines=r),this.setText()}},co=Phaser.Display.Align.In.QuickSet,fo={setTextObject:function(t,e,i){void 0===i&&(i=!0),this.add(t),void 0===e&&(e=0);var n=this.getSizerConfig(t);return n.parent=this,n.align=ro,n.padding=lt(e),n.expand=!0,this.textObject=t,this.textObjectType=Object(oo.a)(t)?0:1,n.preOffsetY=0,n.offsetY=0,i&&(this.textMask=new se.a(this.textObject),this.textObject.setMask(this.textMask.createGeometryMask()),this.add(this.textMask)),this},setText:function(t){return void 0!==t&&(this.text=t),0===this.textObjectType?this.lines=this.textObject.getWrappedText(this.text):this.lines=this.textObject.getPenManager(this.text,this.lines),this.updateTextObject(),this},updateTextObject:function(){var t=Math.max(Math.floor(so.call(this,-this.textOY)),0),e=ao.call(this,t)+this.textOY;return this.textObject.setText(ho.call(this,t)),this.textObject.rexSizer.offsetY=e,lo.call(this),this},layout:function(t,e,i){if(this.rexSizer.hidden)return this;var n,o,r;this.layoutInit(t),void 0===e&&(e=this.minWidth),void 0===i&&(i=this.minHeight),this.resize(e,i);var s,a,h,l,u=this.left,c=this.top;return(n=this.textObject).rexSizer.hidden||(s=u+(r=(o=n.rexSizer).padding).left,a=c+r.top,h=this.width-r.left-r.right,l=this.height-r.top-r.bottom,uo.call(this,n,h,l),N.a.setPosition(s,a).setSize(h,l),co(n,N.a,o.align),this.textMask&&(this.textMask.setPosition().resize(),this.resetChildPositionState(this.textMask)),o.preOffsetY=0,lo.call(this)),this.layoutBackgrounds(),this}};function po(t){return(po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yo(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function go(t,e,i){return(go="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=vo(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(i):o.value}})(t,e,i||t)}function vo(t){return(vo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mo(t,e){return(mo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var bo=Phaser.Utils.Objects.IsPlainObject,wo=Phaser.Utils.Objects.GetValue,ko=function(t){function e(t,i,n,o,r,s){var a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),bo(i)?(i=wo(s=i,"x",0),n=wo(s,"y",0),o=wo(s,"width",void 0),r=wo(s,"height",void 0)):bo(o)&&(o=wo(s=o,"width",void 0),r=wo(s,"height",void 0)),(a=function(t,e){return!e||"object"!==po(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,vo(e).call(this,t,i,n,o,r,s))).type="rexTextBlock",a.textObject=void 0,a.textMask=void 0,a.textObjectType=void 0,a.lines=void 0,a.text=wo(s,"content",""),a._textOY=0,a.execeedTopState=!1,a.execeedBottomState=!1,a.setClampMode(wo(s,"clamplTextOY",!0));var h=wo(s,"background",void 0),l=wo(s,"text",void 0);void 0===l&&(l=xo(t));var u=wo(s,"textMask",!0),c=wo(s,"space",void 0);return h&&a.addBackground(h),a.setTextObject(l,c,u),a}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mo(t,e)}(e,nt),i=e,(n=[{key:"destroy",value:function(t){this.scene&&(this.textObject=void 0,this.textMask=void 0,void 0===this.lines||(0===this.textObjectType?this.lines.length=0:this.lines.destroy()),go(vo(e.prototype),"destroy",this).call(this,t))}},{key:"setClampMode",value:function(t){return this.clampTextOYMode=t,this}},{key:"textOYExceedTop",value:function(t){return void 0===t&&(t=this.textOY),t>this.topTextOY}},{key:"textOYExeceedBottom",value:function(t){return void 0===t&&(t=this.textOY),t<this.bottomTextOY}},{key:"setTextOY",value:function(t){return this.textOY=t,this}},{key:"setTextOYByPercentage",value:function(t){return this.t=t,this}},{key:"textLineHeight",get:function(){var t=this.textObject.style;return t.metrics.fontSize+t.strokeThickness}},{key:"textLineSpacing",get:function(){return this.textObject.lineSpacing}},{key:"linesCount",get:function(){return void 0===this.lines?0:0===this.textObjectType?this.lines.length:this.lines.linesCount}},{key:"visibleLinesCount",get:function(){return Math.floor(so.call(this,this.textObject.height))}},{key:"topTextOY",get:function(){return 0}},{key:"bottomTextOY",get:function(){return-this.textVisibleHeight}},{key:"textHeight",get:function(){return ao.call(this,this.linesCount)}},{key:"textObjectHeight",get:function(){return this.textObject.height}},{key:"textVisibleHeight",get:function(){var t=this.textHeight,e=this.textObjectHeight;return t>e?t-e:0}},{key:"textOY",get:function(){return this._textOY},set:function(t){var e=this.topTextOY,i=this.bottomTextOY,n=this.textOYExceedTop(t),o=this.textOYExeceedBottom(t);this.clampTextOYMode&&(this.visibleLinesCount>this.linesCount?t=0:n?t=e:o&&(t=i)),this._textOY!==t&&(this._textOY=t,this.updateTextObject()),n&&(this.execeedTopState||this.emit("execeedtop",this,t,e)),this.execeedTopState=n,o&&(this.execeedBottomState||this.emit("execeedbottom",this,t,i)),this.execeedBottomState=o}},{key:"t",set:function(t){this.textOY=-this.textVisibleHeight*t},get:function(){var t=this.textVisibleHeight;return 0===t?0:this.textOY/-t}}])&&yo(i.prototype,n),e}(),xo=function(t){return t.add.text(0,0,"")};Object.assign(ko.prototype,fo);var Oo=ko;function So(t){return(So="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function To(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Po(t){return(Po=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Co(t,e){return(Co=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}o.register("textBlock",(function(t,e,i,n,o,r){var s=new Oo(this.scene,t,e,i,n,o,r);return this.scene.add.existing(s),s})),Object(s.a)(window,"RexPlugins.UI.TextBlock",Oo);var _o=Phaser.Utils.Objects.GetValue,jo=function(t){function e(t,i){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===i&&(i={});var o=_o(i,"text",void 0),r=_o(i,"textWidth",void 0),s=_o(i,"textHeight",void 0),a=_o(i,"textMask",!0),h=_o(i,"content",""),l=new Oo(t,{width:r,height:s,text:o,textMask:a,content:h,clamplTextOY:_o(i,"clamplChildOY",!1)}),u=void 0===r?1:0,c=void 0===s;(function(t){Object.defineProperty(t,"childOY",{configurable:!0,get:function(){return t.textOY},set:function(e){t.textOY=e}}),Object.defineProperty(t,"topChildOY",{get:function(){return t.topTextOY}}),Object.defineProperty(t,"bottomChildOY",{get:function(){return t.bottomTextOY}})})(l),i.scrollMode=0,i.type="rexTextArea",i.child={gameObject:l,proportion:u,expand:c};var f=_o(i,"space",void 0);return f&&(f.child=f.text),(n=function(t,e){return!e||"object"!==So(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,Po(e).call(this,t,i))).addChildrenMap("text",o),n}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Co(t,e)}(e,Hi),i=e,(n=[{key:"text",get:function(){return this.childrenMap.child.text}},{key:"linesCount",get:function(){return this.childrenMap.child.linesCount}}])&&To(i.prototype,n),e}(),Mo={setText:function(t){return this.childrenMap.child.setText(t),this.resizeController(),this},appendText:function(t){return this.setText(this.text+t),this}};Object.assign(jo.prototype,Mo);var Bo=jo;o.register("textArea",(function(t){var e=new Bo(this.scene,t);return this.scene.add.existing(e),e})),Object(s.a)(window,"RexPlugins.UI.TextArea",Bo);var Ao=Phaser.Utils.Objects.GetValue,Eo=Phaser.Display.Align.TOP_LEFT,Wo=i(118),Ro=i(58),Fo={setChild:function(t,e,i){t.setOrigin&&t.setOrigin(0),this.add(t);var n,o,r=this.getSizerConfig(t);if(r.parent=this,r.align=Eo,r.expand=e,this.child=t,!0===i?(n=!0,o=0):!1===i?n=!1:(n=Ao(i,"mask",!0),o=Ao(i,"padding",0)),n){var s=new se.a(this,0,o);this.childMask=s.createGeometryMask(),this.add(s)}return this},getChildrenWidth:function(){if(this.rexSizer.hidden)return 0;var t=this.child;return t.rexSizer.hidden?0:0===this.scrollMode?t.isRexSizer?Math.max(t.minWidth,t.childrenWidth):t.width:0},getChildrenHeight:function(){if(this.rexSizer.hidden)return 0;var t=this.child;return t.rexSizer.hidden||0===this.scrollMode?0:t.isRexSizer?Math.max(t.minHeight,t.childrenHeight):t.height},resetChildPosition:function(){var t=this.left,e=this.top;0===this.scrollMode?e+=this.childOY:t+=this.childOY,this.child.setPosition(t,e),Object(Wo.a)(this,this.childMask,this.child.getAllChildren()),this.resetChildPositionState(this.child)},layout:function(t,e,i){if(this.rexSizer.hidden)return this;this.layoutInit(t),void 0===e&&(e=Math.max(this.childrenWidth,this.minWidth)),void 0===i&&(i=Math.max(this.childrenHeight,this.minHeight)),this.resize(e,i);var n,o,r=this.child;if(!r.rexSizer.hidden&&(0===this.scrollMode?n=this.width:o=this.height,r.isRexSizer?r.layout(this,n,o):Object(H.a)(r,n,o),this.resetChildPosition(),this.childMask)){var s=Object(Ro.a)(this.childMask);s.setPosition().resize(),this.resetChildPositionState(s)}return this}};function Io(t){return(Io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Do(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Lo(t,e,i){return(Lo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=zo(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(i):o.value}})(t,e,i||t)}function zo(t){return(zo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Yo(t,e){return(Yo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ho=Phaser.Utils.Objects.IsPlainObject,No=Phaser.Utils.Objects.GetValue,Xo=function(t){function e(t,i,n,o,r,s){var a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Ho(i)?(i=No(s=i,"x",0),n=No(s,"y",0),o=No(s,"width",void 0),r=No(s,"height",void 0)):Ho(o)&&(o=No(s=o,"width",void 0),r=No(s,"height",void 0)),(a=function(t,e){return!e||"object"!==Io(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,zo(e).call(this,t,i,n,o,r,s))).type="rexScrollableBlock",a.child=void 0,a.childMask=void 0,a._childOY=0,a.execeedTopState=!1,a.execeedBottomState=!1,a.setScrollMode(No(s,"scrollMode",!0)),a.setClampMode(No(s,"clamplChildOY",!0));var h=No(s,"child",void 0),l=No(s,"expand",!0),u=No(s,"mask",void 0);return a.setChild(h,l,u),a}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Yo(t,e)}(e,nt),i=e,(n=[{key:"destroy",value:function(t){this.scene&&(this.child=void 0,this.childMask&&(this.childMask.destroy(),this.childMask=void 0),Lo(zo(e.prototype),"destroy",this).call(this,t))}},{key:"setScrollMode",value:function(t){return"string"==typeof t&&(t=ji[t.toLowerCase()]),this.scrollMode=t,this}},{key:"setClampMode",value:function(t){return this.clampChildOYMode=t,this}},{key:"childOYExceedTop",value:function(t){return void 0===t&&(t=this.childOY),t>this.topChildOY}},{key:"childOYExeceedBottom",value:function(t){return void 0===t&&(t=this.childOY),t<this.bottomChildOY}},{key:"setChildOY",value:function(t){return this.childOY=t,this}},{key:"setChildOYByPercentage",value:function(t){return this.t=t,this}},{key:"instHeight",get:function(){return 0===this.scrollMode?this.height:this.width}},{key:"instWidth",get:function(){return 0===this.scrollMode?this.width:this.height}},{key:"childHeight",get:function(){return 0===this.scrollMode?this.child.height:this.child.width}},{key:"childWidth",get:function(){return 0===this.scrollMode?this.child.width:this.child.height}},{key:"topChildOY",get:function(){return 0}},{key:"bottomChildOY",get:function(){return-this.visibleHeight}},{key:"visibleHeight",get:function(){var t=this.childHeight,e=this.instHeight;return t>e?t-e:0}},{key:"childOY",get:function(){return this._childOY},set:function(t){var e=this.topChildOY,i=this.bottomChildOY,n=this.childOYExceedTop(t),o=this.childOYExeceedBottom(t);this.clampChildOYMode&&(this.instHeight>this.childHeight?t=0:n?t=e:o&&(t=i)),this._childOY!==t&&(this._childOY=t,this.resetChildPosition()),n&&(this.execeedTopState||this.emit("execeedtop",this,t,e)),this.execeedTopState=n,o&&(this.execeedBottomState||this.emit("execeedbottom",this,t,i)),this.execeedBottomState=o}},{key:"t",set:function(t){this.childOY=-this.visibleHeight*t},get:function(){var t=this.visibleHeight;return 0===t?0:this.childOY/-t}}])&&Do(i.prototype,n),e}();Object.assign(Xo.prototype,Fo);var Go=Xo;function Uo(t){return(Uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vo(t){return(Vo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ko(t,e){return(Ko=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}o.register("scrollableBlock",(function(t){var e=new Go(this.scene,t);return this.scene.add.existing(e),e})),Object(s.a)(window,"RexPlugins.UI.ScrollableBlock",Go);var Jo=Phaser.Utils.Objects.GetValue,Zo=function(t){function e(t,i){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===i&&(i={});var o=Bi(i),r=Jo(i,"panel",void 0);void 0===r&&(r={}),r.scrollMode=o,r.clamplChildOY=Jo(i,"clamplChildOY",!1);var s,a,h=new Go(t,r),l=Jo(r,"width",void 0),u=Jo(r,"height",void 0);0===o?(s=void 0===l?1:0,a=void 0===u):(s=void 0===u?1:0,a=void 0===l),i.type="rexScrollablePanel",i.child={gameObject:h,proportion:s,expand:a};var c=Jo(i,"space",void 0);return c&&(c.child=c.panel),(n=function(t,e){return!e||"object"!==Uo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,Vo(e).call(this,t,i))).addChildrenMap("panel",n.childrenMap.child.child),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ko(t,e)}(e,Hi),e}();o.register("scrollablePanel",(function(t){var e=new Zo(this.scene,t);return this.scene.add.existing(e),e})),Object(s.a)(window,"RexPlugins.UI.ScrollablePanel",Zo);var Qo={popUp:0,fadeIn:1,scaleDown:0,fadeOut:1},qo=function(t,e){t.popUp(e)},$o=function(t,e){t.scaleDownDestroy(e,void 0,void 0,!1)},tr=function(t,e){t.fadeIn(e)},er=function(t,e){t.fadeOut(e,!1)},ir=i(176);function nr(t){return(nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function or(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function rr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sr(t,e,i){return(sr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ar(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(i):o.value}})(t,e,i||t)}function ar(t){return(ar=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function hr(t,e){return(hr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var lr=Phaser.Utils.Objects.GetValue,ur=function(t){function e(t,i){var n,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===i&&(i={text:createDefaultTextObject(t)}),(n=!(o=ar(e).call(this,t,i))||"object"!==nr(o)&&"function"!=typeof o?rr(this):o).type="rexToast",n.setTransitInTime(lr(i,"duration.in",200)),n.setDisplayTime(lr(i,"duration.hold",1200)),n.setTransitOutTime(lr(i,"duration.out",200)),n.setTransitInCallback(lr(i,"transitIn",Qo.popUp)),n.setTransitOutCallback(lr(i,"transitOut",Qo.scaleDown)),n.player=new ir.a(rr(n),{dtMode:1}),n.messages=[],n.setVisible(!1),n}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hr(t,e)}(e,pe),i=e,(n=[{key:"destroy",value:function(t){this.scene&&(this.player.destroy(),this.player=void 0,this.messages=void 0,sr(ar(e.prototype),"destroy",this).call(this,t))}},{key:"setDisplayTime",value:function(t){return this.displayTime=t,this}},{key:"setTransitOutTime",value:function(t){return this.transitOutTime=t,this}},{key:"setTransitInTime",value:function(t){return this.transitInTime=t,this}},{key:"setTransitInCallback",value:function(t){switch("string"==typeof t&&(t=Qo[t]),t){case Qo.popUp:t=qo;break;case Qo.fadeIn:t=tr}return this.transitInCallback=t,this}},{key:"setTransitOutCallback",value:function(t){switch("string"==typeof t&&(t=Qo[t]),t){case Qo.scaleDown:t=$o;break;case Qo.fadeOut:t=er}return this.transitOutCallback=t,this}},{key:"show",value:function(t){if(void 0===t){if(0===this.messages.length)return this;t=this.messages.shift()}if(this.player.isPlaying)return this.messages.push(t),this;this.setScale(1).setVisible(!0),"string"==typeof t?this.setText(t):t(this),this.layout();var e=[[0,[this.transitInCallback,this,this.transitInTime]],[this.transitInTime,[en.a]],[this.displayTime,[this.transitOutCallback,this,this.transitOutTime]],[this.transitOutTime,[this.setVisible,!1]],[30,[en.a]]];return this.player.load(e,this).once("complete",(function(){this.show()}),this).start(),this}}])&&or(i.prototype,n),e}();o.register("toast",(function(t){var e=new ur(this.scene,t);return this.scene.add.existing(e),e})),Object(s.a)(window,"RexPlugins.UI.Toast",ur);var cr=i(62);o.register("tap",(function(t,e){return Object(cr.a)(t)||(e=t,t=this.scene),new Zi(t,e)})),Object(s.a)(window,"RexPlugins.UI.Tap",Zi),o.register("press",(function(t,e){return Object(cr.a)(t)||(e=t,t=this.scene),new qi(t,e)})),Object(s.a)(window,"RexPlugins.UI.Press",qi);var fr=i(195).a;o.register("swipe",(function(t,e){return Object(cr.a)(t)||(e=t,t=this.scene),new fr(t,e)})),Object(s.a)(window,"RexPlugins.UI.Swipe",fr);var pr=i(191).a;o.register("pan",(function(t,e){return Object(cr.a)(t)||(e=t,t=this.scene),new pr(t,e)})),Object(s.a)(window,"RexPlugins.UI.Pan",pr);var dr=i(125).a;o.register("pinch",(function(t){return new dr(this.scene,t)})),Object(s.a)(window,"RexPlugins.UI.Pinch",dr);var yr=i(192).a;o.register("rotate",(function(t){return new yr(this.scene,t)})),Object(s.a)(window,"RexPlugins.UI.Rotate",yr);var gr=i(261).a;o.register("flip",(function(t,e){return new gr(t,e)})),Object(s.a)(window,"RexPlugins.UI.Flip",gr);var vr=i(258);function mr(t){return(mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function br(t){return(br=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wr(t,e){return(wr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var kr=function(t){function e(t,i){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==mr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,br(e).call(this,t,i))).add=new o(t),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wr(t,e)}(e,Phaser.Plugins.ScenePlugin),e}(),xr={hide:be,show:me,isShown:we,edit:vr.a};Object.assign(kr.prototype,xr),e.default=kr},4:function(t,e,i){"use strict";e.a={setEventEmitter:function(t,e){return void 0===e&&(e=Phaser.Events.EventEmitter),this._privateEE=void 0===t,this._eventEmitter=this._privateEE?new e:t,this},destroyEventEmitter:function(){this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown()},getEventEmitter:function(){return this._eventEmitter},on:function(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once:function(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off:function(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit:function(){return this._eventEmitter&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener:function(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener:function(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners:function(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount:function(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners:function(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]}}},5:function(t,e,i){"use strict";var n=Phaser.Scene;e.a=function(t){return t instanceof n}},51:function(t,e,i){"use strict";e.a=function(t,e,i){!t||void 0===e&&void 0===i||(t.resize?(void 0===e&&(e=t.width),void 0===i&&(i=t.height),t.resize(e,i)):(void 0!==e&&(t.displayWidth=e),void 0!==i&&(t.displayHeight=i)))}},52:function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=Phaser.Utils.Objects.GetValue,r=function(){function t(e,i,n,o,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cornerRadius={},this._width=0,this._height=0,this.setTo(e,i,n,o,r)}var e,i;return e=t,(i=[{key:"setTo",value:function(t,e,i,n,o){return this.setPosition(t,e),this.setRadius(o),this.setSize(i,n),this}},{key:"setPosition",value:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this}},{key:"setRadius",value:function(t){var e,i;void 0===t&&(t=0),"number"==typeof t?(e=t,i=t):(e=o(t,"x",0),i=o(t,"y",0));var n=this.cornerRadius;return n.tl=s(o(t,"tl",void 0),e,i),n.tr=s(o(t,"tr",void 0),e,i),n.bl=s(o(t,"bl",void 0),e,i),n.br=s(o(t,"br",void 0),e,i),this}},{key:"setSize",value:function(t,e){return this.width=t,this.height=e,this}},{key:"minWidth",get:function(){var t=this.cornerRadius;return Math.max(t.tl.x+t.tr.x,t.bl.x+t.br.x)}},{key:"minHeight",get:function(){var t=this.cornerRadius;return Math.max(t.tl.y+t.bl.y,t.tr.y+t.br.y)}},{key:"width",get:function(){return this._width},set:function(t){null==t&&(t=0),this._width=Math.max(t,this.minWidth)}},{key:"height",get:function(){return this._height},set:function(t){null==t&&(t=0),this._height=Math.max(t,this.minHeight)}},{key:"radius",get:function(){var t=this.cornerRadius;return Math.max(t.tl.x,t.tl.y,t.tr.x,t.tr.y,t.bl.x,t.bl.y,t.br.x,t.br.y)}}])&&n(e.prototype,i),t}(),s=function(t,e,i){return void 0===t?{x:e,y:i}:"number"==typeof t?{x:t,y:t}:t},a=r,h=function(t,e,i){var n=i.length;if(n>=2){var o=i[n-2],r=i[n-1];if(t===o&&e===r)return i}return i.push(t,e),i},l=i(15),u=i.n(l),c=Phaser.Utils.Objects.GetValue,f=function(t,e,i,n,o,r,s,a){var l,f,p,d=c(i,"x",i),y=c(i,"y",i);r&&(o+=360),n=u()(n);for(var g=((o=u()(o))-n)/s,v=0;v<=s;v++)p=n+g*v,l=t+d*Math.cos(p),f=e+y*Math.sin(p),h(l,f,a);return a},p=i(140),d=i.n(p),y=i(141),g=i.n(y),v=i(142),m=i.n(v),b=i(9),w=(b.a,b.a,{renderWebGL:g.a,renderCanvas:m.a});function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function x(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function S(t,e){return(S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var T=Phaser.Utils.Objects.GetValue,P=function(t){function e(t,i,n,o,r,s,h,l){var u;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===i&&(i=0),void 0===n&&(n=0);var c=T(s,"iteration",void 0);s=T(s,"radius",s);var f=new a(0,0,o,r,s);return(u=function(t,e){return!e||"object"!==k(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,O(e).call(this,t,"RoundRectangle",f))).setIteration(c),u.setPosition(i,n),void 0!==h&&u.setFillStyle(h,l),u.updateDisplayOrigin(),u.updateData(),u}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S(t,e)}(e,Phaser.GameObjects.Shape),i=e,(n=[{key:"updateData",value:function(){var t=this.geom,e=this.pathData;e.length=0;var i,n=t.cornerRadius,o=this.iteration+1;if(i=n.br,C(i)){var r=t.width-i.x,s=t.height-i.y;f(r,s,i,0,90,!1,o,e)}else h(t.width,t.height,e);return i=n.bl,C(i)?(r=i.x,s=t.height-i.y,f(r,s,i,90,180,!1,o,e)):h(0,t.height,e),i=n.tl,C(i)?(r=i.x,s=i.y,f(r,s,i,180,270,!1,o,e)):h(0,0,e),i=n.tr,C(i)?(r=t.width-i.x,s=i.y,f(r,s,i,270,360,!1,o,e)):h(t.width,0,e),e.push(e[0],e[1]),this.pathIndexes=d()(e),this}},{key:"resize",value:function(t,e){return void 0===e&&(e=t),this.geom.width===t&&this.geom.height===e||(this.geom.height=e,this.geom.width=t,this.updateDisplayOrigin(),this.updateData()),this}},{key:"setIteration",value:function(t){return void 0===t&&(t=6),this.iteration=t,this}},{key:"setRadius",value:function(t){return void 0===t&&(t=0),this.radius=t,this}},{key:"setCornerRadius",value:function(t){return this.setRadius(t)}},{key:"width",get:function(){return this.geom.width},set:function(t){this.width!==t&&(this.geom.width=t,this.updateDisplayOrigin(),this.updateData())}},{key:"height",get:function(){return this.geom.height},set:function(t){this.height!==t&&(this.geom.height=t,this.updateDisplayOrigin(),this.updateData())}},{key:"iteration",get:function(){return this._iteration},set:function(t){void 0!==this._iteration?this._iteration!==t&&(this._iteration=t,this.updateData()):this._iteration=t}},{key:"radius",get:function(){return this.geom.radius},set:function(t){this.geom.setRadius(t),this.updateDisplayOrigin(),this.updateData()}},{key:"cornerRadius",get:function(){return this.geom.cornerRadius},set:function(t){this.radius=t}}])&&x(i.prototype,n),e}(),C=function(t){return 0!==t.x&&0!==t.y};Object.assign(P.prototype,w),e.a=P},53:function(t,e,i){"use strict";var n=i(25),o=i(73);function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=null,this.setParent(e),this._deltaHeight=0}var e,i;return e=t,(i=[{key:"setParent",value:function(t){this.parent=t,this.parentContainer=t.getParentContainer()}},{key:"destroy",value:function(t){if(void 0===t&&(t=!1),!t){var e=this.parent;0!==this.deltaHeight&&e.nonZeroDeltaHeightCount--,this.destroyContainer()}this.data=void 0,this.container=null,this.parent=void 0,this.parentContainer=void 0}},{key:"getContainer",value:function(){return this.container}},{key:"setContainer",value:function(t){return this.container&&this.container.destroy(),this.container=t,this.parentContainer.add(t),this}},{key:"destroyContainer",value:function(){return this.container&&(this.container.destroy(),this.container=null),this}},{key:"popContainer",value:function(){if(this.container){var t=this.container;return this.container=null,this.parentContainer.remove(t),t}return null}},{key:"setXY",value:function(t,e){return this.container&&this.parentContainer.setChildLocalPosition(this.container,t,e),this}},{key:"setDeltaHeight",value:function(t){return this.deltaHeight=t,this}},{key:"setHeight",value:function(t){return this.height=t,this}},{key:"setWidth",value:function(t){return this.width=t,this}},{key:"table",get:function(){return this.parent}},{key:"scrollMode",get:function(){return this.parentContainer.scrollMode}},{key:"colIndx",get:function(){return this.parent.cellIndxeToColIndex(this.index)}},{key:"rowIndx",get:function(){return this.parent.cellIndxeToRowIndex(this.index)}},{key:"deltaHeight",get:function(){return this._deltaHeight},set:function(t){null==t&&(t=0);var e=this.parent;0===this._deltaHeight&&0!==t?e.nonZeroDeltaHeightCount++:0!==this._deltaHeight&&0===t&&e.nonZeroDeltaHeightCount--,this._deltaHeight=t}},{key:"height",get:function(){return 0===this.scrollMode?this.deltaHeight+this.parent.defaultCellHeight:this.parent.defaultCellWidth},set:function(t){1!==this.scrollMode&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}},{key:"width",get:function(){return 0===this.scrollMode?this.parent.defaultCellWidth:this.deltaHeight+this.parent.defaultCellHeight},set:function(t){0!==this.scrollMode&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}},{key:"scene",get:function(){return this.parentContainer.scene}}])&&r(e.prototype,i),t}();Object.assign(s.prototype,o.a);var a=s,h=i(12);function l(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var u=Phaser.Utils.Objects.GetValue,c=Phaser.Utils.Array.SpliceOne,f=new h.a,p=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent=e,this.cells=[],this.resetFromJSON(i)}var e,i;return e=t,(i=[{key:"resetFromJSON",value:function(t){return this.colCount=void 0,this._nonZeroDeltaHeightCount=0,this.resetTotalRowsHeight(),this.setDefaultCellHeight(u(t,"cellHeight",30)),this.setDefaultCellWidth(u(t,"cellWidth",30)),this.initCells(u(t,"cellsCount",0)),this.setColumnCount(u(t,"columns",1)),this}},{key:"destroy",value:function(t){for(var e=0,i=this.cells.length;e<i;e++)this.freeCell(this.cells[e],t);this.cells=void 0,this.parent=void 0}},{key:"setDefaultCellHeight",value:function(t){return this.defaultCellHeight=t,this}},{key:"setDefaultCellWidth",value:function(t){return this.defaultCellWidth=t,this}},{key:"initCells",value:function(t){var e=this.cells;e.length=t;for(var i=0;i<t;i++)e[i]=null;return this}},{key:"insertNewCell",value:function(t,e){var i=this.cells;if(t===i.length){var n=t+e;i.legth=n;for(var o=t;o<n;o++)i[o]=null}else{var r,s=[];for(s.length=e,o=0;o<e;o++)s[o]=null;(r=this.cells).splice.apply(r,[t,0].concat(s))}return this.resetTotalRowsHeight(),this}},{key:"removeCell",value:function(t,e){for(var i=t+e,n=t;n<i;n++)this.freeCell(n);return i===this.cells.length?this.cells.length=t:(1===e?c(this.cells,t):this.cells.splice(t,e),this.buildCellIndex(t)),this.resetTotalRowsHeight(),this}},{key:"setColumnCount",value:function(t){return this.colCount=t,this.resetTotalRowsHeight(),this}},{key:"isValidCellIdx",value:function(t){return t>=0&&t<this.cells.length}},{key:"heightToRowIndex",value:function(t,e){if(this.defaultCellHeightMode){var i=t/this.defaultCellHeight;return e?Math.ceil(i):Math.floor(i)}var n,o=this.rowCount,r=t;for(i=0;;){if(n=i>=0&&i<o,!((r-=this.getRowHeight(i))>0&&n)){if(0===r)return i;if(e){var s=i;(n=(i+=1)>=0&&i<o)||(i=s)}return i}i+=1}}},{key:"widthToColIndex",value:function(t,e){var i=t/this.defaultCellWidth;return e?Math.ceil(i):Math.floor(i)}},{key:"colRowToCellIndex",value:function(t,e){return t>=this.colCount?null:e*this.colCount+t}},{key:"rowIndexToHeight",value:function(t,e){if(this.defaultCellHeightMode)return(e-t+1)*this.defaultCellHeight;for(var i=0,n=t;n<=e;n++)i+=this.getRowHeight(n);return i}},{key:"colIndexToWidth",value:function(t,e){return(e-t+1)*this.defaultCellWidth}},{key:"getRowHeight",value:function(t){var e=this.colCount;if(e<=1)return this.getCellHeight(this.colRowToCellIndex(0,t));for(var i,n=0,o=0;o<e;o++)n<(i=this.getCellHeight(this.colRowToCellIndex(o,t)))&&(n=i);return n}},{key:"getColWidth",value:function(t){return this.defaultCellWidth}},{key:"getCellHeight",value:function(t){if(!this.isValidCellIdx(t))return 0;var e;if(this.defaultCellHeightMode)e=this.defaultCellHeight;else{var i=this.getCell(t,!1),n=i?i.deltaHeight:0;e=this.defaultCellHeight+n}return e}},{key:"resetTotalRowsHeight",value:function(){this._totalRowsHeight=null}},{key:"cellIndxeToColIndex",value:function(t){return t%this.colCount}},{key:"cellIndxeToRowIndex",value:function(t){return Math.floor(t/this.colCount)}},{key:"getCell",value:function(t,e){if(!this.isValidCellIdx(t))return null;if(void 0===e&&(e=!0),null===this.cells[t]&&e){var i=this.newCell(t);this.cells[t]=i}return this.cells[t]}},{key:"newCell",value:function(t){var e=f.pop();return null===e?e=new a(this):e.setParent(this),e.index=t,e}},{key:"buildCellIndex",value:function(t){void 0===t&&(t=0);for(var e,i=this.cells,n=t,o=i.length;n<o;n++)(e=i[n])&&(e.index=n);return this}},{key:"getParentContainer",value:function(){return this.parent}},{key:"freeCell",value:function(t,e){return"number"==typeof t&&(t=this.cells[t]),t?(t.destroy(e),f.push(t),this):this}},{key:"nonZeroDeltaHeightCount",get:function(){return this._nonZeroDeltaHeightCount},set:function(t){this._nonZeroDeltaHeightCount!==t&&(this._nonZeroDeltaHeightCount=t,this.resetTotalRowsHeight())}},{key:"defaultCellHeightMode",get:function(){return 0===this.nonZeroDeltaHeightCount}},{key:"rowCount",get:function(){return Math.ceil(this.cells.length/this.colCount)}},{key:"cellsCount",get:function(){return this.cells.length}},{key:"totalRowsHeight",get:function(){return null===this._totalRowsHeight&&(this._totalRowsHeight=this.rowIndexToHeight(0,this.rowCount-1)),this._totalRowsHeight}},{key:"totalColumnWidth",get:function(){return this.colCount*this.defaultCellWidth}}])&&l(e.prototype,i),t}(),d=i(61),y=i(51),g=i(58),v=i(118);function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k(t,e,i){return(k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=x(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(i):o.value}})(t,e,i||t)}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function O(t,e){return(O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var S=n.a,T=Phaser.GameObjects.Components,P=Phaser.Structs.Set,C=Phaser.Utils.Objects.GetValue,_=Phaser.Math.Clamp,j=function(t){function e(t,i,n,o,r,s){var a,h;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===s&&(s={}),(a=!(h=x(e).call(this,t,i,n,o,r))||"object"!==m(h)&&"function"!=typeof h?w(this):h).type="rexGridTable",a._tableOX=0,a._tableOY=0,a.visibleCells=new P,a.preVisibleCells=new P,a.visibleStartX=null,a.visibleEndX=null,a.visibleStartY=null,a.visibleEndY=null,a.lastVisibleCellIdx=null,a.execeedTopState=!1,a.execeedBottomState=!1,a.execeedLeftState=!1,a.execeedRightState=!1;var l=C(s,"reuseCellContainer",!1);a.cellContainersPool=l?t.add.group():void 0;var u=C(s,"cellVisibleCallback",null);if(null!==u){var c=C(s,"cellVisibleCallbackScope",void 0);a.on("cellvisible",u,c)}if(null!==(u=C(s,"cellInvisibleCallback",null))&&(c=C(s,"cellInvisibleCallbackScope",void 0),a.on("cellinvisible",u,c)),a.cellsMask=void 0,a.setCellsMask(C(s,"mask",!0)),a.setScrollMode(C(s,"scrollMode",0)),a.setClampMode(C(s,"clamplTableOXY",!0)),0===a.scrollMode){var f=C(s,"cellWidth",void 0);if(a.expandCellSize=void 0===f,void 0===f){var d=C(s,"columns",1);s.cellWidth=a.width/d}}else{f=C(s,"cellHeight",void 0);var y=C(s,"cellWidth",void 0);a.expandCellSize=void 0===f,s.cellWidth=f,s.cellHeight=y}return a.table=new p(w(a),s),a.updateTable(),a}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O(t,e)}(e,S),i=e,(n=[{key:"destroy",value:function(t){this.scene&&(t||this.setCellsCount(0),this.table.destroy(t),this.table=void 0,this.cellContainersPool&&(this.cellContainersPool.destroy(!0),this.cellContainersPool=void 0),k(x(e.prototype),"destroy",this).call(this,t))}},{key:"setScrollMode",value:function(t){return"string"==typeof t&&(t=M[t.toLowerCase()]),this.scrollMode=t,this}},{key:"setClampMode",value:function(t){return this.clampTableOXYMode=t,this}},{key:"setCellsCount",value:function(t){var e=this.cellsCount;return e===t||(e>t?this.removeCell(t,e-t):this.insertNewCell(e,t-e)),this}},{key:"setColumnCount",value:function(t){return this.table.colCount===t||this.table.setColumnCount(t),this}},{key:"setGridSize",value:function(t,e){return this.setCellsCount(t*e),this.table.setColumnCount(t),this}},{key:"insertNewCell",value:function(t,e){return"object"===m(t)&&(t=t.index),void 0===e&&(e=1),e<=0||(t=_(t,0,this.cellsCount),this.table.insertNewCell(t,e)),this}},{key:"removeCell",value:function(t,e){if("object"===m(t)&&(t=t.index),void 0===e&&(e=1),t<0&&(e+=t,t=0),e<=0)return this;if(t>this.cellsCount)return this;if(t<=this.lastVisibleCellIdx)for(var i,n=this.preVisibleCells,o=this.visibleCells,r=t,s=t+e;r<s;r++)(i=this.getCell(r,!1))&&(o.contains(i)&&(this.hideCell(i),o.delete(i)),n.delete(i));return this.table.removeCell(t,e),this}},{key:"setTableOY",value:function(t){var e=this.table,i=this.topTableOY,n=this.bottomTableOY,o=this.tableOYExceedTop(t),r=this.tableOYExeceedBottom(t);return this.clampTableOXYMode&&(e.rowCount<e.heightToRowIndex(this.instHeight,!0)?t=0:o?t=i:r&&(t=n)),this._tableOY!==t&&(this._tableOY=t),o&&(this.execeedTopState||this.emit("execeedtop",this,t,i)),this.execeedTopState=o,r&&(this.execeedBottomState||this.emit("execeedbottom",this,t,n)),this.execeedBottomState=r,this}},{key:"setTableOX",value:function(t){var e=this.table,i=this.leftTableOX,n=this.rightTableOX,o=this.tableOXExeceedLeft(t),r=this.tableOXExeceedRight(t);return this.clampTableOXYMode&&(e.colCount<e.widthToColIndex(this.instWidth,!0)?t=0:o?t=i:r&&(t=n)),this._tableOX!==t&&(this._tableOX=t),o&&(this.execeedLeftState||this.emit("execeedleft",this,t,i)),this.execeedLeftState=o,r&&(this.execeedRightState||this.emit("execeedright",this,t,n)),this.execeedRightState=r,this}},{key:"setTableOXY",value:function(t,e){return this.setTableOY(e).setTableOX(t),this}},{key:"addTableOY",value:function(t){return this.setTableOY(this.tableOY+t),this}},{key:"addTableOX",value:function(t){return this.setTableOX(this.tableOX+t),this}},{key:"addTableOXY",value:function(t,e){return this.addTableOY(e).addTableOX(t),this}},{key:"setTableOYByPercentage",value:function(t){return this.setTableOY(-this.tableVisibleHeight*t),this}},{key:"getTableOYPercentage",value:function(){var t=this.tableVisibleHeight;return 0===t?0:this.tableOY/-t}},{key:"updateTable",value:function(t){return void 0===t&&(t=!1),t&&(this.clearVisibleCellIndexes(),this.hideCells()),this.clearVisibleCellIndexes(),this.showCells(),this.hideCells(),this.maskCells(),this}},{key:"getCell",value:function(t){return this.table.getCell(t,!0)}},{key:"getCellContainer",value:function(t){var e,i=this.table.getCell(t,!1);return i&&(e=i.getContainer()),e}},{key:"setCellHeight",value:function(t,e){return("number"==typeof t?this.table.getCell(t,!0):t).height=e,this}},{key:"setCellWidth",value:function(t,e){return("number"==typeof t?this.table.getCell(t,!0):t).width=e,this}},{key:"pointerToCellIndex",value:function(t,e){e-=this.y+this.topLeftY,t-=this.x+this.topLeftX;var i=this.tableOY-(0===this.scrollMode?e:t),n=this.tableOX-(0===this.scrollMode?t:e),o=this.table,r=o.heightToRowIndex(-i),s=o.widthToColIndex(-n),a=o.colRowToCellIndex(s,r);return null===a?null:this.cellIsVisible(a)?a:null}},{key:"pointerToCellContainer",value:function(t,e){var i=this.pointerToCellIndex(t,e);if(null!==i)return this.getCellContainer(i)}},{key:"cellIsVisible",value:function(t){var e=this.table.getCell(t,!1);return e&&this.visibleCells.contains(e)}},{key:"eachVisibleCell",value:function(t,e){return this.visibleCells.each(t,e),this}},{key:"iterateVisibleCell",value:function(t,e){return this.visibleCells.iterate(t,e),this}},{key:"setCellsMask",value:function(t){var e,i;if(!0===t?(e=!0,i=0):!1===t?e=!1:(e=C(t,"mask",!0),i=C(t,"padding",0)),e){var n=new d.a(this,0,i);this.cellsMask=n.createGeometryMask(),this.add(n)}return this}},{key:"maskCells",value:function(){for(var t,e=[],i=this.visibleCells.entries,n=0,o=i.length;n<o;n++)(t=i[n].getContainer())&&(t.isRexContainerLite?t.getAllChildren(e):e.push(t));Object(v.a)(this,this.cellsMask,e)}},{key:"resize",value:function(t,i){return this.width===t&&this.height===i||(k(x(e.prototype),"resize",this).call(this,t,i),this.cellsMask&&Object(y.a)(Object(g.a)(this.cellsMask),t,i),this.expandCellSize&&this.table.setDefaultCellWidth(this.instWidth/this.table.colCount),this.updateTable(!0)),this}},{key:"clearVisibleCellIndexes",value:function(){var t=this.preVisibleCells;this.preVisibleCells=this.visibleCells,this.visibleCells=t,this.visibleCells.clear()}},{key:"showCells",value:function(){if(0!==this.cellsCount){var t=this.table,e=t.heightToRowIndex(-this.tableOY);e<0&&(e=0);var i=t.widthToColIndex(-this.tableOX);i<0&&(i=0);var n=t.colRowToCellIndex(i,e),o=this.bottomBound,r=this.rightBound,s=t.cellsCount-1,a=t.colCount-1,h=this.getTLX(i),l=h,u=this.getTLY(e);for(this.visibleStartY=null,this.visibleEndY=null,this.visibleStartX=null,this.visibleEndX=null,this.lastVisibleCellIdx=null;u<o&&n<=s;){if(this.table.isValidCellIdx(n)){null===this.visibleStartY&&(this.visibleStartY=e,this.visibleEndY=e),null===this.visibleStartX&&(this.visibleStartX=i,this.visibleEndX=i),null===this.lastVisibleCellIdx&&(this.lastVisibleCellIdx=n),this.visibleEndY<e&&(this.visibleEndY=e),this.visibleEndX<i&&(this.visibleEndX=i),this.lastVisibleCellIdx<n&&(this.lastVisibleCellIdx=n);var c=t.getCell(n,!0);this.visibleCells.set(c),this.preVisibleCells.contains(c)||this.showCell(c),0===this.scrollMode?c.setXY(l,u):c.setXY(u,l)}l<r&&i<a?(l+=t.getColWidth(i),i+=1):(l=h,u+=t.getRowHeight(e),i=this.visibleStartX,e+=1),n=t.colRowToCellIndex(i,e)}}}},{key:"showCell",value:function(t){var e=null;if(this.cellContainersPool&&null!==(e=this.cellContainersPool.getFirstDead())&&e.setActive(!0).setVisible(!0),this.emit("cellvisible",t,e),this.cellContainersPool){var i=t.getContainer();i?null===e?this.cellContainersPool.add(i):e!==i&&(this.cellContainersPool.add(i),this.cellContainersPool.killAndHide(e)):null!==e&&this.cellContainersPool.killAndHide(e)}}},{key:"hideCells",value:function(){var t=this.preVisibleCells,e=this.visibleCells;t.iterate((function(t){e.contains(t)||this.hideCell(t)}),this)}},{key:"hideCell",value:function(t){if(this.emit("cellinvisible",t),this.cellContainersPool){var e=t.popContainer();e&&this.cellContainersPool.killAndHide(e)}t.destroyContainer()}},{key:"tableOYExceedTop",value:function(t){return void 0===t&&(t=this.tableOY),t>this.topTableOY}},{key:"tableOYExeceedBottom",value:function(t){return void 0===t&&(t=this.tableOY),t<this.bottomTableOY}},{key:"tableOXExeceedLeft",value:function(t){return void 0===t&&(t=this.tableOX),t>this.leftTableOX}},{key:"tableOXExeceedRight",value:function(t){return void 0===t&&(t=this.tableOX),t<this.rightTableOX}},{key:"getTLX",value:function(t){var e=0===this.scrollMode?this.topLeftX:this.topLeftY;return this.tableOX+this.table.colIndexToWidth(0,t-1)+e}},{key:"getTLY",value:function(t){var e=0===this.scrollMode?this.topLeftY:this.topLeftX;return this.tableOY+this.table.rowIndexToHeight(0,t-1)+e}},{key:"tableOY",get:function(){return this._tableOY},set:function(t){this.setTableOY(t).updateTable()}},{key:"tableOX",get:function(){return this._tableOX},set:function(t){this.setTableOX(t).updateTable()}},{key:"t",set:function(t){this.setTableOYByPercentage(t).updateTable()},get:function(){return this.getTableOYPercentage()}},{key:"cellsCount",get:function(){return this.table.cellsCount}},{key:"columnCount",get:function(){return this.table.colCount}},{key:"instHeight",get:function(){return 0===this.scrollMode?this.height:this.width}},{key:"instWidth",get:function(){return 0===this.scrollMode?this.width:this.height}},{key:"tableHeight",get:function(){return this.table.totalRowsHeight}},{key:"tableWidth",get:function(){return this.table.totalColumnWidth}},{key:"topTableOY",get:function(){return 0}},{key:"bottomTableOY",get:function(){return-this.tableVisibleHeight}},{key:"leftTableOX",get:function(){return 0}},{key:"rightTableOX",get:function(){return-this.tableVisibleWidth}},{key:"tableVisibleHeight",get:function(){var t=this.tableHeight,e=this.instHeight;return t>e?t-e:0}},{key:"tableVisibleWidth",get:function(){var t=this.tableWidth,e=this.instWidth;return t>e?t-e:0}},{key:"bottomLeftY",get:function(){return-this.displayHeight*this.originY+this.displayHeight}},{key:"topRightX",get:function(){return-this.displayWidth*this.originX+this.displayWidth}},{key:"topLeftX",get:function(){return-this.displayWidth*this.originX}},{key:"topLeftY",get:function(){return-this.displayHeight*this.originY}},{key:"bottomBound",get:function(){return 0===this.scrollMode?this.bottomLeftY:this.topRightX}},{key:"rightBound",get:function(){return 0===this.scrollMode?this.topRightX:this.bottomLeftY}}])&&b(i.prototype,n),e}();Object.assign(j.prototype,T.GetBounds);var M={v:0,vertical:0,h:1,horizontal:1};e.a=j},54:function(t,e,i){"use strict";var n=i(57);function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r={plainText:null,prevProp:null},s=new(i(34).a),a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),void 0===e&&(e={}),this.tags=e}var e,i;return e=t,(i=[{key:"addTag",value:function(t,e){this.tags[t]=e}},{key:"splitText",value:function(t,e){for(var i,n,o,r=[],s=0,a=t.length,h=a;i=u.exec(t);)n=i[0],s<(h=u.lastIndex-n.length)&&r.push(t.substring(s,h)),void 0===e?r.push(n):1===e&&(c.test(n)?(o=n.match(f),r.push(o[2])):p.test(n)&&(o=n.match(d),r.push(o[2]))),s=u.lastIndex;return s<a&&r.push(t.substring(s,a)),r}},{key:"tagTextToProp",value:function(t,e){var i,n;if(c.test(t)){if(null!=(a=t.match(f))){var o=a[1],s=this.tags;(n=s.hasOwnProperty(o)?s[o]:{})._class=o,i=a[2]}}else if(p.test(t)){var a;if(null!=(a=t.match(d))){var l=a[1];(n=h(l))._style=l,i=a[2]}}null==i&&(i=t),null==n&&(n={});var u=r;return u.plainText=i,u.prop=n,u}},{key:"propToContextStyle",value:function(t,e){var i=s;if(e.hasOwnProperty("img"))i.image=e.img;else{if(i.image=null,e.hasOwnProperty("family")||e.hasOwnProperty("fontFamily")||e.hasOwnProperty("font-family")){var n=e.hasOwnProperty("family")?e.family:e.hasOwnProperty("fontFamily")?e.fontFamily:e["font-family"];i.fontFamily=n}else i.fontFamily=t.fontFamily;if(e.hasOwnProperty("size")||e.hasOwnProperty("fontSize")||e.hasOwnProperty("font-size")){var o=e.hasOwnProperty("size")?e.size:e.hasOwnProperty("fontSize")?e.fontSize:e["font-size"];"number"==typeof o&&(o=o.toString()+"px"),i.fontSize=o}else i.fontSize=t.fontSize;if(e.hasOwnProperty("style")||e.hasOwnProperty("fontStyle")||e.hasOwnProperty("font-style")){var r=e.hasOwnProperty("style")?e.style:e.hasOwnProperty("fontStyle")?e.fontStyle:e["font-style"];i.fontStyle=r}else i.fontStyle=t.fontStyle;if(e.hasOwnProperty("color")||e.hasOwnProperty("font-color")?(e.hasOwnProperty("color")?e.color:e["font-color"],i.color=e.color):i.color=t.color,e.hasOwnProperty("stroke")){var a=e.stroke;i.stroke=a.hasOwnProperty("color")?a.color:t.stroke,i.strokeThickness=a.hasOwnProperty("thinkness")?a.thinkness:t.strokeThickness}else i.stroke=t.stroke,i.strokeThickness=t.strokeThickness}if(e.hasOwnProperty("shadow")){var h=e.shadow;i.shadowColor=h.hasOwnProperty("color")?h.color:t.shadowColor,i.shadowOffsetX=h.hasOwnProperty("offsetX")?h.offsetX:t.shadowOffsetX,i.shadowOffsetY=h.hasOwnProperty("offsetY")?h.offsetY:t.shadowOffsetY,i.shadowBlur=h.hasOwnProperty("blur")?h.blur:t.shadowBlur,i.shadowStroke=!0,i.shadowFill=!0}else i.shadowColor=t.shadowColor,i.shadowOffsetX=t.shadowOffsetX,i.shadowOffsetY=t.shadowOffsetY,i.shadowBlur=t.shadowBlur,i.shadowStroke=t.shadowStroke,i.shadowFill=t.shadowFill;if(e.hasOwnProperty("u")||e.hasOwnProperty("underline")){var l=e.hasOwnProperty("u")?e.u:e.underline;i.underlineColor=l.hasOwnProperty("color")?l.color:t.underlineColor,i.underlineThickness=l.hasOwnProperty("thinkness")?l.thinkness:t.underlineThickness,i.underlineOffset=l.hasOwnProperty("offset")?l.offset:t.underlineOffset}else i.underlineColor=t.underlineColor,i.underlineThickness=t.underlineThickness,i.underlineOffset=t.underlineOffset;return i}},{key:"propToTagText",value:function(t,e,i){return e.hasOwnProperty("_class")?""===t&&this.isTextTag(e._class)?"":"<class='"+e._class+"'>"+t+"</class>":e.hasOwnProperty("_style")?"<style='"+e._style+"'>"+t+"</style>":void 0}},{key:"destroy",value:function(){this.tags=void 0}},{key:"isTextTag",value:function(t){var e=this.tags[t];return!!e&&null==e.img}}])&&o(e.prototype,i),t}(),h=function(t){for(var e,i,n,o={},r=0,s=(t=t.split(";")).length;r<s;r++)if(i=(e=t[r].split(":"))[0],n=e[1],!l(i)&&!l(n)){switch(i){case"stroke":var a=n.split(" ");n={},(u=a.length)>=1&&(n.color=a[0]),u>=2&&(n.thinkness=parseInt(a[1].replace("px","")));break;case"shadow":var h=n.split(" ");n={},(u=h.length)>=1&&(n.color=h[0]),u>=2&&(n.offsetX=parseInt(h[1].replace("px",""))),u>=3&&(n.offsetY=parseInt(h[2].replace("px",""))),u>=4&&(n.blur=parseInt(h[3].replace("px","")));break;case"u":case"underline":var u,c=n.split(" ");n={},(u=c.length)>=1&&(n.color=c[0]),u>=2&&(n.thinkness=parseInt(c[1].replace("px",""))),u>=3&&(n.offset=parseInt(c[2].replace("px","")))}o[i]=n}return o},l=function(t){return 0===(t=t.replace(y,"")).length},u=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>|<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/g,c=/<\s*class=/i,f=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>/,p=/<\s*style=/i,d=/<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/,y=/^\s+|\s+$/,g=a;function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function b(t,e,i){return(b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=w(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(i):o.value}})(t,e,i||t)}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var x=Phaser.Utils.Objects.GetValue,O=function(t){function e(t,i,n,o,r){var s;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=x(r,"tags",void 0),h=new g(a);return(s=function(t,e){return!e||"object"!==v(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,w(e).call(this,t,i,n,o,r,"rexTagText",h))).parser=h,s}var i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}(e,n.a),i=e,(o=[{key:"addTag",value:function(t,e){return this.parser.addTag(t,e),this.updateText(!0)}},{key:"addTags",value:function(t){for(var e in t)this.parser.addTag(e,t[e]);return this.updateText(!0)}},{key:"preDestroy",value:function(){b(w(e.prototype),"preDestroy",this).call(this),this.parser.destroy(),this.parser=void 0}}])&&m(i.prototype,o),e}();e.a=O},55:function(t,e,i){"use strict";var n=i(57),o={plainText:null,prevProp:null},r=new(i(34).a),s={},a={splitText:function(t,e){for(var i,n,o=[],r=0,s=t.length,a=s;i=u.exec(t);)n=i[0],r<(a=u.lastIndex-n.length)&&o.push(t.substring(r,a)),void 0===e&&o.push(n),r=u.lastIndex;return r<s&&o.push(t.substring(r,s)),o},tagTextToProp:function(t,e){var i,n;null==e&&(e={}),e.img&&h(e,B,"img"),c.test(t)?(h(e,A,"b",!0),i=""):f.test(t)?(h(e,B,"b"),i=""):p.test(t)?(h(e,A,"i",!0),i=""):d.test(t)?(h(e,B,"i"),i=""):y.test(t)?(n=t.match(y),h(e,A,"size",n[1]+"px"),i=""):g.test(t)?(h(e,B,"size"),i=""):v.test(t)?(n=t.match(v),h(e,A,"color",n[1]),i=""):m.test(t)?(h(e,B,"color"),i=""):b.test(t)?(n=t.match(b),h(e,A,"u",!0),i=""):w.test(t)?(n=t.match(w),h(e,A,"u",n[1]),i=""):k.test(t)?(h(e,B,"u"),i=""):x.test(t)?(h(e,A,"shadow",!0),i=""):O.test(t)?(h(e,B,"shadow"),i=""):S.test(t)?(h(e,A,"stroke",!0),i=""):T.test(t)?(n=t.match(T),h(e,A,"stroke",n[1]),i=""):P.test(t)?(h(e,B,"stroke"),i=""):C.test(t)?(n=t.match(C),h(e,A,"img",n[1]),i=""):_.test(t)?(h(e,B,"img"),i=""):j.test(t)?(n=t.match(j),h(e,A,"area",n[1]),i=""):M.test(t)?(h(e,B,"area"),i=""):i=t;var r=o;return r.plainText=i,r.prop=e,r},propToContextStyle:function(t,e){var i=r;if(e.hasOwnProperty("img"))i.image=e.img;else{if(i.image=null,e.hasOwnProperty("family")?i.fontFamily=e.family:i.fontFamily=t.fontFamily,e.hasOwnProperty("size")){var n=e.size;"number"==typeof n&&(n=n.toString()+"px"),i.fontSize=n}else i.fontSize=t.fontSize;i.fontStyle=l(e.b,e.i),e.hasOwnProperty("color")?i.color=e.color:i.color=t.color,e.hasOwnProperty("stroke")?!0===e.stroke?(i.stroke=t.stroke,i.strokeThickness=t.strokeThickness):(i.stroke=e.stroke,i.strokeThickness=t.strokeThickness):(i.stroke=t.stroke,i.strokeThickness=0)}return e.hasOwnProperty("shadow")?!0===e.shadow?(i.shadowColor=t.shadowColor,i.shadowOffsetX=t.shadowOffsetX,i.shadowOffsetY=t.shadowOffsetY,i.shadowBlur=t.shadowBlur,i.shadowStroke=!0,i.shadowFill=!0):(i.shadowColor=e.shadow,i.shadowOffsetX=t.shadowOffsetX,i.shadowOffsetY=t.shadowOffsetY,i.shadowBlur=t.shadowBlur,i.shadowStroke=!0,i.shadowFill=!0):(i.shadowColor="#000",i.shadowOffsetX=0,i.shadowOffsetY=0,i.shadowBlur=0,i.shadowStroke=!1,i.shadowFill=!1),e.hasOwnProperty("u")?!0===e.u?(i.underlineColor=t.underlineColor,i.underlineThickness=t.underlineThickness,i.underlineOffset=t.underlineOffset):(i.underlineColor=e.u,i.underlineThickness=t.underlineThickness,i.underlineOffset=t.underlineOffset):(i.underlineColor="#000",i.underlineThickness=0,i.underlineOffset=0),i},propToTagText:function(t,e,i){for(var n in null==i&&(i=s),i)e.hasOwnProperty(n)||(t="[/"+n+"]"+t);var o="";for(var n in e)i[n]!==e[n]&&("size"===n?o+="[size="+e[n].replace("px","")+"]":"color"===n||"stroke"===n||"img"===n?o+="["+n+"="+e[n]+"]":"u"===n?!0===e[n]?o+="[u]":o+="[u="+e[n]+"]":o+="["+n+"]");return o+t}},h=function(t,e,i,n){return e===A?t[i]=n:t.hasOwnProperty(i)&&delete t[i],t},l=function(t,e){return t&&e?"bold italic":t?"bold":e?"italic":""},u=/\[b\]|\[\/b\]|\[i\]|\[\/i\]|\[size=(\d+)\]|\[\/size\]|\[color=([a-z]+|#[0-9abcdef]+)\]|\[\/color\]|\[u\]|\[u=([a-z]+|#[0-9abcdef]+)\]|\[\/u\]|\[shadow\]|\[\/shadow\]|\[stroke\]|\[stroke=([a-z]+|#[0-9abcdef]+)\]|\[\/stroke\]|\[img=([^\]]+)\]|\[\/img\]|\[area=([^\]]+)\]|\[\/area\]/gi,c=/\[b\]/i,f=/\[\/b\]/i,p=/\[i\]/i,d=/\[\/i\]/i,y=/\[size=(\d+)\]/i,g=/\[\/size\]/i,v=/\[color=([a-z]+|#[0-9abcdef]+)\]/i,m=/\[\/color\]/i,b=/\[u\]/i,w=/\[u=([a-z]+|#[0-9abcdef]+)\]/i,k=/\[\/u\]/i,x=/\[shadow\]/i,O=/\[\/shadow\]/i,S=/\[stroke\]/i,T=/\[stroke=([a-z]+|#[0-9abcdef]+)\]/i,P=/\[\/stroke\]/i,C=/\[img=([^\]]+)\]/i,_=/\[\/img\]/i,j=/\[area=([^\]]+)\]/i,M=/\[\/area\]/i,B=!1,A=!0,E=a;function W(t){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function R(t){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function F(t,e){return(F=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var I=function(t){function e(t,i,n,o,r){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){return!e||"object"!==W(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,R(e).call(this,t,i,n,o,r,"rexBBCodeText",E))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&F(t,e)}(e,n.a),e}();e.a=I},56:function(t,e,i){"use strict";var n=i(5);e.a=function(t){return Object(n.a)(t)?t.events:t.on?t:void 0}},57:function(t,e,i){"use strict";var n=i(71),o=i.n(n),r=i(72),s=i.n(r),a=i(9),h=(a.a,a.a,{renderWebGL:o.a,renderCanvas:s.a}),l=i(34),u=i(1),c=(u.a.hleft,u.a.hcenter),f=u.a.hright,p=(u.a.vtop,u.a.vcenter),d=u.a.vbottom,y={draw:function(t,e,i,n){var o=this.penManager;this.hitAreaManager.clear();var r=this.context;r.save(),this.drawBackground(this.defatultStyle.backgroundColor);var s=this.defatultStyle;t+=this.startXOffset,e+=this.startYOffset;var a,h,l,u,y,g,v=s.halign,m=s.valign,b=s.lineHeight,w=o.lines,k=w.length,x=s.maxLines;x>0&&k>x?(h=x,l=m===p?Math.floor((k-h)/2):m===d?k-h:0):(h=k,l=0),u=l+h,g=m===p?Math.max((n-h*b)/2,0):m===d?Math.max(n-h*b-2,0):0,g+=e;for(var O=l;O<u;O++)if(0!==(a=o.getLineWidth(O))){y=v===c?(i-a)/2:v===f?i-a:0,y+=t;for(var S=w[O],T=0,P=S.length;T<P;T++)this.drawPen(S[T],y,g)}r.restore()},drawPen:function(t,e,i){e+=t.x,i+=t.y;var n=this.canvas,o=this.context;o.save();var r=this.parser.propToContextStyle(this.defatultStyle,t.prop);r.buildFont(),r.syncFont(n,o),r.syncStyle(n,o),r.underlineThickness>0&&t.width>0&&this.drawUnderline(e,i,t.width,r),t.isTextPen&&this.drawText(e,i,t.text,r),t.isImagePen&&this.drawImage(e,i,t.prop.img,r),o.restore(),t.hasAreaMarker&&t.width>0&&this.hitAreaManager.add(t.prop.area,e,i-this.startYOffset,t.width,this.defatultStyle.lineHeight)},clear:function(){var t=this.canvas;this.context.clearRect(0,0,t.width,t.height)},drawBackground:function(t){null!==t&&(this.context.fillStyle=t,this.context.fillRect(0,0,this.canvas.width,this.canvas.height))},drawUnderline:function(t,e,i,n){e+=n.underlineOffset-n.underlineThickness/2,this.autoRound&&(t=Math.round(t),e=Math.round(e));var o=this.context,r=o.lineCap;o.lineCap="butt",o.beginPath(),o.strokeStyle=n.underlineColor,o.lineWidth=n.underlineThickness,o.moveTo(t,e),o.lineTo(t+i,e),o.stroke(),o.lineCap=r},drawText:function(t,e,i,n){this.autoRound&&(t=Math.round(t),e=Math.round(e));var o=this.context;n.strokeThickness&&(n.syncShadow(o,n.shadowStroke),o.strokeText(i,t,e)),n.color&&"none"!==n.color&&(n.syncShadow(o,n.shadowFill),o.fillText(i,t,e))},drawImage:function(t,e,i,n){var o=this.parent.imageManager,r=o.get(i),s=o.getFrame(i);t+=r.left,e+=-this.startYOffset+r.y,this.autoRound&&(t=Math.round(t),e=Math.round(e)),this.context.drawImage(s.source.image,s.cutX,s.cutY,s.cutWidth,s.cutHeight,t,e,r.width,r.height)}},g=i(12);function v(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var m=Phaser.Utils.Objects.GetValue,b=u.a.NO_NEWLINE,w=u.a.RAW_NEWLINE,k=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.prop={},this.resetFromJSON(e)}var e,i;return e=t,(i=[{key:"resetFromJSON",value:function(t){this.text=m(t,"text",""),this.x=m(t,"x",0),this.y=m(t,"y",0),this.width=m(t,"width",0);var e=m(t,"prop",null);null===e&&(e={}),this.prop=e,this.newLineMode=m(t,"newLineMode",0),this.startIndex=m(t,"startIndex",0)}},{key:"plainText",get:function(){var t=this.text;return this.newLineMode===w&&(t+="\n"),t}},{key:"wrapText",get:function(){var t=this.text;return this.newLineMode!==b&&(t+="\n"),t}},{key:"rawTextLength",get:function(){var t=this.text.length;return this.newLineMode===w&&(t+=1),t}},{key:"endIndex",get:function(){return this.startIndex+this.rawTextLength}},{key:"lastX",get:function(){return this.x+this.width}},{key:"isTextPen",get:function(){return""!==this.text}},{key:"isImagePen",get:function(){return!!this.prop.img}},{key:"hasAreaMarker",get:function(){return!!this.prop.area}}])&&v(e.prototype,i),t}(),x=i(11);function O(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var S=Phaser.Utils.Objects.GetFastValue,T=u.a.NO_NEWLINE,P=u.a.WRAPPED_NEWLINE,C=new g.a,_=new g.a,j=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pens=[],this.lines=[],this.maxLinesWidth=void 0,this.PensPool=S(e,"pensPool",C),this.LinesPool=S(e,"linesPool",_),this.tagToText=S(e,"tagToText",a.a),this.tagToTextScope=S(e,"tagToTextScope",void 0)}var e,i;return e=t,(i=[{key:"destroy",value:function(){this.freePens(),this.tagToText=void 0,this.tagToTextScope=void 0}},{key:"freePens",value:function(){for(var t=0,e=this.lines.length;t<e;t++)this.lines[t].length=0;this.PensPool.pushMultiple(this.pens),this.LinesPool.pushMultiple(this.lines),this.maxLinesWidth=void 0}},{key:"addTextPen",value:function(t,e,i,n,o,r){var s=this.PensPool.pop();return null==s&&(s=new k),M.text=t,M.x=e,M.y=i,M.width=n,M.prop=o,M.newLineMode=r,s.resetFromJSON(M),this.addPen(s),this}},{key:"addImagePen",value:function(t,e,i,n){return this.addTextPen("",t,e,i,n,T),this}},{key:"addNewLinePen",value:function(){var t=this.lastPen,e=t?t.lastX:0,i=t?t.y:0,n=t?Object(x.a)(t.prop):null;return this.addTextPen("",e,i,0,n,P),this}},{key:"addPen",value:function(t){var e=this.lastPen;t.startIndex=null==e?0:e.endIndex,this.pens.push(t);var i=this.lastLine;null==i&&(i=this.LinesPool.pop()||[],this.lines.push(i)),i.push(t),t.newLineMode!==T&&(i=this.LinesPool.pop()||[],this.lines.push(i)),this.maxLinesWidth=void 0}},{key:"clone",value:function(e){null==e&&(e=new t),e.freePens();for(var i=0,n=this.lines.length;i<n;i++)for(var o=this.lines[i],r=0,s=o.length;r<s;r++){var a=o[r];e.addPen(a.text,a.x,a.y,a.width,Object(x.a)(a.prop),a.newLineMode)}return e}},{key:"getLineStartIndex",value:function(t){if(t>=this.lines.length)return this.getLineEndIndex(t);var e=this.lines[t];return e&&e[0]?e[0].startIndex:0}},{key:"getLineEndIndex",value:function(t){t>=this.lines.length&&(t=this.lines.length-1);var e,i,n=!1;for(e=t;e>=0&&!(n=null!=(i=this.lines[e])&&i.length>0);e--);return n?i[i.length-1].endIndex:0}},{key:"getLineWidth",value:function(t){var e=this.lines[t];if(!e)return 0;var i=e[e.length-1];return null==i?0:i.lastX}},{key:"getMaxLineWidth",value:function(){if(void 0!==this.maxLinesWidth)return this.maxLinesWidth;for(var t,e=0,i=0,n=this.lines.length;i<n;i++)(t=this.getLineWidth(i))>e&&(e=t);return this.maxLinesWidth=e,e}},{key:"getLineWidths",value:function(){for(var t=[],e=0,i=this.lines.length;e<i;e++)t.push(this.getLineWidth(e));return t}},{key:"getSliceTagText",value:function(t,e,i){if(void 0===t&&(t=0),void 0===e){var n=this.lastPen;if(null==n)return"";e=n.endIndex}void 0===i&&(i=!1);for(var o,r,s,a,h,l,u="",c=0,f=this.pens.length;c<f&&((a=(o=this.pens[c]).endIndex)<=t||(o=this.pens[c],r=i?o.wrapText:o.plainText,h=o.prop,(s=o.startIndex)>=t&&a<=e||(r=r.substring(t-s,e-s)),this.tagToTextScope?u+=this.tagToText.call(this.tagToTextScope,r,h,l):u+=this.tagToText(r,h,l),l=h,!(a>=e)));c++);return u}},{key:"lastPen",get:function(){return this.pens[this.pens.length-1]}},{key:"lastLine",get:function(){return this.lines[this.lines.length-1]}},{key:"linesCount",get:function(){return this.lines.length}},{key:"plainText",get:function(){for(var t="",e=this.pens,i=0,n=e.length;i<n;i++)t+=e[i].plainText;return t}},{key:"rawTextLength",get:function(){for(var t=0,e=this.pens,i=0,n=this.pens.length;i<n;i++)t+=e[i].rawTextLength;return t}}])&&O(e.prototype,i),t}(),M={},B=j;function A(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var E=Phaser.Geom.Rectangle,W=new g.a,R=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hitAreas=[]}var e,i;return e=t,(i=[{key:"destroy",value:function(){this.clear()}},{key:"clear",value:function(){return W.pushMultiple(this.hitAreas),this}},{key:"add",value:function(t,e,i,n,o){var r=W.pop();return null===r?r=new E(e,i,n,o):r.setTo(e,i,n,o),r.key=t,this.hitAreas.push(r),this}},{key:"contains",value:function(t,e){for(var i,n=this.hitAreas,o=0,r=n.length;o<r;o++)if((i=n[o]).contains(t,e))return i.key;return!1}},{key:"drawBounds",value:function(t,e,i){void 0===e&&(e=16777215),i&&t.save().scaleCanvas(i.scaleX,i.scaleY).rotateCanvas(i.rotation).translateCanvas(i.x,i.y);for(var n,o=this.hitAreas,r=0,s=o.length;r<s;r++)n=o[r],t.lineStyle(1,e).strokeRect(n.x,n.y,n.width,n.height);return i&&t.restore(),this}}])&&A(e.prototype,i),t}(),F=function(t,e,i,n){var o=this.hitAreaManager.contains(i,n);!1!==o&&(this.parent.emit("".concat(t,"-").concat(o),e,i,n),this.parent.emit(t,o,e,i,n))},I=u.a.NO_NEWLINE,D=u.a.RAW_NEWLINE,L=u.a.WRAPPED_NEWLINE,z=u.a.NO_WRAP,Y=u.a.WORD_WRAP,H=(u.a.CHAR_WRAP,u.a.SPLITREGEXP),N=[],X=new g.a;X.newline=function(t,e,i){var n=this.pop();return null===n&&(n={}),n.text=t,n.width=e,n.newLineMode=i,n};var G=function(t,e,i,n,o){n<=0&&(i=z);var r=N;if(X.pushMultiple(r),!t||!t.length)return r;for(var s,a,h,l=t.split(H),u=0,c=l.length;u<c;u++)if(s=l[u],h=u===c-1?I:D,i!==z){var f,p;if(a=0===u?n-o:n,s.length<=100&&(w=e(s))<=a){r.push(X.newline(s,w,h));continue}for(var d,y="",g="",v=0,m=0,b=(f=i===Y?s.split(" "):s).length;m<b;m++)p=f[m],i===Y?(y+=p,m<b-1&&(y+=" ")):y+=p,(d=e(y))>a&&(0===m?r.push(X.newline("",0,L)):(r.push(X.newline(g,v,L)),y=p,i===Y&&m<b-1&&(y+=" "),d=e(y)),a=n),g=y,v=d;r.push(X.newline(g,v,h))}else{var w=e(s);r.push(X.newline(s,w,h))}return r};function U(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var V=Phaser.Utils.Objects.GetValue,K=u.a.NO_WRAP,J=u.a.NO_NEWLINE,Z=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent=e.parent,this.context=V(e,"context",null),this.canvas=this.context.canvas,this.parser=V(e,"parser",null),this.defatultStyle=V(e,"style",null),this.autoRound=!0,this.pensPool=V(e,"pensPool",null),this.penManager=this.newPenManager(),this._tmpPenManager=null,this.hitAreaManager=new R;var i=this.context;this.getTextWidth=function(t){return i.measureText(t).width}}var e,i;return e=t,(i=[{key:"destroy",value:function(){this.context=void 0,this.canvas=void 0,this.parser=void 0,this.defatultStyle=void 0,this.penManager&&(this.penManager.destroy(),this.penManager=void 0),this._tmpPenManager&&(this._tmpPenManager.destroy(),this._tmpPenManager=void 0),this.hitAreaManager&&(this.hitAreaManager.destroy(),this.hitAreaManager=void 0)}},{key:"updatePenManager",value:function(t,e,i,n,o){if(void 0===o&&(o=this.penManager),o.freePens(),""===t)return o;for(var r,s,a,h,l,u=this.canvas,c=this.context,f=0,p=0,d=this.parser.splitText(t),y=0,g=d.length;y<g;y++)if(r=(h=this.parser.tagTextToProp(d[y],s)).plainText,(s=h.prop).img){var v=this.imageManager.getOuterWidth(s.img);i>0&&e!==K&&i<f+v&&(o.addNewLinePen(),p+=n,f=0),o.addImagePen(f,p,v,Object(x.a)(s)),f+=v}else if(""!==r){var m;this.context.save(),(a=this.parser.propToContextStyle(this.defatultStyle,s)).buildFont(),a.syncFont(u,c),a.syncStyle(u,c);for(var b=0,w=(l=G(r,this.getTextWidth,e,i,f)).length;b<w;b++)m=l[b],o.addTextPen(m.text,f,p,m.width,Object(x.a)(s),m.newLineMode),m.newLineMode!==J?(f=0,p+=n):f+=m.width;this.context.restore()}return o}},{key:"newPenManager",value:function(){return new B({pensPool:this.pensPool,tagToText:this.parser.propToTagText,tagToTextScope:this.parser})}},{key:"getPlainText",value:function(t,e,i){var n;if(null==t)n=this.penManager.plainText;else{var o=this.parser.splitText(t,1);n="";for(var r=0,s=o.length;r<s;r++)n+=o[r]}return null==e&&null==i||(null==e&&(e=0),null==i&&(i=n.length),n=n.substring(e,i)),n}},{key:"getPenManager",value:function(t,e){if(void 0===t)return this.copyPenManager(e,this.penManager);void 0===e&&(e=this.newPenManager());var i=this.defatultStyle;return this.updatePenManager(t,i.wrapMode,i.wrapWidth,i.lineHeight,e),e}},{key:"getText",value:function(t,e,i,n){if(null==t)return this.penManager.getSliceTagText(e,i,n);var o=this.tmpPenManager,r=this.defatultStyle;return this.updatePenManager(t,r.wrapMode,r.wrapWidth,r.lineHeight,o),o.getSliceTagText(e,i,n)}},{key:"copyPenManager",value:function(t,e){return void 0===e&&(e=this.penManager),e.copy(t)}},{key:"getTextWidth",value:function(t){return void 0===t&&(t=this.penManager),t.getMaxLineWidth()}},{key:"getLastPen",value:function(t){return void 0===t&&(t=this.penManager),t.lastPen}},{key:"startXOffset",get:function(){return this.defatultStyle.strokeThickness/2}},{key:"startYOffset",get:function(){var t=this.defatultStyle;return t.strokeThickness/2+t.metrics.ascent}},{key:"lines",get:function(){return this.penManager.lines}},{key:"desplayLinesCount",get:function(){var t=this.penManager.linesCount,e=this.defatultStyle.maxLines;return e>0&&t>e&&(t=e),t}},{key:"linesWidth",get:function(){return this.penManager.getMaxLineWidth()}},{key:"linesHeight",get:function(){var t=this.desplayLinesCount,e=this.defatultStyle.lineHeight*t;return t>0&&(e-=this.defatultStyle.lineSpacing),e}},{key:"imageManager",get:function(){return this.parent.imageManager}},{key:"tmpPenManager",get:function(){return null===this._tmpPenManager&&(this._tmpPenManager=this.newPenManager()),this._tmpPenManager}}])&&U(e.prototype,i),t}(),Q={setInteractive:function(){this.parent.on("pointerdown",(function(t,e,i,n){F.call(this,"areadown",t,e,i)}),this).on("pointerup",(function(t,e,i,n){F.call(this,"areaup",t,e,i)}),this)}};Object.assign(Z.prototype,y,Q);var q=Z;function $(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var tt,et=Phaser.Utils.Objects.GetValue,it=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.textureManager=e,this.images={}}var e,i;return e=t,(i=[{key:"add",value:function(t,e){if("string"==typeof t)this._add(t,e);else if(Array.isArray(t))for(var i=0,n=(o=t).length;i<n;i++)this._add(o[i]);else{var o=t;for(var t in o)this._add(t,o[t])}return this}},{key:"_add",value:function(t,e){void 0===e&&(e={key:t});var i=e.key,n=e.frame,o=e.width,r=e.height;if(void 0===o||void 0===r){var s=this.textureManager.getFrame(i,n),a=s?s.cutWidth:0,h=s?s.cutHeight:0;void 0===o&&void 0===r?(o=a,r=h):void 0===o?o=a*(r/h):void 0===r&&(r=h*(o/a))}this.images[t]={key:i,frame:n,width:o,height:r,y:et(e,"y",0),left:et(e,"left",0),right:et(e,"right",0)}}},{key:"remove",value:function(t){return this.images.hasOwnProperty(t)&&delete this.images[t],this}},{key:"get",value:function(t){return this.images.hasOwnProperty(t)||this.textureManager.exists(t)&&this.add(t),this.images[t]}},{key:"getOuterWidth",value:function(t){var e=this.get(t);return e?e.width+e.left+e.right:0}},{key:"getFrame",value:function(t){var e=this.get(t);return e?this.textureManager.getFrame(e.key,e.frame):void 0}},{key:"hasTexture",value:function(t){return!!this.getFrame(t)}}])&&$(e.prototype,i),t}();function nt(t){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ot(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function rt(t){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function st(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function at(t,e){return(at=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ht=Phaser.DOM.AddToDOM,lt=Phaser.Display.Canvas.CanvasPool,ut=Phaser.GameObjects.GameObject,ct=Phaser.Utils.Objects.GetValue,ft=Phaser.DOM.RemoveFromDOM,pt=u.a.SPLITREGEXP,dt={},yt=function(t){function e(t,i,n,o,r,s,a){var h,u;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===i&&(i=0),void 0===n&&(n=0),(h=!(u=rt(e).call(this,t,s))||"object"!==nt(u)&&"function"!=typeof u?st(this):u).renderer=t.sys.game.renderer,h.setPosition(i,n),h.setOrigin(0,0),h.initPipeline(),h.canvas=lt.create(st(h)),h.context=h.canvas.getContext("2d"),r&&r.hasOwnProperty("align")){var c=r.align;delete r.align,r.halign=c}return h.style=new l.a(st(h),r),h.autoRound=!0,h._text=void 0,h.padding={left:0,right:0,top:0,bottom:0},h.width=1,h.height=1,h.dirty=!1,0===h.style.resolution&&(h.style.resolution=t.sys.game.config.resolution),h._crop=h.resetCropObject(),h.texture=t.sys.textures.addCanvas(null,h.canvas,!0),h.frame=h.texture.get(),h.frame.source.resolution=h.style.resolution,h.renderer&&h.renderer.gl&&(h.renderer.deleteTexture(h.frame.source.glTexture),h.frame.source.glTexture=null),dt.hasOwnProperty(s)||(dt[s]=new g.a),h.canvasText=new q({parent:st(h),context:h.context,parser:a,style:h.style,pensPool:dt[s]}),r&&r.padding&&h.setPadding(r.padding),h.setText(o),t.sys.game.events.on("contextrestored",(function(){this.dirty=!0}),st(h)),h}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&at(t,e)}(e,ut),i=e,(n=[{key:"initRTL",value:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",ht(this.canvas,this.scene.sys.canvas),this.originX=1)}},{key:"setText",value:function(t){return t||0===t||(t=""),Array.isArray(t)&&(t=t.join("\n")),t!==this._text&&(this._text=t.toString(),this.updateText()),this}},{key:"setStyle",value:function(t){return this.style.setStyle(t)}},{key:"setFont",value:function(t){return this.style.setFont(t)}},{key:"setFontFamily",value:function(t){return this.style.setFontFamily(t)}},{key:"setFontSize",value:function(t){return this.style.setFontSize(t)}},{key:"setFontStyle",value:function(t){return this.style.setFontStyle(t)}},{key:"setFixedSize",value:function(t,e){return this.style.setFixedSize(t,e)}},{key:"setBackgroundColor",value:function(t){return this.style.setBackgroundColor(t)}},{key:"setFill",value:function(t){return this.style.setFill(t)}},{key:"setColor",value:function(t){return this.style.setColor(t)}},{key:"setStroke",value:function(t,e){return this.style.setStroke(t,e)}},{key:"setShadow",value:function(t,e,i,n,o,r){return this.style.setShadow(t,e,i,n,o,r)}},{key:"setShadowOffset",value:function(t,e){return this.style.setShadowOffset(t,e)}},{key:"setShadowColor",value:function(t){return this.style.setShadowColor(t)}},{key:"setShadowBlur",value:function(t){return this.style.setShadowBlur(t)}},{key:"setShadowStroke",value:function(t){return this.style.setShadowStroke(t)}},{key:"setShadowFill",value:function(t){return this.style.setShadowFill(t)}},{key:"setWrapMode",value:function(t){return this.style.setWrapMode(t)}},{key:"setWrapWidth",value:function(t){return this.style.setWrapWidth(t)}},{key:"setAlign",value:function(t){return this.style.setHAlign(t)}},{key:"setLineSpacing",value:function(t){return this.style.setLineSpacing(t)}},{key:"setPadding",value:function(t,e,i,n){if("object"===nt(t)){var o=t,r=ct(o,"x",null);null!==r?(t=r,i=r):(t=ct(o,"left",0),i=ct(o,"right",t));var s=ct(o,"y",null);null!==s?(e=s,n=s):(e=ct(o,"top",0),n=ct(o,"bottom",e))}else void 0===t&&(t=0),void 0===e&&(e=t),void 0===i&&(i=t),void 0===n&&(n=e);return this.padding.left=t,this.padding.top=e,this.padding.right=i,this.padding.bottom=n,this.updateText(!1)}},{key:"setResolution",value:function(t){return this.style.setResolution(t)}},{key:"setMaxLines",value:function(t){return this.style.setMaxLines(t)}},{key:"updateText",value:function(t){void 0===t&&(t=!0);var e=this.canvasText,i=this.style;t&&e.updatePenManager(this._text,i.wrapMode,i.wrapWidth,i.lineHeight);var n,o,r=this.padding;0===i.fixedWidth?(this.width=e.linesWidth+r.left+r.right,n=e.linesWidth):(this.width=i.fixedWidth,(n=this.width-r.left-r.right)<e.linesWidth&&(n=e.linesWidth)),0===i.fixedHeight?(this.height=e.linesHeight+r.top+r.bottom,o=e.linesHeight):(this.height=i.fixedHeight,(o=this.height-r.top-r.bottom)<e.linesHeight&&(o=e.linesHeight));var s=this.width,a=this.height;this.updateDisplayOrigin();var h=i.resolution;s*=h,a*=h,s=Math.max(Math.ceil(s),1),a=Math.max(Math.ceil(a),1);var l=this.canvas,u=this.context;l.width!==s||l.height!==a?(l.width=s,l.height=a,this.frame.setSize(s,a)):u.clearRect(0,0,s,a),u.save(),u.scale(h,h),e.draw(r.left,r.top,n,o),u.restore(),this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(l,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0;var c=this.input;return c&&!c.customHitArea&&(c.hitArea.width=this.width,c.hitArea.height=this.height),this}},{key:"getTextMetrics",value:function(){return this.style.getTextMetrics()}},{key:"toJSON",value:function(){var t=gt.ToJSON(this),e={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),resolution:this.resolution,padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return t.data=e,t}},{key:"preDestroy",value:function(){this.style.rtl&&ft(this.canvas),lt.remove(this.canvas),this.canvasText.destroy()}},{key:"setInteractive",value:function(t,e,i){return ut.prototype.setInteractive.call(this,t,e,i),this.canvasText.setInteractive(),this}},{key:"getWrappedText",value:function(t,e,i){return(t=this.canvasText.getText(t,e,i,!0)).split(pt)}},{key:"getPlainText",value:function(t,e,i){return this.canvasText.getPlainText(t,e,i)}},{key:"getText",value:function(t,e,i){return this.canvasText.getText(t,e,i,!1)}},{key:"getSubString",value:function(t,e,i){return this.getText(t,e,i)}},{key:"copyPenManager",value:function(t){return this.canvasText.copyPenManager(t)}},{key:"getPenManager",value:function(t,e){return this.canvasText.getPenManager(t,e)}},{key:"setSize",value:function(t,e){return this.setFixedSize(t,e)}},{key:"resize",value:function(t,e){return this.setFixedSize(t,e)}},{key:"addImage",value:function(t,e){return this.imageManager.add(t,e),this}},{key:"drawAreaBounds",value:function(t,e){return this.canvasText.hitAreaManager.drawBounds(t,e,this),this}},{key:"text",set:function(t){this.setText(t)},get:function(){return this._text}},{key:"lineSpacing",set:function(t){this.setLineSpacing(t)},get:function(){return this.style.lineSpacing}},{key:"imageManager",get:function(){return t=this.scene.textures,void 0===tt&&(tt=new it(t)),tt;var t}}])&&ot(i.prototype,n),e}(),gt=Phaser.GameObjects.Components;Phaser.Class.mixin(yt,[gt.Alpha,gt.BlendMode,gt.ComputedSize,gt.Crop,gt.Depth,gt.Flip,gt.GetBounds,gt.Mask,gt.Origin,gt.Pipeline,gt.ScrollFactor,gt.Tint,gt.Transform,gt.Visible,h]),e.a=yt},58:function(t,e,i){"use strict";e.a=function(t){return t.hasOwnProperty("geometryMask")?t.geometryMask:t.bitmapMask}},59:function(t,e,i){"use strict";var n=i(3);function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=Phaser.Utils.Objects.GetValue,s=Phaser.Utils.Objects.GetAdvancedValue,a=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=Object(n.a)(e),this.alphaStart=void 0,this.alphaEnd=void 0,this.tween=void 0,this.resetFromJSON(i),this.boot()}var e,i;return e=t,(i=[{key:"resetFromJSON",value:function(t){return this.setMode(r(t,"mode",0)),this.setAlphaRange(s(t,"start",this.gameObject.alpha),s(t,"end",0)),this.setDelay(s(t,"delay",0)),this.setDuration(s(t,"duration",1e3)),this}},{key:"toJSON",value:function(){return{mode:this.mode,start:this.alphaStart,end:this.alphaEnd,delay:this.delay,duration:this.duration}}},{key:"boot",value:function(){this.gameObject.once&&this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){return this.stop(),this.gameObject=void 0,this.scene=void 0,this}},{key:"destroy",value:function(){return this.shutdown(),this}},{key:"setMode",value:function(t){return"string"==typeof t&&(t=h[t]),this.mode=t,this}},{key:"setAlphaRange",value:function(t,e){return this.alphaStart=t,this.alphaEnd=e,this}},{key:"setDelay",value:function(t){return this.delay=t,this}},{key:"setDuration",value:function(t){return this.duration=t,this}},{key:"start",value:function(){return this.tween?this:0===this.duration?(this.gameObject.alpha=this.alphaEnd,this.stop(),this.complete(),this):(this.tween=this.scene.tweens.add({targets:this.gameObject,alpha:{from:this.alphaStart,to:this.alphaEnd},delay:this.delay,duration:this.duration,ease:"Linear",yoyo:2==this.mode,repeat:2==this.mode?-1:0,onComplete:this.complete,onCompleteScope:this}),this)}},{key:"restart",value:function(){return this.stop().start(),this}},{key:"stop",value:function(){return this.tween?(this.tween.remove(),this.tween=void 0,this):this}},{key:"complete",value:function(){return this.stop(),1===this.mode&&this.gameObject.destroy(),this}}])&&o(e.prototype,i),t}(),h={stop:0,destroy:1,yoyo:2},l=a;e.a=l},60:function(t,e,i){"use strict";var n=i(3);function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=Phaser.Utils.Objects.GetValue,s=Phaser.Utils.Objects.GetAdvancedValue,a=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=Object(n.a)(e),this.scaleStart={},this.scaleEnd={},this.tween=void 0,this.resetFromJSON(i),this.boot()}var e,i;return e=t,(i=[{key:"resetFromJSON",value:function(t){return this.setMode(r(t,"mode",0)),this.setScaleRange(s(t,"start",void 0),s(t,"end",0)),this.setDelay(s(t,"delay",0)),this.setDuration(s(t,"duration",1e3)),this.setEase(r(t,"ease",void 0)),this}},{key:"toJSON",value:function(){return{mode:this.mode,start:this.scaleStart,end:this.scaleEnd,delay:this.delay,duration:this.duration}}},{key:"boot",value:function(){this.gameObject.once&&this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){return this.stop(),this.gameObject=void 0,this.scene=void 0,this}},{key:"destroy",value:function(){return this.shutdown(),this}},{key:"setMode",value:function(t){return"string"==typeof t&&(t=h[t]),this.mode=t,this}},{key:"setScaleRange",value:function(t,e){return"number"==typeof t?(this.scaleStart.x=t,this.scaleStart.y=t):(this.scaleStart.x=r(t,"x",this.gameObject.scaleX),this.scaleStart.y=r(t,"y",this.gameObject.scaleY)),"number"==typeof e?(this.scaleEnd.x=e,this.scaleEnd.y=e):(this.scaleEnd.x=r(e,"x",this.scaleStart.x),this.scaleEnd.y=r(e,"y",this.scaleStart.y)),this}},{key:"setDelay",value:function(t){return this.delay=t,this}},{key:"setDuration",value:function(t){return this.duration=t,this}},{key:"setEase",value:function(t){return void 0===t&&(t="Linear"),this.ease=t,this}},{key:"start",value:function(){return this.tween||(this.tween=this.scene.tweens.add({targets:this.gameObject,scaleX:{from:this.scaleStart.x,to:this.scaleEnd.x},scaleY:{from:this.scaleStart.y,to:this.scaleEnd.y},duration:this.duration,ease:this.ease,yoyo:2==this.mode,repeat:2==this.mode?-1:0,onComplete:this.complete,onCompleteScope:this})),this}},{key:"restart",value:function(){return this.stop().start(),this}},{key:"stop",value:function(){return this.tween?(this.tween.remove(),this.tween=void 0,this):this}},{key:"complete",value:function(){return this.stop(),1===this.mode&&this.gameObject.destroy(),this}}])&&o(e.prototype,i),t}(),h={stop:0,destroy:1,yoyo:2},l=a;e.a=l},61:function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t,e,i){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=a(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(i):o.value}})(t,e,i||t)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=Phaser.GameObjects.Graphics,u=function(t){function e(t,i,n){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===i&&(i=0),"string"==typeof i&&(shaep=c[i]),void 0===n&&(n=0),(o=r(this,a(e).call(this,t.scene))).parent=t,o.shape=i,o.padding=n,o.setPosition().resize(),o}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,l),i=e,(n=[{key:"destroy",value:function(){return this.parent=void 0,s(a(e.prototype),"destroy",this).call(this),this}},{key:"setPosition",value:function(t,i){var n=this.parent;return void 0===t&&(t=n.x),void 0===i&&(i=n.y),s(a(e.prototype),"setPosition",this).call(this,t,i),this}},{key:"resize",value:function(t,e,i){var n=this.parent;if(void 0===t&&(t=n.width),void 0===e&&(e=n.height),void 0===i&&(i=this.padding),this.widthSave===t&&this.heightSave===e&&this.paddingSave===i)return this;switch(this.clear().fillStyle(16777215),this.shape){case 1:var o=Math.min(t,e)/2;this.fillCircle(0,0,o+i);break;default:this.fillRect(-t*n.originX-i,-e*n.originY-i,t+2*i,e+2*i)}return this.widthSave=t,this.heightSave=e,this.paddingSave=i,this}}])&&o(i.prototype,n),e}(),c={rectangle:0,circle:1};e.a=u},62:function(t,e,i){"use strict";var n=Phaser.GameObjects.GameObject;e.a=function(t){return t instanceof n}},63:function(t,e,i){"use strict";var n=function(t){t.stopPropagation()},o=function(t){t.addEventListener("touchstart",n,!1),t.addEventListener("touchmove",n,!1),t.addEventListener("touchend",n,!1),t.addEventListener("mousedown",n,!1),t.addEventListener("mouseup",n,!1),t.addEventListener("mousemove",n,!1)};function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=Phaser.GameObjects.DOMElement,c=Phaser.Utils.Objects.IsPlainObject,f=Phaser.Utils.Objects.GetValue,p=function(t){function e(t,i,n,s,l,u){var p;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),c(i)?(i=f(u=i,"x",0),n=f(u,"y",0),s=f(u,"width",void 0),l=f(u,"height",void 0)):c(s)&&(s=f(u=s,"width",void 0),l=f(u,"height",void 0)),void 0===u&&(u={});var v,m=t.scale.autoRound;void 0!==s&&(m&&(s=Math.floor(s)),u.width=s+"px"),void 0!==l&&(m&&(l=Math.floor(l)),u.height=l+"px");var b,w,k=f(u,"type","text");for(var x in"textarea"===k?(v=document.createElement("textarea")).style.resize="none":(v=document.createElement("input")).type=k,d)b=d[x],void 0!==(w=f(u,x,b[1]))&&(v[b[0]]=w);var O,S,T=f(u,"style",void 0);for(var x in void 0===T&&(T={}),y)O=y[x],void 0!==(S=f(u,x,O[1]))&&(T[O[0]]=S);var P,C=v.style;for(var x in u)x in d||x in y||x in C&&(T[x]=u[x]);T["box-sizing"]="border-box",P=a(e).call(this,t,i,n,v,T),(p=!P||"object"!==r(P)&&"function"!=typeof P?h(this):P).type="rexInputText";var _=function(t){p.node[g[t]]=function(){this.emit(t,this)}.bind(h(p))};for(var j in g)_(j);return o(p.node),p}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,u),i=e,(n=[{key:"resize",value:function(t,e){var i=this.node.style;return i.width=t+"px",i.height=e+"px",this.updateSize(),this}},{key:"setText",value:function(t){return this.text=t,this}},{key:"selectText",value:function(){return this.node.select(),this}},{key:"setPlaceholder",value:function(t){return this.placeholder=t,this}},{key:"setTooltip",value:function(t){return this.tooltip=t,this}},{key:"setTextChangedCallback",value:function(t){return this.onTextChanged=t,this}},{key:"setReadOnly",value:function(t){return void 0===t&&(t=!0),this.readOnly=t,this}},{key:"setSpellCheck",value:function(t){return this.spellCheck=t,this}},{key:"setStyle",value:function(t,e){return this.node.style[t]=e,this}},{key:"getStyle",value:function(t){return this.node.style[t]}},{key:"scrollToBottom",value:function(){return this.node.scrollTop=this.node.scrollHeight,this}},{key:"setEnabled",value:function(t){return void 0===t&&(t=!0),this.node.disabled=!t,this}},{key:"setBlur",value:function(){return this.node.blur(),this}},{key:"setFocus",value:function(){return this.node.focus(),this}},{key:"text",get:function(){return this.node.value},set:function(t){this.node.value=t}},{key:"placeholder",get:function(){return this.node.placeholder},set:function(t){this.node.placeholder=t}},{key:"tooltip",get:function(){return this.node.title},set:function(t){this.node.title=t}},{key:"readOnly",get:function(){return this.node.readOnly},set:function(t){this.node.readOnly=t}},{key:"spellCheck",get:function(){return this.node.spellcheck},set:function(t){this.node.spellcheck=t}}])&&s(i.prototype,n),e}(),d={id:["id",void 0],text:["value",void 0],placeholder:["placeholder",void 0],tooltip:["title",void 0],readOnly:["readonly",!1],spellCheck:["spellcheck",!1],autoComplete:["autocomplete","off"]},y={align:["text-align",void 0],width:["width",void 0],height:["height",void 0],fontFamily:["font-family",void 0],fontSize:["font-size",void 0],color:["color","#ffffff"],backgroundColor:["backgroundColor","transparent"],borderColor:["borderColor","transparent"],outline:["outline","none"]},g={textchange:"oninput",click:"onclick",dblclick:"ondblclick",focus:"onfocus",blur:"onblur"};e.a=p},66:function(t,e,i){"use strict";var n=i(35),o=i(30),r=i(18),s=Phaser.Utils.Objects.GetValue,a=function(t,e,i){var r,a=s(i,"argsConvert",void 0),l=s(i,"argsConvertScope",void 0),u=t[0];if(h=Object(n.a)(h,t,1),a){!0===a&&(a=o.a,l=void 0);for(var c=0,f=h.length;c<f;c++)h[c]=l?a.call(l,h[c],t):a(h[c],t)}return"string"==typeof u?null==(r=e[u])&&(r=s(e,u,null)):r=u,r.apply(e,h)},h=[];e.a=function t(e,i,n){var o,h=s(n,"reverse",!1);if(Object(r.a)(e[0]))if(h)for(l=(u=e.length)-1;l>=0;l--)o=t(e[l],i,n);else for(var l=0,u=e.length;l<u;l++)o=t(e[l],i,n);else o=a(e,i,n);return o}},7:function(t,e,i){"use strict";e.a=function(t){if(Array.isArray(t))t.length=0;else for(var e in t)delete t[e]}},71:function(t,e){var i=Phaser.Renderer.WebGL.Utils;t.exports=function(t,e,n,o,r){if(0!==e.width&&0!==e.height){var s=e.frame,a=s.width,h=s.height,l=i.getTintAppendFloatAlpha;this.pipeline.batchTexture(e,s.glTexture,a,h,e.x,e.y,a/e.style.resolution,h/e.style.resolution,e.scaleX,e.scaleY,e.rotation,e.flipX,e.flipY,e.scrollFactorX,e.scrollFactorY,e.displayOriginX,e.displayOriginY,0,0,a,h,l(e._tintTL,o.alpha*e._alphaTL),l(e._tintTR,o.alpha*e._alphaTR),l(e._tintBL,o.alpha*e._alphaBL),l(e._tintBR,o.alpha*e._alphaBR),e._isTinted&&e.tintFill,0,0,o,r)}}},72:function(t,e){t.exports=function(t,e,i,n,o){0!==e.width&&0!==e.height&&t.batchSprite(e,e.frame,n,o)}},73:function(t,e,i){"use strict";var n=i(0),o=i.n(n),r=i(7);e.a={enableData:function(){return void 0===this.data&&(this.data={}),this},getData:function(t,e){return this.enableData(),void 0===t?this.data:o()(this.data,t,e)},setData:function(t,e){return this.enableData(),this.data[t]=e,this},incData:function(t,e,i){return void 0===i&&(i=0),this.enableData(),this.setData(t,this.getData(t,i)+e),this},mulData:function(t,e,i){return void 0===i&&(i=0),this.enableData(),this.setData(t,this.getData(t,i)*e),this},clearData:function(){return this.data&&Object(r.a)(this.data),this}}},75:function(t,e,i){"use strict";e.a=function(t){return t&&"function"==typeof t}},83:function(t,e,i){"use strict";var n=i(130);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=Phaser.GameObjects.DOMElement,u=Phaser.Utils.Objects.IsPlainObject,c=Phaser.Utils.Objects.GetValue,f=function(t){function e(t,i,n,o,r,h){var l;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(i)?(i=c(h=i,"x",0),n=c(h,"y",0),o=c(h,"width",void 0),r=c(h,"height",void 0)):u(o)&&(o=c(h=o,"width",void 0),r=c(h,"height",void 0)),void 0===h&&(h={});var f=t.scale.autoRound;return void 0!==o&&(f&&(o=Math.floor(o)),h.width=o),void 0!==r&&(f&&(r=Math.floor(r)),h.height=r),(l=s(this,a(e).call(this,t,i,n))).type="rexVideo",l.setElement(l.createVideoElement(h)).load(c(h,"src","")),l}var i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,Object(n.a)(l)),i=e,(o=[{key:"resize",value:function(t,e){return this.width===t&&this.height===e||(this.node.width=t,this.node.height=e,this.updateSize()),this}}])&&r(i.prototype,o),e}();e.a=f},84:function(t,e,i){"use strict";var n=i(36),o=i(14);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,e,i){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(i):o.value}})(t,e,i||t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=Phaser.Utils.Objects.GetValue,f=Phaser.Math.Distance.Between,p=function(t){function e(t,i){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=a(n=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?a(t):e}(this,l(e).call(this,t,i))),h={states:{IDLE:{enter:function(){s.stop(),s.tapsCount=0,s.x=0,s.y=0,s.worldX=0,s.worldY=0},exit:function(){var t=s.lastPointer;s.x=t.x,s.y=t.y,s.worldX=t.worldX,s.worldY=t.worldY}},BEGIN:{enter:function(){s.start(),s.tapsCount=0,s.emit("tappingstart",s,s.gameObject,s.lastPointer)}},RECOGNIZED:{enter:function(){s.start(),s.emit("tap",s,s.gameObject,s.lastPointer),s.emit("".concat(s.tapsCount,"tap"),s,s.gameObject,s.lastPointer)}}},init:function(){this.state=d},eventEmitter:!1};return n.setRecongizedStateObject(new o.a(h)),n}var i,p;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,n.a),i=e,(p=[{key:"resetFromJSON",value:function(t){h(l(e.prototype),"resetFromJSON",this).call(this,t),this.setMaxHoldTime(c(t,"time",250)),this.setTapInterval(c(t,"tapInterval",200)),this.setDragThreshold(c(t,"threshold",9)),this.setTapOffset(c(t,"tapOffset",10));var i=c(t,"taps",void 0);return void 0!==i?this.setTaps(i):(this.setMaxTaps(c(t,"maxTaps",void 0)),this.setMinTaps(c(t,"minTaps",void 0))),this}},{key:"onDragStart",value:function(){switch(this.state){case d:this.state=y;break;case y:var t=this.lastPointer;f(t.upX,t.upY,t.x,t.y)>this.tapOffset&&(this.state=g,this.state=y);break;case g:this.state=y}}},{key:"onDragEnd",value:function(){this.state===y&&(this.tapsCount++,this.emit("tapping",this,this.gameObject,this.lastPointer),void 0!==this.maxTaps&&this.tapsCount===this.maxTaps&&(this.state=g))}},{key:"onDrag",value:function(){this.state!==d&&this.pointer.getDistance()>this.dragThreshold&&(this.state=d)}},{key:"preUpdate",value:function(t,e){if(this.state===y){var i=this.lastPointer;i.isDown?t-i.downTime>this.holdTime&&(this.state=d):t-i.upTime>this.tapInterval&&(void 0===this.minTaps||this.tapsCount>=this.minTaps?this.state=g:this.state=d)}}},{key:"postUpdate",value:function(t,e){this.state===g&&(this.state=d)}},{key:"setMaxHoldTime",value:function(t){return this.holdTime=t,this}},{key:"setTapInterval",value:function(t){return this.tapInterval=t,this}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"setTapOffset",value:function(t){return this.tapOffset=t,this}},{key:"setMaxTaps",value:function(t){return this.maxTaps=t,this}},{key:"setMinTaps",value:function(t){return this.minTaps=t,this}},{key:"setTaps",value:function(t,e){return void 0===e&&(e=t),this.setMinTaps(t).setMaxTaps(e),this}},{key:"isTapped",get:function(){return this.state===g}}])&&s(i.prototype,p),e}(),d="IDLE",y="BEGIN",g="RECOGNIZED";e.a=p},85:function(t,e,i){"use strict";var n=i(36),o=i(14);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,e,i){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(i):o.value}})(t,e,i||t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=Phaser.Utils.Objects.GetValue,f=function(t){function e(t,i){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=a(n=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?a(t):e}(this,l(e).call(this,t,i))),h={states:{IDLE:{enter:function(){s.x=0,s.y=0,s.worldX=0,s.worldY=0},exit:function(){var t=s.lastPointer;s.x=t.x,s.y=t.y,s.worldX=t.worldX,s.worldY=t.worldY}},BEGIN:{enter:function(){s.start()},exit:function(){s.stop()}},RECOGNIZED:{enter:function(){s.emit("pressstart",s,s.gameObject,s.lastPointer)},exit:function(){s.emit("pressend",s,s.gameObject,s.lastPointer)}}},init:function(){this.state=p},eventEmitter:!1};return n.setRecongizedStateObject(new o.a(h)),n}var i,f;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,n.a),i=e,(f=[{key:"resetFromJSON",value:function(t){return h(l(e.prototype),"resetFromJSON",this).call(this,t),this.setDragThreshold(c(t,"threshold",9)),this.setMinHoldTime(c(t,"time",251)),this}},{key:"onDragStart",value:function(){this.state=0===this.holdTime?y:d}},{key:"onDragEnd",value:function(){this.state=p}},{key:"onDrag",value:function(){this.state!==p&&this.pointer.getDistance()>this.dragThreshold&&(this.state=p)}},{key:"preUpdate",value:function(t,e){this.state===d&&t-this.pointer.downTime>=this.holdTime&&(this.state=y)}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"setMinHoldTime",value:function(t){return this.holdTime=t,this}},{key:"isPressed",get:function(){return this.state===y}}])&&s(i.prototype,f),e}(),p="IDLE",d="BEGIN",y="RECOGNIZED";e.a=f},88:function(t,e,i){"use strict";var n=!1,o=[],r=function(t){n?t():(window.onYouTubeIframeAPIReady||(window.onYouTubeIframeAPIReady=function(){n=!0;for(var t=0,e=o.length;t<e;t++)o[t]();o=void 0},function(t,e){for(var i=document.getElementsByTagName("script"),n=!1,o=0,r=i.length;o<r;o++)if(-1!=i[o].src.indexOf(t)){n=!0;break}if(!n){var s=document.createElement("script");s.type="text/javascript",s.src=t,e&&(s.onload=e),document.getElementsByTagName("head")[0].appendChild(s)}}("https://www.youtube.com/iframe_api")),o.push(t))};function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=Phaser.GameObjects.DOMElement,f=Phaser.Utils.Objects.IsPlainObject,p=Phaser.Utils.Objects.GetValue,d=Phaser.Math.Clamp,y=function(t){function e(t,i,n,o,a,u){var c;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),f(i)?(i=p(u=i,"x",0),n=p(u,"y",0),o=p(u,"width",void 0),a=p(u,"height",void 0)):f(o)&&(o=p(u=o,"width",void 0),a=p(u,"height",void 0)),void 0===u&&(u={});var d,y=t.scale.autoRound;void 0!==o&&(y&&(o=Math.floor(o)),u.width=o+"px"),void 0!==a&&(y&&(a=Math.floor(a)),u.height=a+"px"),(c=!(d=h(e).call(this,t,i,n))||"object"!==s(d)&&"function"!=typeof d?l(this):d).type="rexYoutubePlayer",c.youtubePlayer=void 0,c.videoState=void 0,c.videoId=p(u,"videoId",""),c.loop=p(u,"loop",!1),c.paddingCallbacks=[];var g="YT"+Date.now(),v=document.createElement("div");v.id=g,v.style.width=u.width,v.style.height=u.height,c.setElement(v);var m={autoplay:p(u,"autoPlay",!0)?1:0,controls:p(u,"controls",!0)?1:0,disablekb:p(u,"keyboardControl",!0)?0:1,modestbranding:p(u,"modestBranding",!1)?1:0},b=function(){var t=new YT.Player(g,{videoId:this.videoId,playerVars:m,events:{onStateChange:function(t){this.videoState=t.data,this.emit("statechange",this),this.emit(this.videoStateString,this),this.videoState===YT.PlayerState.ENDED&&this.loop&&this.youtubePlayer.playVideo()}.bind(this),onReady:function(e){this.youtubePlayer=t;for(var i=0,n=this.paddingCallbacks.length;i<n;i++)this.paddingCallbacks[i]();this.paddingCallbacks=void 0,this.emit("ready",this)}.bind(this),onError:function(t){this.lastError=t.data,this.emit("error",this,this.lastError)}.bind(this)}});this.setElement(document.getElementById(g))}.bind(l(c));return r(b),c}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,c),i=e,(n=[{key:"_runCallback",value:function(t){void 0===this.youtubePlayer?this.paddingCallbacks.push(t):t()}},{key:"load",value:function(t,e){void 0===e&&(e=!0);var i=function(){this.youtubePlayer.loadVideoById(t),e?this.youtubePlayer.playVideo():this.youtubePlayer.pauseVideo()}.bind(this);return this._runCallback(i),this}},{key:"play",value:function(){var t=function(){this.youtubePlayer.playVideo()}.bind(this);return this._runCallback(t),this}},{key:"pause",value:function(){var t=function(){this.youtubePlayer.pauseVideo()}.bind(this);return this._runCallback(t),this}},{key:"setPlaybackTime",value:function(t){return this.playbackTime=t,this}},{key:"setT",value:function(t){return this.t=t,this}},{key:"setVolume",value:function(t){return this.volume=t,this}},{key:"setMute",value:function(t){return void 0===t&&(t=!0),this.muted=t,this}},{key:"setLoop",value:function(t){return void 0===t&&(t=!0),this.loop=t,this}},{key:"resize",value:function(t,e){if(this.width===t&&this.height===e)return this;var i=this.node.style;return i.width=t+"px",i.height=e+"px",this.updateSize(),this}},{key:"videoStateString",get:function(){if(void 0===this.videoState||!YT)return"";switch(this.videoState){case-1:return"unstarted";case YT.PlayerState.ENDED:return"ended";case YT.PlayerState.PLAYING:return"playing";case YT.PlayerState.PAUSED:return"pause";case YT.PlayerState.BUFFERING:return"buffering";case YT.PlayerState.CUED:return"cued"}}},{key:"isPlaying",get:function(){return 1===this.videoState}},{key:"isPaused",get:function(){return 2===this.videoState}},{key:"playbackTime",get:function(){return this.youtubePlayer?this.youtubePlayer.getCurrentTime():0},set:function(t){var e=function(){this.youtubePlayer.seekTo(t)}.bind(this);this._runCallback(e)}},{key:"duration",get:function(){return this.youtubePlayer?this.youtubePlayer.getDuration():0}},{key:"t",get:function(){var t=this.duration;return 0===t?0:this.playbackTime/t},set:function(t){var e=function(){t=d(t,0,1),this.playbackTime=this.duration*d(t,0,1)}.bind(this);this._runCallback(e)}},{key:"hasEnded",get:function(){return 0===this.videoState}},{key:"volume",get:function(){return this.youtubePlayer?this.youtubePlayer.getVolume()/100:0},set:function(t){var e=function(){this.youtubePlayer.setVolume(d(100*t,0,100))}.bind(this);this._runCallback(e)}},{key:"muted",get:function(){return!!this.youtubePlayer&&this.youtubePlayer.isMuted()},set:function(t){var e=function(){t?this.youtubePlayer.mute():this.youtubePlayer.unMute()}.bind(this);this._runCallback(e)}}])&&a(i.prototype,n),e}();e.a=y},89:function(t,e,i){"use strict";var n=i(26);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var l=Phaser.Utils.Objects.GetValue,u=function(t){function e(t,i,n,o,r,h){var u;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(u=s(this,a(e).call(this,t,i,n))).type="rexCircleMaskImage";var c=l(h,"maskType",0);return u.setTexture(o,r,c),u}var i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,n.a),i=e,(o=[{key:"setTexture",value:function(t,e,i){return void 0===i?i=0:"string"==typeof i&&(i=c[i]),this._textureKey=t,this._frameName=e,this.loadTexture(t,e),null!==i&&function(t,e){t.width===t.height&&(e=0);var i=Math.floor(t.width/2),n=Math.floor(t.height/2),o=t.getContext("2d");o.save(),o.globalCompositeOperation="destination-in",o.beginPath(),0===e?o.arc(i,n,Math.min(i,n),0,2*Math.PI):o.ellipse(i,n,i,n,0,0,2*Math.PI),o.fill(),o.restore()}(this.canvas,i),this.dirty=!0,this}}])&&r(i.prototype,o),e}(),c={circle:0,ellipse:1};e.a=u},9:function(t,e,i){"use strict";e.a=function(){}}}).default}})}));