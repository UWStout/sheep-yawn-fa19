!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.app=e():t.app=e()}(window,(function(){return function(t){function e(e){for(var n,s,a=e[0],l=e[1],h=e[2],c=0,f=[];c<a.length;c++)s=a[c],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&f.push(r[s][0]),r[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);for(u&&u(e);f.length;)f.shift()();return o.push.apply(o,h||[]),i()}function i(){for(var t,e=0;e<o.length;e++){for(var i=o[e],n=!0,a=1;a<i.length;a++){var l=i[a];0!==r[l]&&(n=!1)}n&&(o.splice(e--,1),t=s(s.s=i[0]))}return t}var n={},r={0:0},o=[];function s(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=n,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="./dist/";var a=window.webpackJsonp_name_=window.webpackJsonp_name_||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var h=0;h<a.length;h++)e(a[h]);var u=l;return o.push([1852,1]),i()}({1852:function(t,e,i){"use strict";i.r(e);var n=i(4),r=i.n(n),o=i(379);const{CIRCLE:s,ELLIPSE:a,LINE:l,POLYGON:h,RECTANGLE:u,TRIANGLE:c}=r.a.Geom,f=[],p=[],d={[s]:new r.a.Geom.Circle,[a]:new r.a.Geom.Ellipse,[l]:new r.a.Geom.Line,[h]:new r.a.Geom.Polygon,[u]:new r.a.Geom.Rectangle,[c]:new r.a.Geom.Triangle},y={[s]:"strokeCircleShape",[a]:"strokeEllipseShape",[l]:"strokeLineShape",[u]:"strokeRectShape",[c]:"strokeTriangleShape"};function g(t){return t.originX?t.x-t.originX*t.displayWidth:t.x}function v(t){return t.originY?t.y-t.originY*t.displayHeight:t.y}class m extends r.a.Plugins.ScenePlugin{boot(){this.systems.events.on("start",this.sceneStart,this).on("create",this.bringToTop,this).on("render",this.sceneRender,this).on("shutdown",this.sceneShutdown,this).once("destroy",this.sceneDestroy,this)}sceneStart(){this.graphic=this.scene.add.graphics()}sceneShutdown(){this.graphic.destroy(),this.graphic=null}sceneRender(){this.drawAll()}drawAll(){const t=f,e=p,{displayList:i}=this.systems;i.length&&(t.length=0,e.length=0,this.graphic.clear().lineStyle(this.lineWidth,this.color,this.alpha),i.each(this.processObj,this,t,e),t.length&&this.drawObjsInputs(t),e.length&&this.drawObjsMasks(e))}processObj(t,e,i){this.drawObj(t),t.input&&(e[e.length]=t),t.mask&&-1===i.indexOf(t)&&(i[i.length]=t)}sceneDestroy(){this.systems.events.off("start",this.sceneStart,this).off("render",this.sceneRender,this).off("shutdown",this.sceneShutdown,this).off("destroy",this.sceneDestroy,this),this.scene=null,this.systems=null}drawObjsInputs(t){this.graphic.lineStyle(this.lineWidth,this.inputColor,this.alpha),t.forEach(this.drawObjInput,this)}drawObjsMasks(t){this.graphic.fillStyle(this.maskColor,this.alpha).lineStyle(this.lineWidth,this.maskColor,this.alpha),t.forEach(this.drawObjMask,this)}drawObj(t){this.graphic.strokeRect(g(t),v(t),t.displayWidth,t.displayHeight)}drawObjInput(t){const{hitArea:e}=t.input,i=e.constructor,n=d[e.type]||d[u];n.type===h?(!function(t,e,i,n){const r=t.points.length;e.points.length=r;for(let o=r;o--;o>=0){const r=e.points[o],s=t.points[o];r?(r.x=s.x+i,r.y=s.y+n):e.points[o]={x:s.x+i,y:s.y+n}}}(e,n,g(t),v(t)),this.graphic.strokePoints(n.points,!0)):(i.CopyFrom(e,n),i.Offset(n,g(t),v(t)),this.graphic[y[n.type]](n))}drawObjMask(t){t.mask.bitmapMask&&this.drawObjBitmapMask(t)}drawObjBitmapMask(t){this.drawObj(t.mask.bitmapMask)}bringToTop(){this.systems.displayList.bringToTop(this.graphic)}}Object.assign(m.prototype,{alpha:.5,color:56831,inputColor:16763904,lineWidth:2,maskColor:16711714}),"undefined"!=typeof window&&(window.PhaserDebugDrawPlugin=m);var b=i(742),w=i.n(b),k=function(t){t.forEach((function(t){t.setOrigin(.5,.5)}))},x=function(t){return t.cameras.main.useBounds?t.cameras.main._bounds.width/2:function(t){return t.sys.game.config.width}(t)/2},O=function(t){return t.cameras.main.useBounds?t.cameras.main._bounds.height/2:function(t){return t.sys.game.config.height}(t)/2};function S(t){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function P(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(r=n.key,o=void 0,o=function(t,e){if("object"!==S(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==S(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===S(o)?o:String(o)),n)}var r,o}function C(t,e){return(C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function _(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=B(t);if(e){var r=B(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return j(this,i)}}function j(t,e){if(e&&("object"===S(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function B(t){return(B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var M=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C(t,e)}(o,t);var e,i,n,r=_(o);function o(){return P(this,o),r.apply(this,arguments)}return e=o,(i=[{key:"init",value:function(){this.cameras.main.setBackgroundColor("#000000")}},{key:"preload",value:function(){this.add.text(x(this),O(this),"loading",{font:"16px Arial",fill:"#dddddd",align:"center"}).setOrigin(.5,.5),this.load.image("SpoonImage","assets/images/SpeakingSpoonStudioCenter.png"),this.load.image("logo","./assets/images/icon.png"),this.load.image("safariCar","assets/images/safariCar-reduced.png"),this.load.image("safariLogo","assets/images/safariLogo.png"),this.load.audioSprite("sounds","assets/audio/sounds.json",["assets/audio/sounds.ogg","assets/audio/sounds.mp3","assets/audio/sounds.m4a","assets/audio/sounds.ac3"])}},{key:"update",value:function(){this.scene.start("StudioSplash")}}])&&T(e.prototype,i),n&&T(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}(r.a.Scene);function A(t){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(r=n.key,o=void 0,o=function(t,e){if("object"!==A(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===A(o)?o:String(o)),n)}var r,o}function W(t,e){return(W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function F(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=D(t);if(e){var r=D(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return I(this,i)}}function I(t,e){if(e&&("object"===A(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function D(t){return(D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var L=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W(t,e)}(o,t);var e,i,n,r=F(o);function o(){return E(this,o),r.apply(this,arguments)}return e=o,(i=[{key:"init",value:function(t){this.cameras.main.setBackgroundColor("#000000"),this.allowNextScene=!1,this.nextScene="MainMenuScene"}},{key:"preload",value:function(){this.showLogo(),this.load.image("logoPic","assets/images/LoadingPinkWoolhemina.png"),this.load.image("mainMenuTitle","assets/images/MainMenu_SplashScreen.png"),this.load.image("playPressed","assets/images/PlayPressedButton.png"),this.load.image("playUnpressed","assets/images/PlayButton.png"),this.load.image("creditsPressed","assets/images/CreditsPressedButton.png"),this.load.image("creditsUnpressed","assets/images/CreditsButton.png"),this.load.image("creditsPanel","assets/images/specialthanksCredits.png"),this.load.image("backPressed","assets/images/BackPressedButton.png"),this.load.image("backUnpressed","assets/images/BackButton.png"),this.load.image("tutorial1","assets/images/tutorialCard_1.png"),this.load.image("tutorial2","assets/images/tutorialCard_2.png"),this.load.image("tutorial3","assets/images/tutorialCard_3.png"),this.load.image("tutorial4","assets/images/tutorialCard_4.png"),this.load.image("tutorial5","assets/images/tutorialCard_5.png"),this.load.image("tutorial6","assets/images/tutorialCard_6.png"),this.load.image("timerImage","assets/images/UntilDawnLabel.png"),this.load.image("CursorImage","assets/images/MouseCursor.png"),this.load.image("MenuButton","assets/images/MenuButton.png"),this.load.image("MenuPressedButton","assets/images/MenuPressed.png"),this.load.image("BackButton","assets/images/BackButton.png"),this.load.image("BackPressedButton","assets/images/BackPressedButton.png"),this.load.image("SkipButton","assets/images/Skip.png"),this.load.image("SkipPressedButton","assets/images/SkipPressed.png"),this.load.image("NextButton","assets/images/Next.png"),this.load.image("NextPressedButton","assets/images/NextPressed.png"),this.load.image("ContinueButton","assets/images/Continue.png"),this.load.image("ContinuePressedButton","assets/images/ContinuePressed.png"),this.load.image("ExitButton","assets/images/ExitButton.png"),this.load.image("ExitPressedButton","assets/images/ExitPressedButton.png"),this.load.image("darkBackground","assets/images/DarkBackground.png"),this.load.image("win","assets/images/WinScreen.png"),this.load.image("lose","assets/images/LoseScreen.png"),this.load.image("SmallWoolfHUD","assets/images/WoolfPupCounter.png"),this.load.image("MedWoolfHUD","assets/images/WoolfCounter.png"),this.load.image("BigWoolfHUD","assets/images/AlphaCounter.png"),this.load.image("HouseClosedOnImage","assets/images/HouseClosedOn.png"),this.load.image("HouseClosedOffImage","assets/images/HouseClosedOff.png"),this.load.image("sheepImage","assets/images/woolhemina_testSprite_128.png"),this.load.image("treeImage","assets/images/asset_oakTree.png"),this.load.image("FirePitImage","assets/images/asset_firePit.png"),this.load.image("pineImage","assets/images/asset_pineTree.png"),this.load.image("woolfImageBig","assets/images/Big.png"),this.load.image("woolfImageSmall","assets/images/Small.png"),this.load.image("woolfImageMed","assets/images/Med.png"),this.load.image("tile1","assets/images/Tile_01.png"),this.load.image("zzzImage","assets/Test Art/dummyAsset_Z.png"),this.load.image("mapTile","assets/images/DummyBoundary.png"),this.load.image("grass1Tile","assets/images/Tile_01.png"),this.load.image("grass2Tile","assets/images/Tile_02.png"),this.load.image("grass3Tile","assets/images/Tile_03.png"),this.load.image("waterTile","assets/images/WaterTile.png"),this.load.image("topWaterTile","assets/images/WaterTile2.png"),this.load.image("sideFenceTile","assets/images/FenceTile_02.png"),this.load.image("bottomFenceTile","assets/images/FenceTile_01.png"),this.load.image("TopMountainMapTile","assets/images/MountainTile_03.png"),this.load.image("CornerMountainMapTile","assets/images/MountainTile_02.png"),this.load.image("BelowCornerMountainMapTile","assets/images/MountainTile_01.png"),this.load.image("yawnBlastCircleImage","assets/images/yawnBlast_hemisphereShape.png"),this.load.spritesheet("runleftFront","assets/images/painted_woolhemina_runCycle_leftFront.png",{frameWidth:128,frameHeight:128,endFrame:13}),this.load.spritesheet("runUp","assets/images/painted_woolhemina_runCycle_rightBack.png",{frameWidth:128,frameHeight:128,endFrame:13}),this.load.spritesheet("idleFront","assets/images/painted_resized_woolhemina_idle_leftFront.png",{frameWidth:128,frameHeight:128,endFrame:10}),this.load.spritesheet("idleBack","assets/images/painted_resized_woolhemina_idle_rightBack.png",{frameWidth:128,frameHeight:128,endFrame:6}),this.load.spritesheet("initalYawnFront","assets/images/painted_woolhemina_yawnBlast_initial_leftFront.png",{frameWidth:128,frameHeight:128,endFrame:6}),this.load.spritesheet("initalYawnBack","assets/images/painted_woolhemina_yawnBlast_initial_rightBack.png",{frameWidth:128,frameHeight:128,endFrame:6}),this.load.spritesheet("YawnLoopFront","assets/images/painted_woolhemina_yawnBlast_loop_leftFront.png",{frameWidth:128,frameHeight:128,endFrame:5}),this.load.spritesheet("YawnLoopBack","assets/images/painted_woolhemina_yawnBlast_loop_rightBack.png",{frameWidth:128,frameHeight:128,endFrame:5}),this.load.spritesheet("YawnReleaseFront","assets/images/painted_woolhemina_yawnBlast_release_leftFront.png",{frameWidth:128,frameHeight:128,endFrame:14}),this.load.spritesheet("YawnReleaseBack","assets/images/painted_woolhemina_yawnBlast_release_rightBack.png",{frameWidth:128,frameHeight:128,endFrame:14}),this.load.spritesheet("KnockbackLeftFront","assets/images/painted_woolhemina_surprised_leftFront.png",{frameWidth:128,frameHeight:128,endFrame:24}),this.load.spritesheet("KnockbackRightBack","assets/images/painted_woolhemina_surprised_rightBack.png",{frameWidth:128,frameHeight:128,endFrame:24}),this.load.spritesheet("breakGlass","assets/images/yawnBlast_shatter_spritesheet.png",{frameWidth:256,frameHeight:256,endFrame:3}),this.load.spritesheet("babyWoolfLeftRun","assets/images/painted_babyWoolf_runCycle_leftFront.png",{frameWidth:128,frameHeight:128,endFrame:11}),this.load.spritesheet("babyWoolfRightRun","assets/images/painted_babyWoolf_runCycle_rightBack.png",{frameWidth:128,frameHeight:128,endFrame:11}),this.load.spritesheet("babyWoolfLeftIdle","assets/images/painted_babyWoolf_idle_leftFront.png",{frameWidth:128,frameHeight:128,endFrame:7}),this.load.spritesheet("babyWoolfRightIdle","assets/images/painted_babyWoolf_idle_rightBack.png",{frameWidth:128,frameHeight:128,endFrame:7}),this.load.spritesheet("babyWoolfAsleepFront","assets/images/painted_babyWoolf_fallAsleep_leftFront.png",{frameWidth:128,frameHeight:128,endFrame:14}),this.load.spritesheet("babyWoolfAsleepBack","assets/images/painted_babyWoolf_fallAsleep_rightBack.png",{frameWidth:128,frameHeight:128,endFrame:14}),this.load.spritesheet("babyWoolfSleepLoopFront","assets/images/painted_babyWoolf_fallAsleep_loop_leftFront.png",{frameWidth:128,frameHeight:128,endFrame:8}),this.load.spritesheet("babyWoolfSleepLoopBack","assets/images/painted_babyWoolf_fallAsleep_loop_rightBack.png",{frameWidth:128,frameHeight:128,endFrame:8}),this.load.spritesheet("woolfLeftRun","assets/images/painted_woolf_runCycle_leftFront.png",{frameWidth:256,frameHeight:256,endFrame:11}),this.load.spritesheet("woolfRightRun","assets/images/painted_woolf_runCycle_rightBack.png",{frameWidth:256,frameHeight:256,endFrame:11}),this.load.spritesheet("woolfLeftIdle","assets/images/painted_woolf_idle_leftFront.png",{frameWidth:256,frameHeight:256,endFrame:7}),this.load.spritesheet("woolfRightIdle","assets/images/painted_woolf_idle_rightBack.png",{frameWidth:256,frameHeight:256,endFrame:7}),this.load.spritesheet("woolfAsleepFront","assets/images/painted_woolf_fallAsleep_leftFront.png",{frameWidth:256,frameHeight:256,endFrame:14}),this.load.spritesheet("woolfAsleepBack","assets/images/painted_woolf_fallAsleep_rightBack.png",{frameWidth:256,frameHeight:256,endFrame:14}),this.load.spritesheet("woolfSleepLoopFront","assets/images/painted_woolf_fallAsleep_loop_leftFront.png",{frameWidth:256,frameHeight:256,endFrame:8}),this.load.spritesheet("woolfSleepLoopBack","assets/images/painted_woolf_fallAsleep_loop_rightBack.png",{frameWidth:256,frameHeight:256,endFrame:8}),this.load.spritesheet("woolfAttackFront","assets/images/painted_woolf_armSlam_leftFront.png",{frameWidth:256,frameHeight:256,endFrame:15}),this.load.spritesheet("woolfAttackBack","assets/images/painted_woolf_armSlam_rightBack.png",{frameWidth:256,frameHeight:256,endFrame:15}),this.load.spritesheet("alphaWoolfLeftRun","assets/images/painted_altWoolf_runCycle_leftFront.png",{frameWidth:256,frameHeight:256,endFrame:11}),this.load.spritesheet("alphaWoolfRightRun","assets/images/painted_altWoolf_runCycle_rightBack.png",{frameWidth:256,frameHeight:256,endFrame:11}),this.load.spritesheet("alphaWoolfLeftIdle","assets/images/painted_altWoolf_idle_leftFront.png",{frameWidth:256,frameHeight:256,endFrame:7}),this.load.spritesheet("alphaWoolfRightIdle","assets/images/painted_altWoolf_idle_rightBack.png",{frameWidth:256,frameHeight:256,endFrame:7}),this.load.spritesheet("alphaWoolfAsleepFront","assets/images/painted_altWoolf_fallAsleep_leftFront.png",{frameWidth:256,frameHeight:256,endFrame:14}),this.load.spritesheet("alphaWoolfAsleepBack","assets/images/painted_altWoolf_fallAsleep_rightBack.png",{frameWidth:256,frameHeight:256,endFrame:14}),this.load.spritesheet("alphaWoolfSleepLoopFront","assets/images/painted_altWoolf_fallAsleep_loop_leftFront.png",{frameWidth:256,frameHeight:256,endFrame:8}),this.load.spritesheet("alphaWoolfSleepLoopBack","assets/images/painted_altWoolf_fallAsleep_loop_rightBack.png",{frameWidth:256,frameHeight:256,endFrame:8}),this.load.spritesheet("alphaWoolfAttackFront","assets/images/painted_altWoolf_partyHowl_leftFront.png",{frameWidth:256,frameHeight:256,endFrame:15}),this.load.spritesheet("alphaWoolfAttackBack","assets/images/painted_altWoolf_partyHowl_rightBack.png",{frameWidth:256,frameHeight:256,endFrame:15}),this.load.spritesheet("flames","assets/images/firePit_flames_spritesheet.png",{frameWidth:512,frameHeight:512,endFrame:3})}},{key:"showLogo",value:function(){var t=this;this.bkgSfx=this.sound.addAudioSprite("sounds"),this.bkgSfx.play("EngineStartAndRev");var e=this.add.image(x(this),O(this),"safariCar");e.setScale(.55),e.setAlpha(0);var i=this.add.image(x(this),O(this),"safariLogo");i.setScale(.6),i.setAlpha(0);var n=this.add.image(x(this),O(this),"SpoonImage");n.setScale(.8),n.setAlpha(0);var r=this.add.tween({targets:e,alpha:1,duration:1e3,paused:!0}),o=this.add.tween({targets:i,alpha:1,duration:1e3,paused:!0}),s=this.add.tween({targets:n,alpha:1,duration:1e3,paused:!0});setTimeout((function(){r.play()}),1e3),setTimeout((function(){o.play()}),6e3);var a=this.cameras.main;setTimeout((function(){e.visible=!1,i.visible=!1,s.play()}),12e3),setTimeout((function(){a.fadeOut(2e3)}),17e3);var l=this;setTimeout((function(){l.add.text(x(l),O(l),"",{font:"16px Arial",fill:"#FFFFFF",align:"center"}).setOrigin(.5,.5),t.bkgSfx.destroy(),l.allowNextScene=!0}),15e3)}},{key:"update",value:function(){this.allowNextScene&&this.scene.start(this.nextScene)}}])&&R(e.prototype,i),n&&R(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}(r.a.Scene),z=1800,Y=900,H=.5;function N(t){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function X(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(r=n.key,o=void 0,o=function(t,e){if("object"!==N(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==N(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===N(o)?o:String(o)),n)}var r,o}function G(t,e){return(G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function U(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=K(t);if(e){var r=K(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return V(this,i)}}function V(t,e){if(e&&("object"===N(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function K(t){return(K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var J=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G(t,e)}(o,t);var e,i,n,r=U(o);function o(t){var e,i=t.scene,n=t.x,s=t.y;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,i,n,s,"sheepImage")).key="Woolhemina-main",e.name="Woolhemina-main",e.setupAnimations(),e}return e=o,(i=[{key:"setupAnimations",value:function(){var t=this;this.scene.anims.create({key:"runLeft",frames:this.scene.anims.generateFrameNumbers("runleftFront",{start:0,end:13}),frameRate:16,repeat:-1}),this.scene.anims.create({key:"runUpAnim",frames:this.scene.anims.generateFrameNumbers("runUp",{start:0,end:13}),frameRate:16,repeat:-1}),this.scene.anims.create({key:"idleFrontAnim",frames:this.scene.anims.generateFrameNumbers("idleFront",{start:0,end:10}),frameRate:12,repeat:-1}),this.scene.anims.create({key:"idleBackAnim",frames:this.scene.anims.generateFrameNumbers("idleBack",{start:0,end:10}),frameRate:12,repeat:-1}),this.scene.anims.create({key:"initalYawnFrontAnim",frames:this.scene.anims.generateFrameNumbers("initalYawnFront",{start:0,end:6}),frameRate:12,repeat:0}),this.on("animationcomplete-initalYawnFrontAnim",(function(){t.anims.play("YawnLoopFrontAnim")}),this),this.scene.anims.create({key:"initalYawnBackAnim",frames:this.scene.anims.generateFrameNumbers("initalYawnBack",{start:0,end:6}),frameRate:12,repeat:0}),this.on("animationcomplete-initalYawnBackAnim",(function(){t.anims.play("YawnLoopBackAnim")}),this),this.scene.anims.create({key:"YawnLoopFrontAnim",frames:this.scene.anims.generateFrameNumbers("YawnLoopFront",{start:0,end:5}),frameRate:12,repeat:-1}),this.scene.anims.create({key:"YawnLoopBackAnim",frames:this.scene.anims.generateFrameNumbers("YawnLoopBack",{start:0,end:5}),frameRate:12,repeat:-1}),this.scene.anims.create({key:"YawnReleaseFrontAnim",frames:this.scene.anims.generateFrameNumbers("YawnReleaseFront",{start:0,end:14}),frameRate:12,repeat:0}),this.on("animationcomplete-YawnReleaseFrontAnim",(function(){t.anims.play("idleFrontAnim")}),this),this.scene.anims.create({key:"YawnReleaseBackAnim",frames:this.scene.anims.generateFrameNumbers("YawnReleaseBack",{start:0,end:15}),frameRate:12,repeat:0}),this.on("animationcomplete-YawnReleaseBackAnim",(function(){t.anims.play("idleBackAnim")}),this),this.scene.anims.create({key:"KnockbackLeftFrontAnim",frames:this.scene.anims.generateFrameNumbers("KnockbackLeftFront",{start:0,end:24}),frameRate:12,repeat:0}),this.scene.anims.create({key:"KnockbackRightBackAnim",frames:this.scene.anims.generateFrameNumbers("KnockbackRightBack",{start:0,end:24}),frameRate:12,repeat:0})}}])&&X(e.prototype,i),n&&X(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}(r.a.GameObjects.Sprite);function Z(t){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Q(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(r=n.key,o=void 0,o=function(t,e){if("object"!==Z(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==Z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===Z(o)?o:String(o)),n)}var r,o}function q(t,e){return(q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function $(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=it(t);if(e){var r=it(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return tt(this,i)}}function tt(t,e){if(e&&("object"===Z(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return et(t)}function et(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function it(t){return(it=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var nt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q(t,e)}(o,t);var e,i,n,r=$(o);function o(t){var e,i=t.scene,n=t.x,s=t.y,a=t.imageKey,l=t.health,h=t.zzzAmount;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,i,n,s,a)).genHealth=l,e.zzzCount=h,e.isAwake=!0,e.hasMoved=!1,e.prevX=1.24,e.on("die",e.die,et(e)),e}return e=o,(i=[{key:"takeDamage",value:function(t){this.genHealth-=t,this.genHealth<=0?(this.emit("die"),this.isAwake=!1):this.isAwake=!0}},{key:"getHealth",value:function(){return this.genHealth}},{key:"getEnemyName",value:function(){return this.name}},{key:"die",value:function(){this.scene.zzzDrop&&this.scene.zzzDrop(this.x,this.y,this.zzzCount)}}])&&Q(e.prototype,i),n&&Q(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}(r.a.GameObjects.Sprite);function rt(t){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ot(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(r=n.key,o=void 0,o=function(t,e){if("object"!==rt(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==rt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===rt(o)?o:String(o)),n)}var r,o}function st(t,e){return(st=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function at(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=ht(t);if(e){var r=ht(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return lt(this,i)}}function lt(t,e){if(e&&("object"===rt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ht(t){return(ht=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ut=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&st(t,e)}(o,t);var e,i,n,r=at(o);function o(t){var e,i=t.scene,n=t.x,s=t.y;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,{scene:i,x:n,y:s,imageKey:"woolfImageMed",health:3,zzzAmount:10})).key="woolf",e.name="woolfMedium",e.setupAnimations(),e}return e=o,(i=[{key:"setupAnimations",value:function(){var t=this;this.scene.anims.create({key:"woolfLeftRunAnim",frames:this.scene.anims.generateFrameNumbers("woolfLeftRun",{start:0,end:11}),frameRate:14,repeat:-1}),this.scene.anims.create({key:"woolfRightRunAnim",frames:this.scene.anims.generateFrameNumbers("woolfRightRun",{start:0,end:11}),frameRate:14,repeat:-1}),this.scene.anims.create({key:"woolfLeftIdleAnim",frames:this.scene.anims.generateFrameNumbers("woolfLeftIdle",{start:0,end:7}),frameRate:14,repeat:-1}),this.scene.anims.create({key:"woolfRightIdleAnim",frames:this.scene.anims.generateFrameNumbers("woolfRightIdle",{start:0,end:7}),frameRate:14,repeat:-1}),this.scene.anims.create({key:"woolfAsleepFrontAnim",frames:this.scene.anims.generateFrameNumbers("woolfAsleepFront",{start:0,end:14}),frameRate:14,repeat:0}),this.on("animationcomplete-woolfAsleepFrontAnim",(function(){t.anims.play("woolfSleepLoopFrontAnim")}),this),this.scene.anims.create({key:"woolfAsleepBackAnim",frames:this.scene.anims.generateFrameNumbers("woolfAsleepBack",{start:0,end:14}),frameRate:14,repeat:0}),this.on("animationcomplete-woolfAsleepBackAnim",(function(){t.anims.play("woolfSleepLoopBackAnim")}),this),this.scene.anims.create({key:"woolfSleepLoopFrontAnim",frames:this.scene.anims.generateFrameNumbers("woolfSleepLoopFront",{start:0,end:8}),frameRate:14,repeat:-1}),this.scene.anims.create({key:"woolfSleepLoopBackAnim",frames:this.scene.anims.generateFrameNumbers("woolfSleepLoopBack",{start:0,end:8}),frameRate:14,repeat:-1}),this.scene.anims.create({key:"woolfAttackFrontAnim",frames:this.scene.anims.generateFrameNumbers("woolfAttackFront",{start:0,end:15}),frameRate:14,repeat:-1}),this.scene.anims.create({key:"woolfAttackBackAnim",frames:this.scene.anims.generateFrameNumbers("woolfAttackBack",{start:0,end:15}),frameRate:14,repeat:-1})}}])&&ot(e.prototype,i),n&&ot(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}(nt);function ct(t){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ft(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(r=n.key,o=void 0,o=function(t,e){if("object"!==ct(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==ct(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===ct(o)?o:String(o)),n)}var r,o}function pt(t,e){return(pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function dt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=gt(t);if(e){var r=gt(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return yt(this,i)}}function yt(t,e){if(e&&("object"===ct(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function gt(t){return(gt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var vt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pt(t,e)}(o,t);var e,i,n,r=dt(o);function o(t){var e,i=t.scene,n=t.x,s=t.y;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,{scene:i,x:n,y:s,imageKey:"woolfImageBig",health:5,zzzAmount:15})).key="woolf",e.name="woolfBig",e.setupAnimations(),e}return e=o,(i=[{key:"setupAnimations",value:function(){var t=this;this.scene.anims.create({key:"alphaWoolfLeftRunAnim",frames:this.scene.anims.generateFrameNumbers("alphaWoolfLeftRun",{start:0,end:11}),frameRate:14,repeat:-1}),this.scene.anims.create({key:"alphaWoolfRightRunAnim",frames:this.scene.anims.generateFrameNumbers("alphaWoolfRightRun",{start:0,end:11}),frameRate:14,repeat:-1}),this.scene.anims.create({key:"alphaWoolfLeftIdleAnim",frames:this.scene.anims.generateFrameNumbers("alphaWoolfLeftIdle",{start:0,end:7}),frameRate:14,repeat:-1}),this.scene.anims.create({key:"alphaWoolfRightIdleAnim",frames:this.scene.anims.generateFrameNumbers("alphaWoolfRightIdle",{start:0,end:7}),frameRate:14,repeat:-1}),this.scene.anims.create({key:"alphaWoolfAsleepFrontAnim",frames:this.scene.anims.generateFrameNumbers("alphaWoolfAsleepFront",{start:0,end:14}),frameRate:14,repeat:0}),this.on("animationcomplete-alphaWoolfAsleepFrontAnim",(function(){t.anims.play("alphaWoolfSleepLoopFrontAnim")}),this),this.scene.anims.create({key:"alphaWoolfAsleepBackAnim",frames:this.scene.anims.generateFrameNumbers("alphaWoolfAsleepBack",{start:0,end:14}),frameRate:14,repeat:0}),this.on("animationcomplete-alphaWoolfAsleepBackAnim",(function(){t.anims.play("alphaWoolfSleepLoopBackAnim")}),this),this.scene.anims.create({key:"alphaWoolfSleepLoopFrontAnim",frames:this.scene.anims.generateFrameNumbers("alphaWoolfSleepLoopFront",{start:0,end:8}),frameRate:14,repeat:-1}),this.scene.anims.create({key:"alphaWoolfSleepLoopBackAnim",frames:this.scene.anims.generateFrameNumbers("alphaWoolfSleepLoopBack",{start:0,end:8}),frameRate:14,repeat:-1}),this.scene.anims.create({key:"alphaWoolfAttackFrontAnim",frames:this.scene.anims.generateFrameNumbers("alphaWoolfAttackFront",{start:0,end:15}),frameRate:14,repeat:0}),this.scene.anims.create({key:"alphaWoolfAttackBackAnim",frames:this.scene.anims.generateFrameNumbers("alphaWoolfAttackBack",{start:0,end:15}),frameRate:14,repeat:0})}}])&&ft(e.prototype,i),n&&ft(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}(nt);function mt(t){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(r=n.key,o=void 0,o=function(t,e){if("object"!==mt(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==mt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===mt(o)?o:String(o)),n)}var r,o}function wt(t,e){return(wt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function kt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=Ot(t);if(e){var r=Ot(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return xt(this,i)}}function xt(t,e){if(e&&("object"===mt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ot(t){return(Ot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var St=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wt(t,e)}(o,t);var e,i,n,r=kt(o);function o(t){var e,i=t.scene,n=t.x,s=t.y;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,{scene:i,x:n,y:s,imageKey:"woolfImageSmall",health:1,zzzAmount:5})).key="woolf",e.name="woolfBaby",e.setupAnimations(),e}return e=o,(i=[{key:"setupAnimations",value:function(){var t=this;this.scene.anims.create({key:"babyWoolfLeftRunAnim",frames:this.scene.anims.generateFrameNumbers("babyWoolfLeftRun",{start:0,end:11}),frameRate:14,repeat:-1}),this.scene.anims.create({key:"babyWoolfRightRunAnim",frames:this.scene.anims.generateFrameNumbers("babyWoolfRightRun",{start:0,end:11}),frameRate:14,repeat:-1}),this.scene.anims.create({key:"babyWoolfLeftIdleAnim",frames:this.scene.anims.generateFrameNumbers("babyWoolfLeftIdle",{start:0,end:7}),frameRate:14,repeat:-1}),this.scene.anims.create({key:"babyWoolfRightIdleAnim",frames:this.scene.anims.generateFrameNumbers("babyWoolfRightIdle",{start:0,end:7}),frameRate:14,repeat:-1}),this.scene.anims.create({key:"babyWoolfAsleepFrontAnim",frames:this.scene.anims.generateFrameNumbers("babyWoolfAsleepFront",{start:0,end:14}),frameRate:10,repeat:0}),this.on("animationcomplete-babyWoolfAsleepFrontAnim",(function(){t.anims.play("babyWoolfSleepLoopFrontAnim")}),this),this.scene.anims.create({key:"babyWoolfAsleepBackAnim",frames:this.scene.anims.generateFrameNumbers("babyWoolfAsleepBack",{start:0,end:14}),frameRate:10,repeat:0}),this.on("animationcomplete-babyWoolfAsleepBackAnim",(function(){t.anims.play("babyWoolfSleepLoopBackAnim")}),this),this.scene.anims.create({key:"babyWoolfSleepLoopFrontAnim",frames:this.scene.anims.generateFrameNumbers("babyWoolfSleepLoopFront",{start:0,end:8}),frameRate:10,repeat:-1}),this.scene.anims.create({key:"babyWoolfSleepLoopBackAnim",frames:this.scene.anims.generateFrameNumbers("babyWoolfSleepLoopBack",{start:0,end:8}),frameRate:10,repeat:-1})}}])&&bt(e.prototype,i),n&&bt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}(nt);function Pt(t){return(Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(r=n.key,o=void 0,o=function(t,e){if("object"!==Pt(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==Pt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===Pt(o)?o:String(o)),n)}var r,o}function Ct(t,e){return(Ct=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function _t(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=Bt(t);if(e){var r=Bt(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return jt(this,i)}}function jt(t,e){if(e&&("object"===Pt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Bt(t){return(Bt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Mt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ct(t,e)}(o,t);var e,i,n,r=_t(o);function o(t,e,i,n){var s;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(s=r.call(this,t,e,i,n)).key="tree",s.name="tree",s.treeHeight=0,s.treeWidth=0,s.offsetX=0,s.offsetY=0,s.offsetChange=0,s.inFrontValue=0,s.enemyBehindTree=!1,s}return e=o,i&&Tt(e.prototype,i),n&&Tt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(r.a.GameObjects.Sprite);function At(t){return(At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Et(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(r=n.key,o=void 0,o=function(t,e){if("object"!==At(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==At(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===At(o)?o:String(o)),n)}var r,o}function Rt(t,e){return(Rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Wt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=It(t);if(e){var r=It(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return Ft(this,i)}}function Ft(t,e){if(e&&("object"===At(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function It(t){return(It=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Dt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rt(t,e)}(o,t);var e,i,n,r=Wt(o);function o(t){var e,i=t.scene,n=t.x,s=t.y;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,i,n,s,"treeImage")).setTexture("treeImage"),e.treeHeight=20,e.treeWidth=85,e.offsetX=120,e.offsetY=300,e.offsetChange=215,e.inFrontValue=50,e.name="oak",e}return e=o,i&&Et(e.prototype,i),n&&Et(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(Mt);function Lt(t){return(Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(r=n.key,o=void 0,o=function(t,e){if("object"!==Lt(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==Lt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===Lt(o)?o:String(o)),n)}var r,o}function Yt(t,e){return(Yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ht(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=Xt(t);if(e){var r=Xt(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return Nt(this,i)}}function Nt(t,e){if(e&&("object"===Lt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Xt(t){return(Xt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Gt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yt(t,e)}(o,t);var e,i,n,r=Ht(o);function o(t){var e,i=t.scene,n=t.x,s=t.y;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,i,n,s,"pineImage")).setTexture("pineImage"),e.treeHeight=30,e.treeWidth=105,e.offsetX=110,e.offsetY=300,e.offsetChange=215,e.inFrontValue=60,e.name="pine",e}return e=o,i&&zt(e.prototype,i),n&&zt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(Mt);function Ut(t){return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(r=n.key,o=void 0,o=function(t,e){if("object"!==Ut(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==Ut(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===Ut(o)?o:String(o)),n)}var r,o}function Kt(t,e){return(Kt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Jt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=Qt(t);if(e){var r=Qt(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return Zt(this,i)}}function Zt(t,e){if(e&&("object"===Ut(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Qt(t){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var qt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kt(t,e)}(o,t);var e,i,n,r=Jt(o);function o(t){var e,i=t.scene,n=t.x,s=t.y;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,i,n,s,"firePitImage")).key="firePit",e.name="firePit",e.objectHeight=0,e.objectWidth=0,e.offsetX=0,e.offsetY=0,e.offsetChange=0,e.setupAnimations(),e}return e=o,(i=[{key:"setupAnimations",value:function(){this.scene.anims.create({key:"flames",frames:this.scene.anims.generateFrameNumbers("flames",{start:0,end:3}),frameRate:5,repeat:-1})}}])&&Vt(e.prototype,i),n&&Vt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}(r.a.GameObjects.Sprite);function $t(t){return($t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function te(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(r=n.key,o=void 0,o=function(t,e){if("object"!==$t(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==$t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===$t(o)?o:String(o)),n)}var r,o}function ee(t,e){return(ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ie(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=re(t);if(e){var r=re(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return ne(this,i)}}function ne(t,e){if(e&&("object"===$t(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function re(t){return(re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var oe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ee(t,e)}(o,t);var e,i,n,r=ie(o);function o(t){var e,i=t.scene,n=t.x,s=t.y;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,i,n,s,"HouseClosedOff")).key="house",e.name="house",e.objectHeight=0,e.objectWidth=0,e.offsetX=0,e.offsetY=0,e.offsetChange=0,e}return e=o,i&&te(e.prototype,i),n&&te(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(r.a.GameObjects.Sprite);function se(t){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ae(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(r=n.key,o=void 0,o=function(t,e){if("object"!==se(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==se(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===se(o)?o:String(o)),n)}var r,o}function le(t,e){return(le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function he(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=ce(t);if(e){var r=ce(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return ue(this,i)}}function ue(t,e){if(e&&("object"===se(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ce(t){return(ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var fe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&le(t,e)}(o,t);var e,i,n,r=he(o);function o(t){var e,i=t.scene,n=t.x,s=t.y;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,i,n,s,"mapTileImage")).key="mapTile",e.name="mapTile",e}return e=o,i&&ae(e.prototype,i),n&&ae(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(r.a.GameObjects.Sprite);function pe(t){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function de(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(r=n.key,o=void 0,o=function(t,e){if("object"!==pe(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==pe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===pe(o)?o:String(o)),n)}var r,o}function ye(t,e){return(ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ge(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=me(t);if(e){var r=me(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return ve(this,i)}}function ve(t,e){if(e&&("object"===pe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function me(t){return(me=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var be=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ye(t,e)}(o,t);var e,i,n,r=ge(o);function o(t){var e,i=t.scene,n=t.x,s=t.y;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,i,n,s,"yawnBlastCircleImage")).key="yCircle",e.name="yCircle",e.setupAnimations(),e}return e=o,(i=[{key:"setupAnimations",value:function(){this.scene.anims.create({key:"shatteringAnim",frames:this.scene.anims.generateFrameNumbers("breakGlass",{start:0,end:3}),frameRate:6,repeat:0})}}])&&de(e.prototype,i),n&&de(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}(r.a.GameObjects.Sprite);function we(t){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xe(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(r=n.key,o=void 0,o=function(t,e){if("object"!==we(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==we(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===we(o)?o:String(o)),n)}var r,o}function Oe(t,e){return(Oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Se(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=Te(t);if(e){var r=Te(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return Pe(this,i)}}function Pe(t,e){if(e&&("object"===we(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Te(t){return(Te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ce=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Oe(t,e)}(s,t);var e,i,n,o=Se(s);function s(){return ke(this,s),o.apply(this,arguments)}return e=s,(i=[{key:"init",value:function(t){}},{key:"preload",value:function(){this.RightLeftArray=[],this.UpDownArray=[],this._woolf_Velocity=30,this._sheep_Velocity=300,this.AllZArray=[],this.sfxOn=!0,this.levelNumber=1,this._yawn_scale=1,this._yawn_size_check=1.5,this._invert=!1,this.enemyBehindTree=!1,this.BabyWolfAsleepTotalAmount=0,this.MediumWolfAsleepTotalAmount=0,this.BigWolfAsleepTotalAmount=0,this.BigWolfsAwakeCurrentAmount=0,this.BabyWolfsAwakeCurrentAmount=0,this.MediumWolfAwakeCurrentAmount=0}},{key:"create",value:function(){var t=this;this.music=this.sound.addAudioSprite("sounds"),this.footstepsSFX=this.sound.addAudioSprite("sounds"),this.yawnSFX=this.sound.addAudioSprite("sounds"),this.snoreSFX=this.sound.addAudioSprite("sounds"),this.player=new J({scene:this,x:1441,y:1300}),this.AllBorderTilesArray=[];for(var e=0;e<11;e++)this["Tile"+e]=new fe({scene:this,x:145+256*e,y:140}),this.add.existing(this["Tile"+e]),0===e?(this["Tile"+e].setTexture("CornerMountainMapTile"),this.AllBorderTilesArray.push(this["Tile"+e]),this.UpDownArray.push(this["Tile"+e])):(this["Tile"+e].setTexture("TopMountainMapTile"),this.AllBorderTilesArray.push(this["Tile"+e]),this.UpDownArray.push(this["Tile"+e]));for(var i=0;i<11;i++)this["Tile"+i]=new fe({scene:this,x:145+256*i,y:396}),this.add.existing(this["Tile"+i]),0===i?(this["Tile"+i].setTexture("BelowCornerMountainMapTile"),this.AllBorderTilesArray.push(this["Tile"+i]),this.RightLeftArray.push(this["Tile"+i])):10===i?(this["Tile"+i].setTexture("topWaterTile"),this.AllBorderTilesArray.push(this["Tile"+i]),this.RightLeftArray.push(this["Tile"+i])):(this.GrassNumber=Math.floor(3*Math.random())+0,0===this.GrassNumber?this["Tile"+i].setTexture("grass1Tile"):1===this.GrassNumber?this["Tile"+i].setTexture("grass2Tile"):2===this.GrassNumber&&this["Tile"+i].setTexture("grass3Tile"));for(var n=0;n<11;n++)this["Tile"+n]=new fe({scene:this,x:145+256*n,y:652}),this.add.existing(this["Tile"+n]),0===n?(this["Tile"+n].setTexture("sideFenceTile"),this.AllBorderTilesArray.push(this["Tile"+n]),this.RightLeftArray.push(this["Tile"+n])):10===n?(this["Tile"+n].setTexture("waterTile"),this.AllBorderTilesArray.push(this["Tile"+n]),this.RightLeftArray.push(this["Tile"+n])):(this.GrassNumber=Math.floor(3*Math.random())+0,0===this.GrassNumber?this["Tile"+n].setTexture("grass1Tile"):1===this.GrassNumber?this["Tile"+n].setTexture("grass2Tile"):2===this.GrassNumber&&this["Tile"+n].setTexture("grass3Tile"));for(var o=0;o<11;o++)this["Tile"+o]=new fe({scene:this,x:145+256*o,y:908}),this.add.existing(this["Tile"+o]),0===o?(this["Tile"+o].setTexture("sideFenceTile"),this.AllBorderTilesArray.push(this["Tile"+o]),this.RightLeftArray.push(this["Tile"+o])):10===o?(this["Tile"+o].setTexture("waterTile"),this.AllBorderTilesArray.push(this["Tile"+o]),this.RightLeftArray.push(this["Tile"+o])):(this.GrassNumber=Math.floor(3*Math.random())+0,0===this.GrassNumber?this["Tile"+o].setTexture("grass1Tile"):1===this.GrassNumber?this["Tile"+o].setTexture("grass2Tile"):2===this.GrassNumber&&this["Tile"+o].setTexture("grass3Tile"));for(var s=0;s<11;s++)this["Tile"+s]=new fe({scene:this,x:145+256*s,y:1164}),this.add.existing(this["Tile"+s]),0===s?(this["Tile"+s].setTexture("sideFenceTile"),this.AllBorderTilesArray.push(this["Tile"+s]),this.RightLeftArray.push(this["Tile"+s])):10===s?(this["Tile"+s].setTexture("waterTile"),this.AllBorderTilesArray.push(this["Tile"+s]),this.RightLeftArray.push(this["Tile"+s])):(this.GrassNumber=Math.floor(3*Math.random())+0,0===this.GrassNumber?this["Tile"+s].setTexture("grass1Tile"):1===this.GrassNumber?this["Tile"+s].setTexture("grass2Tile"):2===this.GrassNumber&&this["Tile"+s].setTexture("grass3Tile"));for(var a=0;a<11;a++)this["Tile"+a]=new fe({scene:this,x:145+256*a,y:1420}),this.add.existing(this["Tile"+a]),0===a?(this["Tile"+a].setTexture("sideFenceTile"),this.AllBorderTilesArray.push(this["Tile"+a]),this.RightLeftArray.push(this["Tile"+a])):10===a?(this["Tile"+a].setTexture("waterTile"),this.AllBorderTilesArray.push(this["Tile"+a]),this.RightLeftArray.push(this["Tile"+a])):(this.GrassNumber=Math.floor(3*Math.random())+0,0===this.GrassNumber?this["Tile"+a].setTexture("grass1Tile"):1===this.GrassNumber?this["Tile"+a].setTexture("grass2Tile"):2===this.GrassNumber&&this["Tile"+a].setTexture("grass3Tile"));for(var l=0;l<11;l++)this["Tile"+l]=new fe({scene:this,x:145+256*l,y:1676}),this.add.existing(this["Tile"+l]),0===l?(this["Tile"+l].setTexture("sideFenceTile"),this.AllBorderTilesArray.push(this["Tile"+l]),this.RightLeftArray.push(this["Tile"+l])):10===l?(this["Tile"+l].setTexture("waterTile"),this.AllBorderTilesArray.push(this["Tile"+l]),this.RightLeftArray.push(this["Tile"+l])):(this.GrassNumber=Math.floor(3*Math.random())+0,0===this.GrassNumber?this["Tile"+l].setTexture("grass1Tile"):1===this.GrassNumber?this["Tile"+l].setTexture("grass2Tile"):2===this.GrassNumber&&this["Tile"+l].setTexture("grass3Tile"));for(var h=0;h<11;h++)this["Tile"+h]=new fe({scene:this,x:145+256*h,y:1932}),this.add.existing(this["Tile"+h]),0===h?(this["Tile"+h].setTexture("sideFenceTile"),this.AllBorderTilesArray.push(this["Tile"+h]),this.RightLeftArray.push(this["Tile"+h])):10===h?(this["Tile"+h].setTexture("waterTile"),this.AllBorderTilesArray.push(this["Tile"+h]),this.RightLeftArray.push(this["Tile"+h])):(this.GrassNumber=Math.floor(3*Math.random())+0,0===this.GrassNumber?this["Tile"+h].setTexture("grass1Tile"):1===this.GrassNumber?this["Tile"+h].setTexture("grass2Tile"):2===this.GrassNumber&&this["Tile"+h].setTexture("grass3Tile"));for(var u=0;u<11;u++)this["Tile"+u]=new fe({scene:this,x:145+256*u,y:2188}),this.add.existing(this["Tile"+u]),0===u?(this["Tile"+u].setTexture("sideFenceTile"),this.AllBorderTilesArray.push(this["Tile"+u]),this.RightLeftArray.push(this["Tile"+u])):10===u?(this["Tile"+u].setTexture("waterTile"),this.AllBorderTilesArray.push(this["Tile"+u]),this.RightLeftArray.push(this["Tile"+u])):(this.GrassNumber=Math.floor(3*Math.random())+0,0===this.GrassNumber?this["Tile"+u].setTexture("grass1Tile"):1===this.GrassNumber?this["Tile"+u].setTexture("grass2Tile"):2===this.GrassNumber&&this["Tile"+u].setTexture("grass3Tile"));for(var c=0;c<11;c++)this["Tile"+c]=new fe({scene:this,x:145+256*c,y:2444}),this.add.existing(this["Tile"+c]),0===c?(this["Tile"+c].setTexture("sideFenceTile"),this.AllBorderTilesArray.push(this["Tile"+c]),this.RightLeftArray.push(this["Tile"+c])):10===c?(this["Tile"+c].setTexture("waterTile"),this.AllBorderTilesArray.push(this["Tile"+c]),this.RightLeftArray.push(this["Tile"+c])):(this.GrassNumber=Math.floor(3*Math.random())+0,0===this.GrassNumber?this["Tile"+c].setTexture("grass1Tile"):1===this.GrassNumber?this["Tile"+c].setTexture("grass2Tile"):2===this.GrassNumber&&this["Tile"+c].setTexture("grass3Tile"));for(var f=0;f<11;f++)this["Tile"+f]=new fe({scene:this,x:145+256*f,y:2700}),this.add.existing(this["Tile"+f]),10===f?(this["Tile"+f].setTexture("waterTile"),this.AllBorderTilesArray.push(this["Tile"+f]),this.UpDownArray.push(this["Tile"+f])):(this["Tile"+f].setTexture("bottomFenceTile"),this.AllBorderTilesArray.push(this["Tile"+f]),this.UpDownArray.push(this["Tile"+f]));this.OakArray=[];for(var p=0;p<Math.floor(5*Math.random())+10;p++)this.xpos=Math.floor(1951*Math.random())+450,this.ypos=Math.floor(1951*Math.random())+450,this["OakTree"+p]=new Dt({scene:this,x:this.xpos,y:this.ypos}),this.xpos>1024&&this.xpos<1792&&this.ypos>256&&this.ypos<1536||this.xpos>256&&this.xpos<1280&&this.ypos>1792&&this.ypos<2560||this.OakArray.push(this["OakTree"+p]);this.OakArrayLength=this.OakArray.length,this.PineArray=[];for(var d=0;d<Math.floor(5*Math.random())+10;d++)this.xpos=Math.floor(1951*Math.random())+450,this.ypos=Math.floor(1951*Math.random())+450,this["PineTree"+d]=new Gt({scene:this,x:this.xpos,y:this.ypos}),this.xpos>1024&&this.xpos<1792&&this.ypos>256&&this.ypos<1536||this.xpos>256&&this.xpos<1280&&this.ypos>1792&&this.ypos<2560||this.PineArray.push(this["PineTree"+d]);if(this.PineArrayLength=this.PineArray.length,this.firePit=new qt({scene:this,x:768,y:2175}),this.house=new oe({scene:this,x:1408,y:1024}),this.house2=new oe({scene:this,x:1408,y:1024}),this.BabyWoolfArray=[],this.WoolfArray=[],this.BabyWolfAmount=0,this.MediumWolfAmount=0,this.BigWolfAmount=0,1===this.levelNumber){this.music.stop(),this.music.play("backgroundMusic",{volume:H}),this.tweens.add({targets:this.house2,alpha:{value:0,duration:15e4,ease:"Power1"},yoyo:!0,loop:-1}),this.BabyWolfAmount=3,this.MediumWolfAmount=1,this.BigWolfAmount=0;for(var y=0;y<this.BabyWolfAmount;y++){for(this.xpos=Math.floor(1951*Math.random())+450,this.ypos=Math.floor(1951*Math.random())+450;this.xpos>1024&&this.xpos<1792&&this.ypos>256&&this.ypos<1536||this.xpos>256&&this.xpos<1280&&this.ypos>1792&&this.ypos<2560;)this.xpos=Math.floor(1951*Math.random())+450,this.ypos=Math.floor(1951*Math.random())+450;this["WoolfBaby"+y]=new St({scene:this,x:this.xpos,y:this.ypos,health:1,zzzAmount:5}),this.WoolfArray.push(this["WoolfBaby"+y]),this.BabyWoolfArray.push(this["WoolfBaby"+y])}for(var g=0;g<this.MediumWolfAmount;g++){for(this.xpos=Math.floor(1951*Math.random())+450,this.ypos=Math.floor(1951*Math.random())+450;this.xpos>1024&&this.xpos<1792&&this.ypos>256&&this.ypos<1536||this.xpos>256&&this.xpos<1280&&this.ypos>1792&&this.ypos<2560;)this.xpos=Math.floor(1951*Math.random())+450,this.ypos=Math.floor(1951*Math.random())+450;this["WoolfMedium"+g]=new ut({scene:this,x:this.xpos,y:this.ypos,health:3,zzzAmount:10}),this.WoolfArray.push(this["WoolfMedium"+g])}for(var v=0;v<this.BigWolfAmount;v++){for(this.xpos=Math.floor(1951*Math.random())+450,this.ypos=Math.floor(1951*Math.random())+450;this.xpos>1024&&this.xpos<1792&&this.ypos>256&&this.ypos<1536||this.xpos>256&&this.xpos<1280&&this.ypos>1792&&this.ypos<2560;)this.xpos=Math.floor(1951*Math.random())+450,this.ypos=Math.floor(1951*Math.random())+450;this["WoolfBig"+v]=new vt({scene:this,x:this.xpos,y:this.ypos,health:5,zzzAmount:15}),this.WoolfArray.push(this["WoolfBig"+v])}this.WoolfArrayLength=this.WoolfArray.length,this.BabyWoolfArrayLength=this.BabyWoolfArray.length}this.add.existing(this.player),this.physics.add.existing(this.player),this.player.body.collideWorldBounds=!0,this.PlayerHeight=105,this.player.body.setSize(50,this.PlayerHeight,20,20),this.halfPlayerHeight=this.PlayerHeight/2,this.player.depth=this.player.y,this.cameras.main.setBounds(0,0,2840,2840),this.physics.world.setBounds(0,0,5600,5600),this.cameras.main.startFollow(this.player,!0,.05,.05);for(var m=0;m<this.AllBorderTilesArray.length;m++)this.physics.add.existing(this.AllBorderTilesArray[m]),this.AllBorderTilesArray[m].body.setImmovable(!0),this.AllBorderTilesArray[m].body.allowGravity=!1,this.AllBorderTilesArray[m].body.setSize(256,256,0,0),this.physics.add.collider(this.player,this.AllBorderTilesArray[m]);for(var b=0;b<this.OakArrayLength;b++)this.add.existing(this.OakArray[b]),this.physics.add.existing(this.OakArray[b]),this.OakArray[b].body.setSize(this.OakArray[b].treeWidth,this.OakArray[b].treeHeight,0),this.OakArray[b].body.setOffset(this.OakArray[b].offsetX,this.OakArray[b].offsetY),this.OakArray[b].body.setImmovable(!0),this.OakArray[b].body.allowGravity=!1,this.OakArray[b].body.enable=!0,this.OakArray[b].depth=this.OakArray[b].y+this.OakArray[b].height/2,this.physics.add.collider(this.player,this.OakArray[b]);for(var w=0;w<this.PineArrayLength;w++)this.add.existing(this.PineArray[w]),this.physics.add.existing(this.PineArray[w]),this.PineArray[w].body.setSize(this.PineArray[w].treeWidth,this.PineArray[w].treeHeight,0),this.PineArray[w].body.setOffset(this.PineArray[w].offsetX,this.PineArray[w].offsetY),this.PineArray[w].body.setImmovable(!0),this.PineArray[w].body.allowGravity=!1,this.PineArray[w].body.enable=!0,this.PineArray[w].depth=this.PineArray[w].y+this.PineArray[w].height/2,this.physics.add.collider(this.player,this.PineArray[w]);this.add.existing(this.house),this.physics.add.existing(this.house),this.house.setTexture("HouseClosedOffImage"),this.house.body.setSize(370,100,0),this.house.body.setOffset(140,300),this.house.body.setImmovable(!0),this.house.body.allowGravity=!1,this.house.body.enable=!0,this.house.depth=this.house.y+this.house.height/2,this.physics.add.collider(this.player,this.house),this.add.existing(this.house2),this.physics.add.existing(this.house2),this.house2.setTexture("HouseClosedOnImage"),this.house2.setAlpha(1),this.house2.body.setOffset(140,300),this.house2.body.setImmovable(!0),this.house2.body.allowGravity=!1,this.house2.body.enable=!0,this.house2.depth=this.house.depth-1,this.physics.add.collider(this.player,this.house),this.house2.setAlpha(.7),this.add.existing(this.firePit),this.physics.add.existing(this.firePit),this.firePit.setTexture("FirePitImage"),this.firePit.objectHeight=20,this.firePit.objectWidth=85,this.firePit.offsetX=180,this.firePit.offsetY=70,this.firePit.offsetChange=215,this.firePit.body.setSize(1,1,1),this.firePit.body.setOffset(0,0),this.firePitTop=this.physics.add.image(),this.firePitTop.body.setSize(230,100,0),this.firePitTop2=this.physics.add.image(),this.firePitTop2.body.setSize(335,100,0),this.firePit.body.setImmovable(!0),this.firePit.body.allowGravity=!1,this.firePit.body.enable=!1,this.firePitTop.body.setImmovable(!0),this.firePitTop.body.allowGravity=!1,this.firePitTop.body.enable=!0,this.firePitTop.body.setOffset(this.firePit.x-100,this.firePit.y-110),this.firePitTop2.body.setImmovable(!0),this.firePitTop2.body.allowGravity=!1,this.firePitTop2.body.enable=!0,this.firePitTop2.body.setOffset(this.firePit.x-145,this.firePit.y-50),this.firePit.depth=this.player.depth-1,this.firePit.anims.play("flames"),this.physics.add.collider(this.player,this.firePit),this.physics.add.collider(this.player,this.firePitTop),this.physics.add.collider(this.player,this.firePitTop2);for(var k=0;k<this.WoolfArrayLength;k++){this.add.existing(this.WoolfArray[k]),this.physics.add.existing(this.WoolfArray[k]),"woolfBaby"===this.WoolfArray[k].getEnemyName()?(this.WoolfArray[k].body.setSize(128,128,!0),this.WoolfArray[k].body.setOffset(0,0)):("woolfMedium"===this.WoolfArray[k].getEnemyName()||"woolfBig"===this.WoolfArray[k].getEnemyName())&&this.WoolfArray[k].body.setSize(250,180,!0);for(var x=0;x<this.AllBorderTilesArray.length;x++)this.physics.add.collider(this.WoolfArray[k],this.AllBorderTilesArray[x]);this.WoolfArray[k].body.setImmovable(!0),this.WoolfArray[k].body.allowGravity=!1,this.WoolfArray[k].body.velocity.set(r.a.Math.Between(-60,60),r.a.Math.Between(-60,60)),this.physics.add.collider(this.player,this.WoolfArray[k])}this.player.anims.play("idleFrontAnim");for(var O=function(e){t.timedEvent=t.time.addEvent({delay:500,callback:function(){t.moveEnemyAnim(t.WoolfArray[e])},callbackScope:t,loop:!0})},S=0;S<this.WoolfArrayLength;S++)O(S);this.setupKeyboard(),this.scene.run("HUDScene")}},{key:"setupKeyboard",value:function(){var t=this;this.cursors=this.input.keyboard.createCursorKeys(),this.upKey=this.input.keyboard.addKey(r.a.Input.Keyboard.KeyCodes.W),this.upKey.oldDown=!1,this.leftKey=this.input.keyboard.addKey(r.a.Input.Keyboard.KeyCodes.A),this.leftKey.oldDown=!1,this.downKey=this.input.keyboard.addKey(r.a.Input.Keyboard.KeyCodes.S),this.downKey.oldDown=!1,this.rightKey=this.input.keyboard.addKey(r.a.Input.Keyboard.KeyCodes.D),this.rightKey.oldDown=!1,this.yawnKey=this.input.keyboard.addKey(r.a.Input.Keyboard.KeyCodes.SPACE),this.yawnKey.on("down",this.createYawnBlast,this),this.yawnKey.on("up",this.destroyYawnBlast,this),this.yawnKey.oldDown=!1,this.yawnKey.on("down",(function(){t.yawnSFX.isPlaying||t.yawnSFX.play("YawnBlast")}),this)}},{key:"update",value:function(t,e){for(var i=this,n={x:0,y:0},o=function(t){!0===i.WoolfArray[t].isAwake&&(i.WoolfArray[t].x<250&&(i.WoolfArray[t].x+=10,i.WoolfArray[t].body.velocity.set(r.a.Math.Between(-60,60),r.a.Math.Between(-60,60))),i.WoolfArray[t].x>2500&&(i.WoolfArray[t].x-=10,i.WoolfArray[t].body.velocity.set(r.a.Math.Between(-60,60),r.a.Math.Between(-60,60))),i.WoolfArray[t].y<250&&(i.WoolfArray[t].y+=10,i.WoolfArray[t].body.velocity.set(r.a.Math.Between(-60,60),r.a.Math.Between(-60,60))),i.WoolfArray[t].y>2500&&(i.WoolfArray[t].y-=10,i.WoolfArray[t].body.velocity.set(r.a.Math.Between(-60,60),r.a.Math.Between(-60,60))),!1===i.WoolfArray[t].hasMoved&&(i.myDelay=Math.floor(15001*Math.random())+5e3,i.timedEvent=i.time.addEvent({delay:i.myDelay,callback:function(){i.moveEnemy(i.WoolfArray[t])},callbackScope:i,loop:!1}),i.WoolfArray[t].hasMoved=!0))},s=0;s<this.WoolfArrayLength;s++)o(s);this.cursors.up.isDown||this.upKey.isDown?(n.y-=this._sheep_Velocity,n.x=0,this.footstepsSFX.isPlaying||!0===this.sfxOn&&this.footstepsSFX.play("running",{volume:this.footstepsSFX.volume}),!1!==this._invert?this.player.flipX=!1:this.player.flipX=!0,"runUpAnim"!==this.player.anims.getCurrentKey()&&this.player.anims.play("runUpAnim")):this.cursors.down.isDown||this.downKey.isDown?(n.y+=this._sheep_Velocity,n.x=0,this.footstepsSFX.isPlaying||!0===this.sfxOn&&this.footstepsSFX.play("running",{volume:this.footstepsSFX.volume}),!1!==this._invert?this.player.flipX=!0:this.player.flipX=!1,"runLeft"!==this.player.anims.getCurrentKey()&&this.player.anims.play("runLeft")):this.cursors.right.isDown||this.rightKey.isDown?(n.x+=this._sheep_Velocity,n.y=0,this.footstepsSFX.isPlaying||!0===this.sfxOn&&this.footstepsSFX.play("running",{volume:this.footstepsSFX.volume}),this.player.flipX=!0,this._invert=!0,"runLeft"!==this.player.anims.getCurrentKey()&&this.player.anims.play("runLeft")):this.cursors.left.isDown||this.leftKey.isDown?(n.x-=this._sheep_Velocity,n.y=0,this.footstepsSFX.isPlaying||!0===this.sfxOn&&this.footstepsSFX.play("running",{volume:this.footstepsSFX.volume}),this.player.flipX=!1,this._invert=!1,"runLeft"!==this.player.anims.getCurrentKey()&&this.player.anims.play("runLeft")):(this.footstepsSFX.stop(),"runLeft"===this.player.anims.getCurrentKey()&&this.player.anims.play("idleFrontAnim"),"runUpAnim"===this.player.anims.getCurrentKey()&&this.player.anims.play("idleBackAnim")),this.player.body.velocity.set(n.x,n.y),this.player.depth=this.player.y+this.player.height/2;for(var a=0;a<this.OakArrayLength;a++)this.depthCheck(this.OakArray[a]);for(var l=0;l<this.PineArrayLength;l++)this.depthCheck(this.PineArray[l]);this.depthCheckHouse(this.house),this.yawnBlastCircle&&this.yawnBlastCircle.setPosition(this.player.x,this.player.y),this.yawnBlastCircle&&this.yawnBlastCircle.scale<this._yawn_size_check&&(this.yawnBlastCircle.setScale(this._yawn_scale),this._yawn_scale+=.01)}},{key:"createYawnBlast",value:function(){this.yawnBlastCircle&&this.yawnBlastCircle.destroy(),this._yawn_scale=1,this.yawnBlastCircle=new be({scene:this,x:this.player.x,y:this.player.y}),"idleFrontAnim"===this.player.anims.getCurrentKey()&&this.player.anims.play("initalYawnFrontAnim"),"idleBackAnim"===this.player.anims.getCurrentKey()&&this.player.anims.play("initalYawnBackAnim"),this.yawnSFX.stop(),!0===this.sfxOn&&this.yawnSFX.play("YawnBlast",{volume:.2}),this.add.existing(this.yawnBlastCircle),this.yawnBlastCircle.depth=this.yawnBlastCircle.y+this.yawnBlastCircle.height/2,this.physics.add.existing(this.yawnBlastCircle),this.yawnBlastCircle.body.setCircle(75,54,48.5),this.physics.add.collider(this.yawnBlastCircle)}},{key:"destroyYawnBlast",value:function(){var t=this;if(this.yawnBlastCircle){"YawnLoopFrontAnim"===this.player.anims.getCurrentKey()&&this.player.anims.play("YawnReleaseFrontAnim"),"YawnLoopBackAnim"===this.player.anims.getCurrentKey()&&this.player.anims.play("YawnReleaseBackAnim"),this.yawnBlastCircle.anims.play("shatteringAnim"),this.yawnBlastCircle.on("animationcomplete-shatteringAnim",(function(){t.yawnBlastCircle.destroy(),t.yawnBlastCircle=null}),this);for(var e=0;e<this.WoolfArrayLength;e++)this.WoolfArray[e]&&(!0===this.WoolfArray[e].isAwake||this.WoolfArray[e].isAwake,this.physics.world.overlap(this.yawnBlastCircle,this.WoolfArray[e],this.loseHealth,null,this))}}},{key:"loseHealth",value:function(t,e){this.yawnBlastCircle&&(this.yawnBlastCircle.scale,this._yawn_size_check),e.takeDamage(1),0===e.getHealth()&&(this.updateScore(e),e.body.enable=!1,!0===this._invert&&("woolfBaby"===e.getEnemyName()?e.anims.play("babyWoolfAsleepFrontAnim"):"woolfMedium"===e.getEnemyName()?e.anims.play("woolfAsleepFrontAnim"):"woolfBig"===e.getEnemyName()&&e.anims.play("alphaWoolfAsleepFrontAnim")),!1===this._invert&&("woolfBaby"===e.getEnemyName()?e.anims.play("babyWoolfAsleepBackAnim"):"woolfMedium"===e.getEnemyName()?e.anims.play("woolfAsleepBackAnim"):"woolfBig"===e.getEnemyName()&&e.anims.play("alphaWoolfAsleepBackAnim")))}},{key:"zzzDrop",value:function(t,e,i){this.enemyEllipse=this.add.ellipse(t,e+15,260,150),this.zzzGroup=this.physics.add.group({key:"zzzImage",frameQuantity:i}),this.AllZArray.push(this.zzzGroup),r.a.Actions.PlaceOnEllipse(this.zzzGroup.getChildren(),this.enemyEllipse),this.physics.add.overlap(this.player,this.zzzGroup,this.increaseYawnRadiusByZzz,null,this)}},{key:"zzzClear",value:function(t){t.clear(!0,!0)}},{key:"increaseYawnRadiusByZzz",value:function(t,e){this.zzzGroup&&(t===this.player?(e.destroy(),this._yawn_size_check+=.03):t.destroy())}},{key:"moveEnemy",value:function(t){!0===t.isAwake?(t.body.velocity.set(r.a.Math.Between(-60,60),r.a.Math.Between(-60,60)),t.hasMoved=!1):(t.body.velocity.x=0,t.body.velocity.y=0)}},{key:"moveEnemyAnim",value:function(t){!0===t.isAwake&&(this.LeftTrue=!0,this.DownTrue=!0,this.enemyName=t.getEnemyName(),t.prevX=t.body.x,t.body.velocity.y<0?this.DownTrue=!1:t.body.velocity.y<0&&(this.DownTrue=!0),!1===this.DownTrue&&t.body.velocity.x<0&&(this.LeftTrue=!0,t.flipX=!0),!1===this.DownTrue&&t.body.velocity.x>=0&&(this.LeftTrue=!1,t.flipX=!1),!0===this.DownTrue&&t.body.velocity.x<0&&(this.LeftTrue=!0,t.flipX=!0),!0===this.DownTrue&&t.body.velocity.x>=0&&(this.LeftTrue=!1,t.flipX=!0),"woolfBaby"===this.enemyName&&!0!==this.DownTrue&&!0===this.LeftTrue||"woolfBaby"===this.enemyName&&!0!==this.DownTrue&&!1===this.LeftTrue?"babyWoolfRightRunAnim"!==t.anims.getCurrentKey()&&t.anims.play("babyWoolfRightRunAnim"):"woolfBaby"===this.enemyName&&!0===this.DownTrue&&!1===this.LeftTrue?"babyWoolfLeftRunAnim"!==t.anims.getCurrentKey()&&t.anims.play("babyWoolfLeftRunAnim"):"woolfBaby"===this.enemyName&&!0===this.DownTrue&&!0===this.LeftTrue&&(t.flipX=!1,"babyWoolfLeftRunAnim"!==t.anims.getCurrentKey()&&t.anims.play("babyWoolfLeftRunAnim")),"woolfMedium"===this.enemyName&&!0!==this.DownTrue&&!0===this.LeftTrue||"woolfMedium"===this.enemyName&&!0!==this.DownTrue&&!1===this.LeftTrue?"woolfRightRunAnim"!==t.anims.getCurrentKey()&&t.anims.play("woolfRightRunAnim"):"woolfMedium"===this.enemyName&&!0===this.DownTrue&&!1===this.LeftTrue?"woolfLeftRunAnim"!==t.anims.getCurrentKey()&&t.anims.play("woolfLeftRunAnim"):"woolfMedium"===this.enemyName&&!0===this.DownTrue&&!0===this.LeftTrue&&(t.flipX=!1,"woolfLeftRunAnim"!==t.anims.getCurrentKey()&&t.anims.play("woolfLeftRunAnim")),"woolfBig"===this.enemyName&&!0!==this.DownTrue&&!0===this.LeftTrue||"woolfBig"===this.enemyName&&!0!==this.DownTrue&&!1===this.LeftTrue?"alphaWoolfRightRunAnim"!==t.anims.getCurrentKey()&&t.anims.play("alphaWoolfRightRunAnim"):"woolfBig"===this.enemyName&&!0===this.DownTrue&&!1===this.LeftTrue?"alphaWoolfLeftRunAnim"!==t.anims.getCurrentKey()&&t.anims.play("alphaWoolfLeftRunAnim"):"woolfBig"===this.enemyName&&(t.flipX=!1,"alphaWoolfLeftRunAnim"!==t.anims.getCurrentKey()&&!0===this.DownTrue&&!0===this.LeftTrue&&t.anims.play("alphaWoolfLeftRunAnim")))}},{key:"newLevel",value:function(){for(var t=this,e=0;e<this.AllZArray.length;e++)this.zzzClear(this.AllZArray[e]);this.BigWolfsAwakeCurrentAmount=0,this.BabyWolfsAwakeCurrentAmount=0,this.MediumWolfAwakeCurrentAmount=0;for(var i=0;i<this.WoolfArray.length;i++)this.WoolfArray[i].destroy();this.WoolfArray=[],this.BabyWoolfArray=[],this.house2.setAlpha(1),this.tweens.add({targets:this.house2,alpha:{value:0,duration:15e4,ease:"Power1"},yoyo:!0,loop:-1}),this._sheep_Velocity=300,this.player.x=1441,this.player.y=1300,this.levelNumber+=1,this.sfxOn=!0,this.music.stop(),this.music.play("backgroundMusic",{volume:H}),this.RandomWolfChoice=Math.floor(3*Math.random())+0,0===this.RandomWolfChoice?this.BabyWolfAmount+=3:1===this.RandomWolfChoice?this.MediumWolfAmount+=2:2===this.RandomWolfChoice&&(this.BigWolfAmount+=1);for(var n=0;n<this.BabyWolfAmount;n++){for(this.xpos=Math.floor(1951*Math.random())+450,this.ypos=Math.floor(1951*Math.random())+450;this.xpos>1024&&this.xpos<1792&&this.ypos>256&&this.ypos<1536||this.xpos>256&&this.xpos<1280&&this.ypos>1792&&this.ypos<2560;)this.xpos=Math.floor(1951*Math.random())+450,this.ypos=Math.floor(1951*Math.random())+450;this["WoolfBaby"+n]=new St({scene:this,x:this.xpos,y:this.ypos,health:1,zzzAmount:5}),this.WoolfArray.push(this["WoolfBaby"+n]),this.BabyWoolfArray.push(this["WoolfBaby"+n])}for(var o=0;o<this.MediumWolfAmount;o++){for(this.xpos=Math.floor(1951*Math.random())+450,this.ypos=Math.floor(1951*Math.random())+450;this.xpos>1024&&this.xpos<1792&&this.ypos>256&&this.ypos<1536||this.xpos>256&&this.xpos<1280&&this.ypos>1792&&this.ypos<2560;)this.xpos=Math.floor(1951*Math.random())+450,this.ypos=Math.floor(1951*Math.random())+450;this["WoolfMedium"+o]=new ut({scene:this,x:this.xpos,y:this.ypos,health:3,zzzAmount:10}),this.WoolfArray.push(this["WoolfMedium"+o])}for(var s=0;s<this.BigWolfAmount;s++){for(this.xpos=Math.floor(1951*Math.random())+450,this.ypos=Math.floor(1951*Math.random())+450;this.xpos>1024&&this.xpos<1792&&this.ypos>256&&this.ypos<1536||this.xpos>256&&this.xpos<1280&&this.ypos>1792&&this.ypos<2560;)this.xpos=Math.floor(1951*Math.random())+450,this.ypos=Math.floor(1951*Math.random())+450;this["WoolfBig"+s]=new vt({scene:this,x:this.xpos,y:this.ypos,health:5,zzzAmount:15}),this.WoolfArray.push(this["WoolfBig"+s])}this.WoolfArrayLength=this.WoolfArray.length,this.BabyWoolfArrayLength=this.BabyWoolfArray.length;for(var a=0;a<this.WoolfArrayLength;a++)if(!0===this.WoolfArray[a].isAwake){this.add.existing(this.WoolfArray[a]),this.physics.add.existing(this.WoolfArray[a]),"woolfBaby"===this.WoolfArray[a].getEnemyName()?(this.WoolfArray[a].body.setSize(128,128,!0),this.WoolfArray[a].body.setOffset(0,0)):("woolfMedium"===this.WoolfArray[a].getEnemyName()||"woolfBig"===this.WoolfArray[a].getEnemyName())&&this.WoolfArray[a].body.setSize(250,180,!0),this.WoolfArray[a].body.setImmovable(!0),this.WoolfArray[a].body.allowGravity=!1;for(var l=0;l<this.AllBorderTilesArray;l++)this.physics.add.collider(this.WoolfArray[a],this.AllBorderTilesArray[l]);this.WoolfArray[a].body.velocity.set(r.a.Math.Between(-60,60),r.a.Math.Between(-60,60)),this.physics.add.collider(this.player,this.WoolfArray[a])}for(var h=function(e){t.timedEvent=t.time.addEvent({delay:500,callback:function(){t.moveEnemyAnim(t.WoolfArray[e])},callbackScope:t,loop:!0})},u=0;u<this.WoolfArrayLength;u++)h(u)}},{key:"setSFXVolume",value:function(t){this.footstepsSFX.volume=t}},{key:"getBabyWoolfCount",value:function(){return this.BabyWolfAmount}},{key:"getMedWoolfCount",value:function(){return this.MediumWolfAmount}},{key:"getBigWoolfCount",value:function(){return this.BigWolfAmount}},{key:"getBabyWoolfsAsleepTotal",value:function(){return this.BabyWolfAsleepTotalAmount}},{key:"getMedWoolfsAsleepTotal",value:function(){return this.MediumWolfAsleepTotalAmount}},{key:"getBigWoolfsAsleepTotal",value:function(){return this.BigWolfAsleepTotalAmount}},{key:"getBigWoolfsAwakeCurrent",value:function(){return this.BigWolfsAwakeCurrentAmount}},{key:"getBabyWoolfsAwakeCurrent",value:function(){return this.BabyWolfsAwakeCurrentAmount}},{key:"getMedWoolfsAwakeCurrent",value:function(){return this.MediumWolfAwakeCurrentAmount}},{key:"getNightsComplete",value:function(){return this.levelNumber}},{key:"updateScore",value:function(t){"woolfBaby"===t.name&&(this.BabyWolfAsleepTotalAmount+=1,this.BabyWolfsAwakeCurrentAmount+=1),"woolfMedium"===t.name&&(this.MediumWolfAwakeCurrentAmount+=1,this.MediumWolfAsleepTotalAmount+=1),"woolfBig"===t.name&&(this.BigWolfAsleepTotalAmount+=1,this.BigWolfsAwakeCurrentAmount+=1)}},{key:"changeWinLoseMusic",value:function(t){!0===t?(this.music.stop(),this.music.play("WinScreen",{volume:H})):(this.music.stop(),this.music.play("LoseScreen",{volume:H}))}},{key:"turnSFXOff",value:function(){this.sfxOn=!1}},{key:"resetAfterWin",value:function(){this._sheep_Velocity=0,this.sfxOn=!1,this.newLevel()}},{key:"depthCheckEnemyTree",value:function(t){t.enemyBehindTree=!0}},{key:"depthCheckHouse",value:function(t){this.sheepFootPosYForHouse=this.player.body.position.y+this.PlayerHeight,this.sheepFootPosXForHouse=this.player.body.position.x,this.sheepFootPosXForHouse>t.x+298||this.sheepFootPosXForHouse<t.x-223||this.sheepFootPosYForHouse>t.y+80||this.sheepFootPosYForHouse<t.y-279?(t.depth=this.player.depth-2,this.house2.depth=this.house.depth+1,t.setAlpha(1,1,1,1)):(t.depth=this.player.depth+2,this.house2.depth=this.house.depth+1,t.setAlpha(.2,.2,1,1))}},{key:"depthCheck",value:function(t){t.depth>this.player.depth?(this.player.body.position.y<t.y+114&&t.body.setOffset(t.offsetX,t.offsetY),this.player.x>t.x+t.width/2||this.player.x<t.x-t.width/2||this.player.y+this.player.height/2<t.y-t.height/2?!1===t.enemyBehindTree&&t.setAlpha(1,1,1,1):t.setAlpha(.2,.2,1,1)):(!1===t.enemyBehindTree&&t.setAlpha(1,1,1,1),this.sheepFootPosY=this.player.body.position.y+this.PlayerHeight,this.sheepFootPosX=this.player.body.position.x,this.testTreeTopCollide=t.body.position.y-t.treeHeight/2,this.testTreeBottomCollide=t.body.position.y+t.treeHeight,this.sheepFootPosY<this.testTreeBottomCollide&&this.sheepFootPosY>this.testTreeTopCollide&&(t.body.enable=!0,this.physics.add.collider(this.player,t)),this.sheepFootPosY>this.testTreeBottomCollide?((this.sheepFootPosX>t.body.position.x+t.inFrontValue||this.sheepFootPosX<t.body.position.x-t.inFrontValue)&&t.body.setOffset(t.offsetX,t.offsetChange),this.sheepFootPosY<t.body.position.y&&t.body.setOffset(t.offsetX,t.offsetY),t.body.enable=!0):t.body.enable=!0)}},{key:"render",value:function(){}}])&&xe(e.prototype,i),n&&xe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(r.a.Scene);function _e(t){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function je(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Be(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(r=n.key,o=void 0,o=function(t,e){if("object"!==_e(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==_e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===_e(o)?o:String(o)),n)}var r,o}function Me(t,e){return(Me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ae(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=Re(t);if(e){var r=Re(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return Ee(this,i)}}function Ee(t,e){if(e&&("object"===_e(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Re(t){return(Re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var We=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Me(t,e)}(s,t);var e,i,n,o=Ae(s);function s(){return je(this,s),o.apply(this,arguments)}return e=s,(i=[{key:"init",value:function(){this.RoosterSFX=this.sound.addAudioSprite("sounds"),this.TimeOver=!1,this.mySheepScene=this.scene.get("SheepMove"),this.MenuScene=this.scene.get("MainMenuScene"),this.HasWon=!1,this.happenOnce=!1,this.timeCheck=0}},{key:"preload",value:function(){this.SmallWolfCount=0,this.MedWolfCount=0,this.BigWolfCount=0,this.BabyWolfAsleepTotalAmount=0,this.MedWolfAsleepTotalAmount=0,this.BigWolfAsleepTotalAmount=0,this.BabyWolfAwakeCurrentAmount=0,this.MedWolfAwakeCurrentAmount=0,this.BigWolfAwakeCurrentAmount=0,this.NightsCompleteAmount=0,this._default_time=90,this.load.image("textboxBackground","assets/images/textbox.png"),this.SmallWoolfHUD=this.add.image(1700,210,"SmallWoolfHUD").setAlpha(1),this.MedWoolfHUD=this.add.image(1700,130,"MedWoolfHUD").setAlpha(1),this.BigWoolfHUD=this.add.image(1700,50,"BigWoolfHUD").setAlpha(1),this.WinHUD=this.add.image(900,450,"win").setAlpha(1),this.WinHUD.setOrigin(.5,.5),this.LoseHUD=this.add.image(900,450,"lose").setAlpha(1),this.LoseHUD.setOrigin(.5,.5),this.WinHUD.visible=!1,this.LoseHUD.visible=!1,this.SmallWolfCountText=this.add.text(1730,215," / ",{font:"40px comic sans",fontStyle:"bold",fill:"#FFFFFF",align:"center"}),this.SmallWolfCountText.setOrigin(.5,.5),this.MedWolfCountText=this.add.text(1730,135," / ",{font:"40px comic sans",fontStyle:"bold",fill:"#FFFFFF",align:"center"}),this.MedWolfCountText.setOrigin(.5,.5),this.BigWolfCountText=this.add.text(1730,55," / ",{font:"40px comic sans",fontStyle:"bold",fill:"#FFFFFF",align:"center"}),this.BigWolfCountText.setOrigin(.5,.5),this.NightsCompleteTextWon=this.add.text(1280,450,""+this.NightsCompleteAmount,{font:"100px comic sans",fontStyle:"bold",fill:"#FFFFFF",align:"center"}),this.NightsCompleteTextWon.setOrigin(.5,.5),this.NightsCompleteTextWon.visible=!1,this.NightsCompleteTextLost=this.add.text(1265,300,""+this.NightsCompleteAmount,{font:"100px comic sans",fontStyle:"bold",fill:"#FFFFFF",align:"center"}),this.NightsCompleteTextLost.setOrigin(.5,.5),this.NightsCompleteTextLost.visible=!1,this.BabyWolfAsleepTotalText=this.add.text(1500,700,""+this.BabyWolfAsleepTotalAmount,{font:"100px comic sans",fontStyle:"bold",fill:"#FFFFFF",align:"center"}),this.BabyWolfAsleepTotalText.setOrigin(.5,.5),this.BabyWolfAsleepTotalText.visible=!1,this.MedWolfAsleepTotalText=this.add.text(930,705,""+this.MedWolfAsleepTotalAmount,{font:"100px comic sans",fontStyle:"bold",fill:"#FFFFFF",align:"center"}),this.MedWolfAsleepTotalText.setOrigin(.5,.5),this.MedWolfAsleepTotalText.visible=!1,this.BigWolfAsleepTotalText=this.add.text(350,710,""+this.BigWolfAsleepTotalAmount,{font:"100px comic sans",fontStyle:"bold",fill:"#FFFFFF",align:"center"}),this.BigWolfAsleepTotalText.setOrigin(.5,.5),this.BigWolfAsleepTotalText.visible=!1,this.timeText=this.add.text(610,50,""+this.formatTime(this._default_time),{font:"70px comic sans",fontStyle:"bold",fill:"#FFFFFF",align:"center"}),this.timeText.setOrigin(.5,.5),this.timeImage=this.add.image(270,50,"timerImage").setAlpha(1),this.timeImage.setScale(.8),this.time.addEvent({delay:900,callback:this.countDown,callbackScope:this,loop:!0})}},{key:"create",value:function(){this.ContinueButton=this.add.sprite(900,700,"ContinueButton").setInteractive(),this.ContinueButton.setScale(.8),this.ContinueButton.on("pointerdown",function(t){this.resetLevel()}.bind(this)),this.ContinueButton.on("pointerover",(function(){this.ContinueButton.setTexture("ContinuePressedButton")}),this),this.ContinueButton.on("pointerout",(function(){this.ContinueButton.setTexture("ContinueButton")}),this),this.MenuButton=this.add.sprite(1600,400,"MenuButton").setInteractive(),this.MenuButton.setScale(.8),this.MenuButton.on("pointerdown",function(t){this.GoToMenu()}.bind(this)),this.MenuButton.on("pointerover",(function(){this.MenuButton.setTexture("MenuPressedButton")}),this),this.MenuButton.on("pointerout",(function(){this.MenuButton.setTexture("MenuButton")}),this),this.ContinueButton.visible=!1,this.MenuButton.visible=!1,this.dark=this.add.image(900,450,"darkBackground").setAlpha(1),this.timeImage.depth=this.timeText.depth-1,this.dark.depth=this.timeImage.depth-1,this.tweens.add({targets:this.dark,alpha:{value:0,duration:15e4,ease:"Power1"},yoyo:!0,loop:-1}),this.interactKey=this.input.keyboard.addKey(r.a.Input.Keyboard.KeyCodes.SPACE)}},{key:"update",value:function(t,e){this.SmallWolfCount=this.mySheepScene.getBabyWoolfCount(),this.MedWolfCount=this.mySheepScene.getMedWoolfCount(),this.BigWolfCount=this.mySheepScene.getBigWoolfCount(),this.BabyWolfAsleepTotalAmount=this.mySheepScene.getBabyWoolfsAsleepTotal(),this.MedWolfAsleepTotalAmount=this.mySheepScene.getMedWoolfsAsleepTotal(),this.BigWolfAsleepTotalAmount=this.mySheepScene.getBigWoolfsAsleepTotal(),this.BabyWolfAwakeCurrentAmount=this.mySheepScene.getBabyWoolfsAwakeCurrent(),this.MedWolfAwakeCurrentAmount=this.mySheepScene.getMedWoolfsAwakeCurrent(),this.BigWolfAwakeCurrentAmount=this.mySheepScene.getBigWoolfsAwakeCurrent(),this.NightsCompleteAmount=this.mySheepScene.getNightsComplete(),this.BabyWolfAwakeCurrentAmount===this.SmallWolfCount&&this.MedWolfAwakeCurrentAmount===this.MedWolfCount&&this.BigWolfAwakeCurrentAmount===this.BigWolfCount&&(this.timedEvent=this.time.addEvent({delay:2e3,callback:this.DecideWinLose,callbackScope:this,loop:!1}))}},{key:"formatTime",value:function(t){return this.minutes=Math.floor(t/60),this.partInSeconds=t%60,this.partInSeconds=this.partInSeconds.toString().padStart(2,"0"),"".concat(this.minutes,":").concat(this.partInSeconds)}},{key:"countDown",value:function(){this._default_time>0?(this._default_time-=1,this.timeText.text=""+this.formatTime(this._default_time),this.NightsCompleteTextLost.text=""+this.NightsCompleteAmount,this.NightsCompleteTextWon.text=""+this.NightsCompleteAmount,this.BigWolfAsleepTotalText.text=""+this.BigWolfAsleepTotalAmount,this.MedWolfAsleepTotalText.text=""+this.MedWolfAsleepTotalAmount,this.BabyWolfAsleepTotalText.text=""+this.BabyWolfAsleepTotalAmount,this.SmallWolfCountText.text=this.BabyWolfAwakeCurrentAmount+" / "+this.SmallWolfCount,this.MedWolfCountText.text=this.MedWolfAwakeCurrentAmount+" / "+this.MedWolfCount,this.BigWolfCountText.text=this.BigWolfAwakeCurrentAmount+" / "+this.BigWolfCount):this.DecideWinLose()}},{key:"GoToMenu",value:function(){window.location.reload()}},{key:"DecideWinLose",value:function(){this._default_time<=0?!1===this.happenOnce&&(this.happenOnce=!0,this.timeText.visible=!1,this.timeImage.visible=!1,this.SmallWolfCountText.visible=!1,this.MedWolfCountText.visible=!1,this.BigWolfCountText.visible=!1,this.SmallWoolfHUD.visible=!1,this.MedWoolfHUD.visible=!1,this.BigWoolfHUD.visible=!1,this.dark.visible=!1,this.RoosterSFX.play("RoosterCrow",{volume:this.RoosterSFX.volume}),this.HasWon=!1,this.mySheepScene.changeWinLoseMusic(this.HasWon),this.LoseHUD.visible=!0,this.mySheepScene.turnSFXOff(),this.NightsCompleteTextLost.visible=!0,this.BabyWolfAsleepTotalText.visible=!0,this.MedWolfAsleepTotalText.visible=!0,this.BigWolfAsleepTotalText.visible=!0,this.MenuButton.visible=!0):this.BabyWolfAwakeCurrentAmount===this.SmallWolfCount&&this.MedWolfAwakeCurrentAmount===this.MedWolfCount&&this.BigWolfAwakeCurrentAmount===this.BigWolfCount&&!1===this.happenOnce&&(this.happenOnce=!0,this.timeText.visible=!1,this.timeImage.visible=!1,this.SmallWolfCountText.visible=!1,this.MedWolfCountText.visible=!1,this.BigWolfCountText.visible=!1,this.SmallWoolfHUD.visible=!1,this.MedWoolfHUD.visible=!1,this.BigWoolfHUD.visible=!1,this.dark.visible=!1,this.HasWon=!0,this.mySheepScene.changeWinLoseMusic(this.HasWon),this.WinHUD.visible=!0,this.BabyWolfAwakeCurrentAmount=0,this.mySheepScene.turnSFXOff(),this.NightsCompleteTextWon.visible=!0,this.ContinueButton.visible=!0)}},{key:"resetLevel",value:function(){this.BabyWolfAwakeCurrentAmount=0,this.MedWolfAwakeCurrentAmount=0,this.BigWolfAwakeCurrentAmount=0,this.TimeOver=!1,this._default_time=90,this.LoseHUD.visible=!1,this.WinHUD.visible=!1,this.NightsCompleteTextLost.visible=!1,this.NightsCompleteTextWon.visible=!1,this.BabyWolfAsleepTotalText.visible=!1,this.MedWolfAsleepTotalText.visible=!1,this.BigWolfAsleepTotalText.visible=!1,this.ContinueButton.visible=!1,this.MenuButton.visible=!1,this.dark=this.add.image(900,450,"darkBackground").setAlpha(1),this.timeImage.depth=this.timeText.depth-1,this.dark.depth=this.timeImage.depth-1,this.tweens.add({targets:this.dark,alpha:{value:0,duration:15e4,ease:"Power1"},yoyo:!0,loop:-1}),this.timeText.visible=!0,this.timeImage.visible=!0,this.SmallWolfCountText.visible=!0,this.MedWolfCountText.visible=!0,this.BigWolfCountText.visible=!0,this.SmallWoolfHUD.visible=!0,this.MedWoolfHUD.visible=!0,this.BigWoolfHUD.visible=!0,this.mySheepScene.resetAfterWin(),this.happenOnce=!1}}])&&Be(e.prototype,i),n&&Be(e,n),Object.defineProperty(e,"prototype",{writable:!1}),s}(r.a.Scene);function Fe(t){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ie(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(r=n.key,o=void 0,o=function(t,e){if("object"!==Fe(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==Fe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===Fe(o)?o:String(o)),n)}var r,o}function De(t,e){return(De=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Le(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=Ye(t);if(e){var r=Ye(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return ze(this,i)}}function ze(t,e){if(e&&("object"===Fe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ye(t){return(Ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var He=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&De(t,e)}(o,t);var e,i,n,r=Le(o);function o(t){var e,i=t.scene,n=t.x,s=t.y;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,i,n,s,"mainMenuTitle")).key="mM",e.name="mM",e}return e=o,i&&Ie(e.prototype,i),n&&Ie(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(r.a.GameObjects.Sprite);function Ne(t){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xe(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(r=n.key,o=void 0,o=function(t,e){if("object"!==Ne(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==Ne(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===Ne(o)?o:String(o)),n)}var r,o}function Ge(t,e){return(Ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ue(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=Ke(t);if(e){var r=Ke(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return Ve(this,i)}}function Ve(t,e){if(e&&("object"===Ne(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ke(t){return(Ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Je=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ge(t,e)}(o,t);var e,i,n,r=Ue(o);function o(t){var e,i=t.scene,n=t.x,s=t.y;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,i,n,s,"creditsPanel")).key="creditsPan",e.name="creditsPan",e}return e=o,i&&Xe(e.prototype,i),n&&Xe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(r.a.GameObjects.Sprite);function Ze(t){return(Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qe(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(r=n.key,o=void 0,o=function(t,e){if("object"!==Ze(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==Ze(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===Ze(o)?o:String(o)),n)}var r,o}function $e(t,e){return($e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ti(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=ii(t);if(e){var r=ii(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return ei(this,i)}}function ei(t,e){if(e&&("object"===Ze(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ii(t){return(ii=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ni=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$e(t,e)}(o,t);var e,i,n,r=ti(o);function o(){return Qe(this,o),r.apply(this,arguments)}return e=o,(i=[{key:"init",value:function(){this.cameras.main.backgroundColor="#000000"}},{key:"preload",value:function(){}},{key:"create",value:function(){this.input.setDefaultCursor("url(assets/images/MouseCursor.png), pointer"),this.music=this.sound.addAudioSprite("sounds"),this.music.play("MenuScreen",{volume:.5}),this.mainMenuTitleImage=new He({scene:this,x:this.sys.game.config.width/2,y:this.sys.game.config.height/2}),this.credPanel=new Je({scene:this,x:this.sys.game.config.width/2,y:this.sys.game.config.height/2}),this.add.existing(this.mainMenuTitleImage),this.mainMenuTitleImage.setOrigin(.5,.5),this.PlayButton=this.add.sprite(1610,250,"playUnpressed").setInteractive(),this.PlayButton.setScale(.7),this.CreditsButton=this.add.sprite(1610,450,"creditsUnpressed").setInteractive(),this.CreditsButton.setScale(.7),this.add.existing(this.credPanel),this.credPanel.setVisible(!1),this.BackButton=this.add.sprite(1530,130,"backUnpressed").setInteractive(),this.BackButton.setScale(.9),this.BackButton.setVisible(!1),this.BackButton.setActive(!1),this.PlayButton.on("pointerover",(function(){this.PlayButton.setTexture("playPressed")}),this),this.PlayButton.on("pointerout",(function(){this.PlayButton.setTexture("playUnpressed")}),this),this.PlayButton.on("pointerdown",(function(t){this.music.stop(),this.scene.start("LoadingScene")}),this),this.CreditsButton.on("pointerover",(function(){this.CreditsButton.setTexture("creditsPressed")}),this),this.CreditsButton.on("pointerout",(function(){this.CreditsButton.setTexture("creditsUnpressed")}),this),this.CreditsButton.on("pointerdown",function(t){this.bringUpCredits()}.bind(this)),this.BackButton.on("pointerover",(function(){this.BackButton.setTexture("backPressed")}),this),this.BackButton.on("pointerout",(function(){this.BackButton.setTexture("backUnpressed")}),this),this.BackButton.on("pointerdown",function(t){this.backToMenu()}.bind(this))}},{key:"bringUpCredits",value:function(){this.PlayButton.setVisible(!1),this.PlayButton.setActive(!1),this.CreditsButton.setVisible(!1),this.CreditsButton.setActive(!1),this.credPanel.setVisible(!0),this.BackButton.setVisible(!0),this.BackButton.setActive(!0)}},{key:"backToMenu",value:function(){this.credPanel.setVisible(!1),this.BackButton.setVisible(!1),this.BackButton.setActive(!1),this.PlayButton.setVisible(!0),this.PlayButton.setActive(!0),this.CreditsButton.setVisible(!0),this.CreditsButton.setActive(!0)}}])&&qe(e.prototype,i),n&&qe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}(r.a.Scene);function ri(t){return(ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function oi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function si(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(r=n.key,o=void 0,o=function(t,e){if("object"!==ri(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==ri(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===ri(o)?o:String(o)),n)}var r,o}function ai(t,e){return(ai=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function li(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=ui(t);if(e){var r=ui(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return hi(this,i)}}function hi(t,e){if(e&&("object"===ri(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ui(t){return(ui=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ci=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ai(t,e)}(o,t);var e,i,n,r=li(o);function o(){return oi(this,o),r.apply(this,arguments)}return e=o,(i=[{key:"init",value:function(){}},{key:"preload",value:function(){this.logo=this.add.sprite(x(this),O(this),"logoPic"),k([this.logo]),this.setupProgressBar(200),this.load.image("logoPic","assets/images/LoadingPinkWoolhemina.png"),this.load.image("mainMenuTitle","assets/images/MainMenu_SplashScreen.png"),this.load.image("playPressed","assets/images/PlayPressedButton.png"),this.load.image("playUnpressed","assets/images/PlayButton.png"),this.load.image("creditsPressed","assets/images/CreditsPressedButton.png"),this.load.image("creditsUnpressed","assets/images/CreditsButton.png"),this.load.image("creditsPanel","assets/images/CreditsPanel.png"),this.load.image("backPressed","assets/images/BackPressedButton.png"),this.load.image("backUnpressed","assets/images/BackButton.png"),this.load.image("tutorial1","assets/images/tutorialCard_1.png"),this.load.image("tutorial2","assets/images/tutorialCard_2.png"),this.load.image("tutorial3","assets/images/tutorialCard_3.png"),this.load.image("tutorial4","assets/images/tutorialCard_4.png"),this.load.image("tutorial5","assets/images/tutorialCard_5.png"),this.load.image("tutorial6","assets/images/tutorialCard_6.png"),this.load.image("timerImage","assets/images/UntilDawnLabel.png"),this.load.image("CursorImage","assets/images/MouseCursor.png"),this.load.image("MenuButton","assets/images/MenuButton.png"),this.load.image("MenuPressedButton","assets/images/MenuPressed.png"),this.load.image("BackButton","assets/images/BackButton.png"),this.load.image("BackPressedButton","assets/images/BackPressedButton.png"),this.load.image("SkipButton","assets/images/Skip.png"),this.load.image("SkipPressedButton","assets/images/SkipPressed.png"),this.load.image("NextButton","assets/images/Next.png"),this.load.image("NextPressedButton","assets/images/NextPressed.png"),this.load.image("ContinueButton","assets/images/Continue.png"),this.load.image("ContinuePressedButton","assets/images/ContinuePressed.png"),this.load.image("ExitButton","assets/images/ExitButton.png"),this.load.image("ExitPressedButton","assets/images/ExitPressedButton.png"),this.load.image("darkBackground","assets/images/DarkBackground.png"),this.load.image("win","assets/images/WinScreen.png"),this.load.image("lose","assets/images/LoseScreen.png"),this.load.image("SmallWoolfHUD","assets/images/WoolfPupCounter.png"),this.load.image("MedWoolfHUD","assets/images/WoolfCounter.png"),this.load.image("BigWoolfHUD","assets/images/AlphaCounter.png"),this.load.image("HouseClosedOnImage","assets/images/HouseClosedOn.png"),this.load.image("HouseClosedOffImage","assets/images/HouseClosedOff.png"),this.load.image("sheepImage","assets/images/woolhemina_testSprite_128.png"),this.load.image("treeImage","assets/images/asset_oakTree.png"),this.load.image("FirePitImage","assets/images/asset_firePit.png"),this.load.image("pineImage","assets/images/asset_pineTree.png"),this.load.image("woolfImageBig","assets/images/Big.png"),this.load.image("woolfImageSmall","assets/images/Small.png"),this.load.image("woolfImageMed","assets/images/Med.png"),this.load.image("tile1","assets/images/Tile_01.png"),this.load.image("zzzImage","assets/Test Art/dummyAsset_Z.png"),this.load.image("mapTile","assets/images/DummyBoundary.png"),this.load.image("grass1Tile","assets/images/Tile_01.png"),this.load.image("grass2Tile","assets/images/Tile_02.png"),this.load.image("grass3Tile","assets/images/Tile_03.png"),this.load.image("waterTile","assets/images/WaterTile.png"),this.load.image("topWaterTile","assets/images/WaterTile2.png"),this.load.image("sideFenceTile","assets/images/FenceTile_02.png"),this.load.image("bottomFenceTile","assets/images/FenceTile_01.png"),this.load.image("TopMountainMapTile","assets/images/MountainTile_03.png"),this.load.image("CornerMountainMapTile","assets/images/MountainTile_02.png"),this.load.image("BelowCornerMountainMapTile","assets/images/MountainTile_01.png"),this.load.image("yawnBlastCircleImage","assets/images/yawnBlast_hemisphereShape.png"),this.load.spritesheet("runleftFront","assets/images/painted_woolhemina_runCycle_leftFront.png",{frameWidth:128,frameHeight:128,endFrame:13}),this.load.spritesheet("runUp","assets/images/painted_woolhemina_runCycle_rightBack.png",{frameWidth:128,frameHeight:128,endFrame:13}),this.load.spritesheet("idleFront","assets/images/painted_resized_woolhemina_idle_leftFront.png",{frameWidth:128,frameHeight:128,endFrame:10}),this.load.spritesheet("idleBack","assets/images/painted_resized_woolhemina_idle_rightBack.png",{frameWidth:128,frameHeight:128,endFrame:6}),this.load.spritesheet("initalYawnFront","assets/images/painted_woolhemina_yawnBlast_initial_leftFront.png",{frameWidth:128,frameHeight:128,endFrame:6}),this.load.spritesheet("initalYawnBack","assets/images/painted_woolhemina_yawnBlast_initial_rightBack.png",{frameWidth:128,frameHeight:128,endFrame:6}),this.load.spritesheet("YawnLoopFront","assets/images/painted_woolhemina_yawnBlast_loop_leftFront.png",{frameWidth:128,frameHeight:128,endFrame:5}),this.load.spritesheet("YawnLoopBack","assets/images/painted_woolhemina_yawnBlast_loop_rightBack.png",{frameWidth:128,frameHeight:128,endFrame:5}),this.load.spritesheet("YawnReleaseFront","assets/images/painted_woolhemina_yawnBlast_release_leftFront.png",{frameWidth:128,frameHeight:128,endFrame:14}),this.load.spritesheet("YawnReleaseBack","assets/images/painted_woolhemina_yawnBlast_release_rightBack.png",{frameWidth:128,frameHeight:128,endFrame:14}),this.load.spritesheet("KnockbackLeftFront","assets/images/painted_woolhemina_surprised_leftFront.png",{frameWidth:128,frameHeight:128,endFrame:24}),this.load.spritesheet("KnockbackRightBack","assets/images/painted_woolhemina_surprised_rightBack.png",{frameWidth:128,frameHeight:128,endFrame:24}),this.load.spritesheet("breakGlass","assets/images/yawnBlast_shatter_spritesheet.png",{frameWidth:256,frameHeight:256,endFrame:3}),this.load.spritesheet("babyWoolfLeftRun","assets/images/painted_babyWoolf_runCycle_leftFront.png",{frameWidth:128,frameHeight:128,endFrame:11}),this.load.spritesheet("babyWoolfRightRun","assets/images/painted_babyWoolf_runCycle_rightBack.png",{frameWidth:128,frameHeight:128,endFrame:11}),this.load.spritesheet("babyWoolfLeftIdle","assets/images/painted_babyWoolf_idle_leftFront.png",{frameWidth:128,frameHeight:128,endFrame:7}),this.load.spritesheet("babyWoolfRightIdle","assets/images/painted_babyWoolf_idle_rightBack.png",{frameWidth:128,frameHeight:128,endFrame:7}),this.load.spritesheet("babyWoolfAsleepFront","assets/images/painted_babyWoolf_fallAsleep_leftFront.png",{frameWidth:128,frameHeight:128,endFrame:14}),this.load.spritesheet("babyWoolfAsleepBack","assets/images/painted_babyWoolf_fallAsleep_rightBack.png",{frameWidth:128,frameHeight:128,endFrame:14}),this.load.spritesheet("babyWoolfSleepLoopFront","assets/images/painted_babyWoolf_fallAsleep_loop_leftFront.png",{frameWidth:128,frameHeight:128,endFrame:8}),this.load.spritesheet("babyWoolfSleepLoopBack","assets/images/painted_babyWoolf_fallAsleep_loop_rightBack.png",{frameWidth:128,frameHeight:128,endFrame:8}),this.load.spritesheet("woolfLeftRun","assets/images/painted_woolf_runCycle_leftFront.png",{frameWidth:256,frameHeight:256,endFrame:11}),this.load.spritesheet("woolfRightRun","assets/images/painted_woolf_runCycle_rightBack.png",{frameWidth:256,frameHeight:256,endFrame:11}),this.load.spritesheet("woolfLeftIdle","assets/images/painted_woolf_idle_leftFront.png",{frameWidth:256,frameHeight:256,endFrame:7}),this.load.spritesheet("woolfRightIdle","assets/images/painted_woolf_idle_rightBack.png",{frameWidth:256,frameHeight:256,endFrame:7}),this.load.spritesheet("woolfAsleepFront","assets/images/painted_woolf_fallAsleep_leftFront.png",{frameWidth:256,frameHeight:256,endFrame:14}),this.load.spritesheet("woolfAsleepBack","assets/images/painted_woolf_fallAsleep_rightBack.png",{frameWidth:256,frameHeight:256,endFrame:14}),this.load.spritesheet("woolfSleepLoopFront","assets/images/painted_woolf_fallAsleep_loop_leftFront.png",{frameWidth:256,frameHeight:256,endFrame:8}),this.load.spritesheet("woolfSleepLoopBack","assets/images/painted_woolf_fallAsleep_loop_rightBack.png",{frameWidth:256,frameHeight:256,endFrame:8}),this.load.spritesheet("woolfAttackFront","assets/images/painted_woolf_armSlam_leftFront.png",{frameWidth:256,frameHeight:256,endFrame:15}),this.load.spritesheet("woolfAttackBack","assets/images/painted_woolf_armSlam_rightBack.png",{frameWidth:256,frameHeight:256,endFrame:15}),this.load.spritesheet("alphaWoolfLeftRun","assets/images/painted_altWoolf_runCycle_leftFront.png",{frameWidth:256,frameHeight:256,endFrame:11}),this.load.spritesheet("alphaWoolfRightRun","assets/images/painted_altWoolf_runCycle_rightBack.png",{frameWidth:256,frameHeight:256,endFrame:11}),this.load.spritesheet("alphaWoolfLeftIdle","assets/images/painted_altWoolf_idle_leftFront.png",{frameWidth:256,frameHeight:256,endFrame:7}),this.load.spritesheet("alphaWoolfRightIdle","assets/images/painted_altWoolf_idle_rightBack.png",{frameWidth:256,frameHeight:256,endFrame:7}),this.load.spritesheet("alphaWoolfAsleepFront","assets/images/painted_altWoolf_fallAsleep_leftFront.png",{frameWidth:256,frameHeight:256,endFrame:14}),this.load.spritesheet("alphaWoolfAsleepBack","assets/images/painted_altWoolf_fallAsleep_rightBack.png",{frameWidth:256,frameHeight:256,endFrame:14}),this.load.spritesheet("alphaWoolfSleepLoopFront","assets/images/painted_altWoolf_fallAsleep_loop_leftFront.png",{frameWidth:256,frameHeight:256,endFrame:8}),this.load.spritesheet("alphaWoolfSleepLoopBack","assets/images/painted_altWoolf_fallAsleep_loop_rightBack.png",{frameWidth:256,frameHeight:256,endFrame:8}),this.load.spritesheet("alphaWoolfAttackFront","assets/images/painted_altWoolf_partyHowl_leftFront.png",{frameWidth:256,frameHeight:256,endFrame:15}),this.load.spritesheet("alphaWoolfAttackBack","assets/images/painted_altWoolf_partyHowl_rightBack.png",{frameWidth:256,frameHeight:256,endFrame:15}),this.load.spritesheet("flames","assets/images/firePit_flames_spritesheet.png",{frameWidth:512,frameHeight:512,endFrame:3}),this.load.audioSprite("sounds","assets/audio/sounds.json",["assets/audio/sounds.ogg","assets/audio/sounds.mp3","assets/audio/sounds.m4a","assets/audio/sounds.ac3"]);for(var t=0;t<500;t++)this.load.image("logo".concat(t),"./assets/images/icon.png")}},{key:"setupProgressBar",value:function(t){var e=this.cameras.main.width,i=this.cameras.main.height,n=this.add.graphics(),r=this.add.graphics();r.fillStyle(2236962,.8),r.fillRect(e/2-280,i/2+80,320,50);var o=this.make.text({x:e/2-120,y:i/2+106,text:"0%",style:{font:"30px monospace",fill:"#ffffff"}});k([o]),this.load.on("progress",(function(t){n.clear(),n.fillStyle(16777215,1),n.fillRect(e/2-280,i/2+80,320,50),o.setText("".concat(parseInt(100*t),"%"))})),this.load.on("fileprogress",(function(t){})),this.load.on("complete",(function(){o.destroy(),n.destroy(),r.destroy()}))}},{key:"create",value:function(){}},{key:"update",value:function(){this.scene.start("TutorialScene")}}])&&si(e.prototype,i),n&&si(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}(r.a.Scene);function fi(t){return(fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function di(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(r=n.key,o=void 0,o=function(t,e){if("object"!==fi(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==fi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===fi(o)?o:String(o)),n)}var r,o}function yi(t,e){return(yi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function gi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=mi(t);if(e){var r=mi(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return vi(this,i)}}function vi(t,e){if(e&&("object"===fi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function mi(t){return(mi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var bi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yi(t,e)}(o,t);var e,i,n,r=gi(o);function o(){return pi(this,o),r.apply(this,arguments)}return e=o,(i=[{key:"init",value:function(){this.cameras.main.setBackgroundColor("#e6ccff")}},{key:"preload",value:function(){}},{key:"create",value:function(){this.tutorial1Image=this.add.image(900,450,"tutorial1").setAlpha(1),this.tutorial1Image.setScale(.3),this.tutorial1Image.visible=!0,this.tutorial2Image=this.add.image(900,450,"tutorial2").setAlpha(1),this.tutorial2Image.setScale(.3),this.tutorial2Image.visible=!1,this.tutorial3Image=this.add.image(900,450,"tutorial3").setAlpha(1),this.tutorial3Image.setScale(.3),this.tutorial3Image.visible=!1,this.tutorial4Image=this.add.image(900,450,"tutorial4").setAlpha(1),this.tutorial4Image.setScale(.3),this.tutorial4Image.visible=!1,this.tutorial5Image=this.add.image(905,455,"tutorial5").setAlpha(1),this.tutorial5Image.setScale(.3),this.tutorial5Image.visible=!1,this.tutorial6Image=this.add.image(905,455,"tutorial6").setAlpha(1),this.tutorial6Image.setScale(.3),this.tutorial6Image.visible=!1,this.SkipButton=this.add.sprite(1670,100,"SkipButton").setInteractive(),this.SkipButton.setScale(.8),this.SkipButton.on("pointerdown",function(t){this.SkipFunction(this.getCurrentNumber())}.bind(this)),this.SkipButton.on("pointerover",(function(){this.SkipButton.setTexture("SkipPressedButton")}),this),this.SkipButton.on("pointerout",(function(){this.SkipButton.setTexture("SkipButton")}),this),this.BackButton=this.add.sprite(135,800,"BackButton").setInteractive(),this.BackButton.setScale(.68),this.BackButton.on("pointerdown",function(t){this.BackFunction(this.getCurrentNumber())}.bind(this)),this.BackButton.on("pointerover",(function(){this.BackButton.setTexture("BackPressedButton")}),this),this.BackButton.on("pointerout",(function(){this.BackButton.setTexture("BackButton")}),this),this.BackButton.visible=!1,this.NextButton=this.add.sprite(1670,790,"NextButton").setInteractive(),this.NextButton.setScale(.8),this.NextButton.on("pointerdown",function(t){this.NextFunction(this.getCurrentNumber())}.bind(this)),this.NextButton.on("pointerover",(function(){this.NextButton.setTexture("NextPressedButton")}),this),this.NextButton.on("pointerout",(function(){this.NextButton.setTexture("NextButton")}),this)}},{key:"getCurrentNumber",value:function(){return!0===this.tutorial1Image.visible?1:!0===this.tutorial2Image.visible?2:!0===this.tutorial3Image.visible?3:!0===this.tutorial4Image.visible?4:!0===this.tutorial5Image.visible?5:!0===this.tutorial6Image.visible?6:void 0}},{key:"NextFunction",value:function(t){this.BackButton.visible=!0,this.tutorial1Image.visible=!1,this.tutorial2Image.visible=!1,this.tutorial3Image.visible=!1,this.tutorial4Image.visible=!1,this.tutorial5Image.visible=!1,this.tutorial6Image.visible=!1,6===t?this.scene.start("SheepMove"):1===t?this.tutorial2Image.visible=!0:2===t?this.tutorial3Image.visible=!0:3===t?this.tutorial4Image.visible=!0:4===t?this.tutorial5Image.visible=!0:5===t&&(this.tutorial6Image.visible=!0)}},{key:"BackFunction",value:function(t){this.BackButton.visible=!0,this.tutorial1Image.visible=!1,this.tutorial2Image.visible=!1,this.tutorial3Image.visible=!1,this.tutorial4Image.visible=!1,this.tutorial5Image.visible=!1,this.tutorial6Image.visible=!1,1===t?this.BackButton.visible=!1:2===t?(this.BackButton.visible=!1,this.tutorial1Image.visible=!0):3===t?this.tutorial2Image.visible=!0:4===t?this.tutorial3Image.visible=!0:5===t?this.tutorial4Image.visible=!0:6===t&&(this.tutorial5Image.visible=!0)}},{key:"SkipFunction",value:function(t){this.scene.start("SheepMove")}}])&&di(e.prototype,i),n&&di(e,n),Object.defineProperty(e,"prototype",{writable:!1}),o}(r.a.Scene);function wi(t){return(wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ki(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(r=n.key,o=void 0,o=function(t,e){if("object"!==wi(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!==wi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(r,"string"),"symbol"===wi(o)?o:String(o)),n)}var r,o}function xi(t,e){return(xi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Oi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,n=Pi(t);if(e){var r=Pi(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return Si(this,i)}}function Si(t,e){if(e&&("object"===wi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Pi(t){return(Pi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ti=[{key:"updatePlugin",plugin:o.default,mapping:"updates"},{key:"rexUI",plugin:w.a,mapping:"rexUI"}];var Ci=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xi(t,e)}(s,t);var e,i,n,o=Oi(s);function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this,{pixelArt:!1,type:r.a.WEBGL,title:"Sheep Yawn",backgroundColor:"#9999cc",scale:{parent:"content",width:z,height:Y,mode:r.a.Scale.FIT,autoCenter:r.a.Scale.CENTER_BOTH},plugins:{scene:Ti},physics:{default:"arcade",arcade:{gravity:{y:0},debug:!1}}})).scene.add("Boot",M,!1),t.scene.add("StudioSplash",L,!1),t.scene.add("SheepMove",Ce,!1),t.scene.add("TutorialScene",bi,!1),t.scene.add("HUDScene",We,!1),t.scene.add("LoadingScene",ci,!1),t.scene.add("MainMenuScene",ni,!1),t.scene.start("Boot"),t}return e=s,i&&ki(e.prototype,i),n&&ki(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(r.a.Game);window.game=new Ci},742:function(t,e,i){window,t.exports=function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=376)}({0:function(t,e){t.exports=function(t,e,i){if(t&&"number"!=typeof t){if(t.hasOwnProperty(e))return t[e];if(-1!==e.indexOf(".")){for(var n=e.split("."),r=t,o=i,s=0;s<n.length;s++){if(!r.hasOwnProperty(n[s])){o=i;break}o=r[n[s]],r=r[n[s]]}return o}return i}return i}},1:function(t,e,i){"use strict";e.a={hleft:0,hcenter:1,hright:2,vtop:0,vcenter:1,vbottom:2,NO_NEWLINE:0,RAW_NEWLINE:1,WRAPPED_NEWLINE:2,NO_WRAP:0,WORD_WRAP:1,CHAR_WRAP:2,SPLITREGEXP:/(?:\r\n|\r|\n)/}},10:function(t,e,i){"use strict";var n=i(4);function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=Phaser.Utils.Objects.GetValue,s=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent=e,this._isRunning=!1,this.tickingState=!1,this.setEventEmitter(o(i,"eventEmitter",void 0)),this.setTickingMode(o(i,"tickingMode",1))}var e,i;return e=t,(i=[{key:"boot",value:function(){2!==this.tickingMode||this.tickingState||this.startTicking()}},{key:"shutdown",value:function(){this.destroyEventEmitter(),this.tickingState&&this.stopTicking()}},{key:"setTickingMode",value:function(t){"string"==typeof t&&(t=a[t]),this.tickingMode=t}},{key:"startTicking",value:function(){this.tickingState=!0}},{key:"stopTicking",value:function(){this.tickingState=!1}},{key:"start",value:function(){return this.isRunning=!0,this}},{key:"pause",value:function(){return this.isRunning=!1,this}},{key:"resume",value:function(){return this.isRunning=!0,this}},{key:"stop",value:function(){return this.isRunning=!1,this}},{key:"complete",value:function(){this.isRunning=!1,this.emit("complete",this.parent,this)}},{key:"isRunning",get:function(){return this._isRunning},set:function(t){this._isRunning!==t&&(this._isRunning=t,1===this.tickingMode&&t!=this.tickingState&&(t?this.startTicking():this.stopTicking()))}}])&&r(e.prototype,i),t}();Object.assign(s.prototype,n.a);var a={no:0,lazy:1,always:2};e.a=s},108:function(t,e,i){"use strict";var n=i(4),r=i(7);function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=Phaser.Utils.Objects.GetValue,a=Phaser.Utils.Array.SpliceOne,l=Phaser.Math.Distance.Between,h=Phaser.Math.Angle.Between,u=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=e.input.manager.pointersTotal-1;n<2&&e.input.addPointer(2-n),this.scene=e,this.setEventEmitter(s(i,"eventEmitter",void 0)),this.pointers=[],this.movedState={},this.resetFromJSON(i),this.boot()}var e,i;return e=t,(i=[{key:"resetFromJSON",value:function(t){return this.setEnable(s(t,"enable",!0)),this.bounds=s(t,"bounds",void 0),this.tracerState=f,this.pointers.length=0,Object(r.a)(this.movedState),this}},{key:"boot",value:function(){this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.events.once("shutdown",this.destroy,this)}},{key:"shutdown",value:function(){this.destroyEventEmitter(),this.pointers.length=0,Object(r.a)(this.movedState),this.scene&&(this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.events.off("destroy",this.destroy,this),this.scene=void 0),this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable===t||(t||this.dragCancel(),this.enable=t),this}},{key:"onPointerDown",value:function(t){if(this.enable&&2!==this.pointers.length&&(!this.bounds||this.bounds.contains(t.x,t.y))&&-1===this.pointers.indexOf(t))switch(this.movedState[t.id]=!1,this.pointers.push(t),this.tracerState){case f:this.tracerState=p,this.onDrag1Start();break;case p:this.tracerState=d,this.onDrag2Start()}}},{key:"onPointerUp",value:function(t){if(this.enable&&(!this.bounds||this.bounds.contains(t.x,t.y))){var e=this.pointers.indexOf(t);if(-1!==e)switch(delete this.movedState[t.id],a(this.pointers,e),this.tracerState){case p:this.tracerState=f,this.onDrag1End();break;case d:this.tracerState=p,this.onDrag2End(),this.onDrag1Start()}}}},{key:"onPointerMove",value:function(t){if(this.enable&&t.isDown){var e=!this.bounds||this.bounds.contains(t.x,t.y),i=-1!==this.pointers.indexOf(t);if(!i&&e);else if(i&&!e)this.onPointerUp(t);else if(this.movedState[t.id]||(this.movedState[t.id]=t.x!==t.downX||t.y!==t.downY),this.movedState[t.id])switch(this.tracerState){case p:this.onDrag1();break;case d:this.onDrag2()}}}},{key:"dragCancel",value:function(){return this.tracerState===d&&this.onDrag2End(),this.pointers.length=0,Object(r.a)(this.movedState),this.tracerState=f,this}},{key:"onDrag1Start",value:function(){this.emit("drag1start",this)}},{key:"onDrag1End",value:function(){this.emit("drag1end",this)}},{key:"onDrag1",value:function(){this.emit("drag1",this)}},{key:"onDrag2Start",value:function(){this.emit("drag2start",this)}},{key:"onDrag2End",value:function(){this.emit("drag2end",this)}},{key:"onDrag2",value:function(){this.emit("drag2",this)}},{key:"setRecongizedStateObject",value:function(t){return this.recongizedState=t,this}},{key:"cancel",value:function(){return this.state=y,this}},{key:"distanceBetween",get:function(){if(this.tracerState!==d)return 0;var t=this.pointers[0],e=this.pointers[1];return l(t.x,t.y,e.x,e.y)}},{key:"angleBetween",get:function(){if(this.tracerState!==d)return 0;var t=this.pointers[0],e=this.pointers[1];return h(t.x,t.y,e.x,e.y)}},{key:"drag1Vector",get:function(){var t=this.pointers[0];if(t&&this.movedState[t.id]){var e=t.position,i=t.prevPosition;c.x=e.x-i.x,c.y=e.y-i.y}else c.x=0,c.y=0;return c}},{key:"centerX",get:function(){if(this.tracerState!==d)return 0;var t=this.pointers[0].position,e=this.pointers[1].position;return(t.x+e.x)/2}},{key:"centerY",get:function(){if(this.tracerState!==d)return 0;var t=this.pointers[0].position,e=this.pointers[1].position;return(t.y+e.y)/2}},{key:"prevCenterX",get:function(){if(this.tracerState!==d)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,e=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.x+e.x)/2}},{key:"prevCenterY",get:function(){if(this.tracerState!==d)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,e=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.y+e.y)/2}},{key:"movementCenterX",get:function(){return this.centerX-this.prevCenterX}},{key:"movementCenterY",get:function(){return this.centerY-this.prevCenterY}},{key:"state",get:function(){return this.recongizedState.state},set:function(t){this.recongizedState.state=t}}])&&o(e.prototype,i),t}();Object.assign(u.prototype,n.a);var c={},f=0,p=1,d=2,y="IDLE";e.a=u},11:function(t,e,i){"use strict";var n=i(7);e.a=function(t,e){var i=Array.isArray(t);for(var r in void 0===e?e=i?[]:{}:Object(n.a)(e),i&&(e.length=t.length),t)e[r]=t[r];return e}},111:function(t,e,i){"use strict";e.a={"up&down":0,"left&right":1,"4dir":2,"8dir":3}},112:function(t,e,i){"use strict";var n={};e.a=function(t,e,i){switch(void 0===i?i={}:!0===i&&(i=n),i.left=!1,i.right=!1,i.up=!1,i.down=!1,t=(t+360)%360,e){case 0:t<180?i.down=!0:i.up=!0;break;case 1:t>90&&t<=270?i.left=!0:i.right=!0;break;case 2:t>45&&t<=135?i.down=!0:t>135&&t<=225?i.left=!0:t>225&&t<=315?i.up=!0:i.right=!0;break;case 3:t>22.5&&t<=67.5?(i.down=!0,i.right=!0):t>67.5&&t<=112.5?i.down=!0:t>112.5&&t<=157.5?(i.down=!0,i.left=!0):t>157.5&&t<=202.5?i.left=!0:t>202.5&&t<=247.5?(i.left=!0,i.up=!0):t>247.5&&t<=292.5?i.up=!0:t>292.5&&t<=337.5?(i.up=!0,i.right=!0):i.right=!0}return i}},117:function(t,e,i){"use strict";var n=i(3),r=i(4);function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=Phaser.Utils.Objects.GetValue,a=Phaser.Math.Distance.Between,l=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=Object(n.a)(e),this.setEventEmitter(s(i,"eventEmitter",void 0)),e.setInteractive(s(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}var e,i;return e=t,(i=[{key:"resetFromJSON",value:function(t){return this.pointer=void 0,this.isInTouched=!1,this.holdStartTime=void 0,this.x=void 0,this.y=void 0,this.preX=void 0,this.preY=void 0,this.localX=void 0,this.localY=void 0,this.justMoved=!1,this.setEnable(s(t,"enable",!0)),this.holdThreshold=s(t,"holdThreshold",50),this}},{key:"boot",value:function(){this.gameObject.on("pointerdown",this.onPointIn,this),this.gameObject.on("pointerover",this.onPointIn,this),this.gameObject.on("pointerup",this.onPointOut,this),this.gameObject.on("pointerout",this.onPointOut,this),this.gameObject.on("pointermove",this.onPointerMove,this),this.gameObject.once("destroy",this.destroy,this),this.scene.events.on("preupdate",this.preupdate,this)}},{key:"shutdown",value:function(){this.scene&&this.scene.events.off("preupdate",this.preupdate,this),this.pointer=void 0,this.gameObject=void 0,this.scene=void 0,this.destroyEventEmitter()}},{key:"destroy",value:function(){this.shutdown()}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable===t||(t||(this.isInTouched=!1,this.pointer=void 0),this.enable=t,this.gameObject.input.enabled=t),this}},{key:"onPointIn",value:function(t,e,i){t.isDown&&void 0===this.pointer&&(this.pointer=t,this.localX=e,this.localY=i)}},{key:"onPointOut",value:function(t){this.pointer===t&&(this.pointer=void 0)}},{key:"onPointerMove",value:function(t,e,i){t.isDown&&this.pointer===t&&(this.localX=e,this.localY=i)}},{key:"preupdate",value:function(t,e){var i=this.pointer;this.justMoved=!1,i&&!this.isInTouched?(this.x=i.x,this.y=i.y,this.preX=i.x,this.preY=i.y,this.isInTouched=!0,this.holdStartTime=void 0,this.emit("touchstart",i,this.localX,this.localY)):i&&this.isInTouched?this.x===i.x&&this.y===i.y?void 0===this.holdStartTime?this.holdStartTime=t:t-this.holdStartTime>this.holdThreshold&&(this.preX=this.x,this.preY=this.y):(this.preX=this.x,this.preY=this.y,this.x=i.x,this.y=i.y,this.holdStartTime=void 0,this.justMoved=!0,this.emit("touchmove",i,this.localX,this.localY)):!i&&this.isInTouched&&(this.isInTouched=!1,this.holdStartTime=void 0,this.emit("touchend",i))}},{key:"isDown",get:function(){return this.pointer&&this.pointer.isDown}},{key:"isUp",get:function(){return!this.isDown}},{key:"dx",get:function(){return this.x-this.preX}},{key:"dy",get:function(){return this.y-this.preY}},{key:"dt",get:function(){return this.scene.sys.game.loop.delta}},{key:"speed",get:function(){return this.x===this.preX&&this.y===this.preY?0:a(this.preX,this.preY,this.x,this.y)/(.001*this.dt)}},{key:"speedX",get:function(){return this.dx/(.001*this.dt)}},{key:"speedY",get:function(){return this.dy/(.001*this.dt)}}])&&o(e.prototype,i),t}();Object.assign(l.prototype,r.a);var h=l;e.a=h},118:function(t,e,i){"use strict";var n=i(58),r=Phaser.Geom.Intersects.RectangleToRectangle,o=Phaser.Geom.Rectangle.Overlaps,s=function(t,e){var i=0,n=e.top,r=e.bottom,o=e.left,s=e.right;return i+=t.contains(o,n)?1:0,i+=t.contains(o,r)?1:0,(i+=t.contains(s,n)?1:0)+(t.contains(s,r)?1:0)},a=function(t,e){t.setVisible(!0).clearMask()},l=function(t,e){t.setVisible(!0).setMask(e)},h=function(t,e){t.setVisible(!1).clearMask()};e.a=function(t,e,i){if(e){void 0===i&&(i=t.getAllChildren());for(var u,c,f=t.getBounds(),p=Object(n.a)(e),d=0,y=i.length;d<y;d++)if(!(u=i[d]).hasOwnProperty("isRexContainerLite")&&u!==p){if(u.getBounds)switch(c=u.getBounds(c),s(f,c)){case 4:a(u);break;case 0:r(f,c)||o(f,c)?l(u,e):h(u);break;default:l(u,e)}else l(u,e);t.resetChildVisibleState(u).updateChildVisible(u)}}}},119:function(t,e,i){"use strict";var n;e.a=function(t,e){void 0===e&&(void 0===n&&(n=new Phaser.Geom.Rectangle),e=n);var i=t.game.config;return e.setTo(0,0,i.width,i.height),e}},12:function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.items=[]}var e,i;return e=t,(i=[{key:"destroy",value:function(){this.items.length=0,this.items=void 0}},{key:"pop",value:function(){return this.items.length>0?this.items.pop():null}},{key:"push",value:function(t){return this.items.push(t),this}},{key:"pushMultiple",value:function(t){return this.items.push.apply(this.items,t),t.length=0,this}}])&&n(e.prototype,i),t}();e.a=r},125:function(t,e,i){"use strict";var n=i(108),r=i(14);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t,e,i){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=Phaser.Utils.Objects.GetValue,f=function(t){function e(t,i){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=a(n=function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?a(t):e}(this,h(e).call(this,t,i))),l={states:{IDLE:{enter:function(){s.prevDistance=void 0,s.scaleFactor=1}},BEGIN:{},RECOGNIZED:{enter:function(){s.emit("pinchstart",s)},exit:function(){s.emit("pinchend",s)}}},init:function(){this.state=p},eventEmitter:!1};return n.setRecongizedStateObject(new r.a(l)),n}var i,f;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,n.a),i=e,(f=[{key:"resetFromJSON",value:function(t){return l(h(e.prototype),"resetFromJSON",this).call(this,t),this.setDragThreshold(c(t,"threshold",0)),this}},{key:"onDrag2Start",value:function(){this.scaleFactor=1,this.prevDistance=this.distanceBetween,this.state=0===this.dragThreshold?y:d}},{key:"onDrag2End",value:function(){this.state=p}},{key:"onDrag2",value:function(){switch(this.state){case d:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.prevDistance=t,this.state=y}break;case y:t=this.distanceBetween,this.scaleFactor=t/this.prevDistance,this.emit("pinch",this),this.prevDistance=t}}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"isPinch",get:function(){return this.state===y}}])&&s(i.prototype,f),e}(),p="IDLE",d="BEGIN",y="RECOGNIZED";e.a=f},130:function(t,e,i){"use strict";var n=Phaser.Utils.Objects.GetValue,r={id:["id",void 0],width:["width",void 0],height:["height",void 0],autoPlay:["autoplay",!0],controls:["controls",!1],loop:["loop",!1],poster:["poster",void 0],preload:["preload",void 0],muted:["muted",!1],playsInline:["playsInline",!0],crossOrigin:["crossOrigin","anonymous"]},o={canplay:"canplay",canplaythrough:"canplaythrough",ended:"ended",error:"error",loadstart:"loadstart",playing:"playing",pause:"pause",stalled:"stalled"},s=function(t){var e,i,s=this,a=document.createElement("video");for(var l in r)void 0!==(i=n(t,l,(e=r[l])[1]))&&(a[e[0]]=i);var h=n(t,"eventEmitter",void 0);if(h){var u=function(t){a.addEventListener(o[t],function(){h.emit(t,this)}.bind(s))};for(var c in o)u(c)}return a},a=Phaser.Utils.Objects.IsPlainObject,l=["webm","ogg","mp4","h264","vp9","hls"];function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function c(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t,e,i){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y=Phaser.Utils.Objects.GetValue,g=Phaser.Math.Clamp;e.a=function(t){return function(e){function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),c(this,p(i).apply(this,arguments))}var n,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(i,t),n=i,(r=[{key:"createVideoElement",value:function(t){return this.video||(void 0===t&&(t={}),t.eventEmitter=this,this.video=s(t),this.playbackTimeChangeEventEnable=y(t,"playbackTimeChangeEventEnable",!0)),this.video}},{key:"preDestroy",value:function(){this.scene&&(this.video&&(this.video.pause(),this.video.removeAttribute("src"),this.video.load(),this.video=void 0),f(p(i.prototype),"preDestroy",this)&&f(p(i.prototype),"preDestroy",this).call(this))}},{key:"preUpdate",value:function(t,e){if(this.playbackTimeChangeEventEnable){var n=this.playbackTime;n!==this.prevT&&this.emit("playbacktimechange",this),this.prevT=n}f(p(i.prototype),"preUpdate",this)&&f(p(i.prototype),"preUpdate",this).call(this,t,e)}},{key:"load",value:function(t){return this.video&&function(t,e,i){if(a(e))for(var n,r=0,o=l.length;r<o;r++)if(i[(n=l[r])+"Video"]&&e.hasOwnProperty(n)){e=e[n];break}t.src=e,t.load()}(this.video,t,this.availableVideoTypes),this}},{key:"play",value:function(){return this.video&&this.video.play(),this}},{key:"pause",value:function(){return this.video&&this.video.pause(),this}},{key:"setPlaybackTime",value:function(t){return this.playbackTime=t,this}},{key:"setT",value:function(t){return this.t=t,this}},{key:"setVolume",value:function(t){return this.volume=t,this}},{key:"setMute",value:function(t){return void 0===t&&(t=!0),this.muted=t,this}},{key:"setLoop",value:function(t){return void 0===t&&(t=!0),this.loop=t,this}},{key:"availableVideoTypes",get:function(){return this.scene.sys.game.device.video}},{key:"isPlaying",get:function(){if(this.video){var t=this.video;return!t.paused&&!t.ended&&t.currentTime>0}return!1}},{key:"isPaused",get:function(){return!!this.video&&this.video.paused}},{key:"playbackTime",get:function(){return this.video&&this.video.currentTime||0},set:function(t){if(this.video)try{this.video.currentTime=t}catch(t){}}},{key:"duration",get:function(){return this.video&&this.video.duration||0}},{key:"t",get:function(){if(this.video){var t=this.duration;return 0===t?0:this.playbackTime/t}return 0},set:function(t){this.video&&(this.playbackTime=this.duration*g(t,0,1))}},{key:"hasEnded",get:function(){return!!this.video&&this.video.ended}},{key:"volume",get:function(){return this.video&&this.video.volume||0},set:function(t){this.video&&(this.video.volume=t)}},{key:"muted",get:function(){return this.video&&this.video.muted||!1},set:function(t){this.video&&(this.video.muted=t)}},{key:"loop",get:function(){return!!this.video&&this.video.loop},set:function(t){this.video&&(this.video.loop=t)}},{key:"readyState",get:function(){return this.video?this.video.readyState:void 0}}])&&u(n.prototype,r),i}()}},137:function(t,e,i){"use strict";var n=i(59),r={};e.a=function(t,e,i,o){return i instanceof n.a&&(o=i,i=void 0),void 0===i&&(i=!0),r.mode=i?1:0,r.end=0,r.duration=e,void 0===o?o=new n.a(t,r):o.resetFromJSON(r),o.restart(),o}},14:function(t,e,i){"use strict";var n=i(4),r=i(0),o=i.n(r);function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var i=o()(e,"states",void 0);i&&this.addStates(i);var n=o()(e,"extend",void 0);if(n)for(var r in n)this.hasOwnProperty(r)&&void 0!==this[r]||(this[r]=n[r]);var s=o()(e,"eventEmitter",void 0),a=o()(e,"EventEmitterClass",void 0);this.setEventEmitter(s,a),this._stateLock=!1,this.resetFromJSON(e)}var e,i;return e=t,(i=[{key:"shutdown",value:function(){this.destroyEventEmitter()}},{key:"destroy",value:function(){this.shutdown()}},{key:"resetFromJSON",value:function(t){this.setEnable(o()(t,"enable",!0)),this.start(o()(t,"start",void 0));var e=o()(t,"init",void 0);return e&&e.call(this),this}},{key:"toJSON",value:function(){return{curState:this.state,prevState:this.prevState,enable:this.enable,start:this._start}}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable=t,this}},{key:"start",value:function(t){return this._start=t,this._prevState=void 0,this._state=t,this}},{key:"goto",value:function(t){return null!=t&&(this.state=t),this}},{key:"next",value:function(){var t,e=this["next_"+this.state];return e&&(t="string"==typeof e?e:e.call(this)),this.goto(t),this}},{key:"addState",value:function(t,e){var i=o()(e,"next",void 0);i&&(this["next_"+t]=i);var n=o()(e,"exit",void 0);n&&(this["exit_"+t]=n);var r=o()(e,"enter",void 0);return r&&(this["enter_"+t]=r),this}},{key:"addStates",value:function(t){for(var e in t)this.addState(e,t[e]);return this}},{key:"update",value:function(t,e,i){void 0===i&&(i="update");var n=this[i+"_"+this.state];n&&n.call(this,t,e)}},{key:"preupdate",value:function(t,e){this.update(t,e,"preupdate")}},{key:"postupdate",value:function(t,e){this.update(t,e,"postupdate")}},{key:"state",set:function(t){if(this.enable&&!this._stateLock&&this._state!==t){if(this._prevState=this._state,this._state=t,this._stateLock=!0,this.emit("statechange",this),null!=this._prevState){var e="exit_"+this._prevState,i=this[e];i&&i.call(this),this.emit(e,this)}if(this._stateLock=!1,null!=this._state){var n="enter_"+this._state,r=this[n];r&&r.call(this),this.emit(n,this)}}},get:function(){return this._state}},{key:"prevState",get:function(){return this._prevState}}])&&s(e.prototype,i),t}();Object.assign(a.prototype,n.a);var l=a;e.a=l},140:function(t,e,i){"use strict";function n(t,e,i){i=i||2;var n,a,l,h,u,p,y,g=e&&e.length,v=g?e[0]*i:t.length,m=r(t,0,v,i,!0),b=[];if(!m||m.next===m.prev)return b;if(g&&(m=function(t,e,i,n){var s,a,l,h=[];for(s=0,a=e.length;s<a;s++)(l=r(t,e[s]*n,s<a-1?e[s+1]*n:t.length,n,!1))===l.next&&(l.steiner=!0),h.push(d(l));for(h.sort(c),s=0;s<h.length;s++)f(h[s],i),i=o(i,i.next);return i}(t,e,m,i)),t.length>80*i){n=l=t[0],a=h=t[1];for(var w=i;w<v;w+=i)(u=t[w])<n&&(n=u),(p=t[w+1])<a&&(a=p),u>l&&(l=u),p>h&&(h=p);y=0!==(y=Math.max(l-n,h-a))?1/y:0}return s(m,b,i,n,a,y),b}function r(t,e,i,n,r){var o,s;if(r===P(t,e,i,n)>0)for(o=e;o<i;o+=n)s=x(o,t[o],t[o+1],s);else for(o=i-n;o>=e;o-=n)s=x(o,t[o],t[o+1],s);return s&&m(s,s.next)&&(O(s),s=s.next),s}function o(t,e){if(!t)return t;e||(e=t);var i,n=t;do{if(i=!1,n.steiner||!m(n,n.next)&&0!==v(n.prev,n,n.next))n=n.next;else{if(O(n),(n=e=n.prev)===n.next)break;i=!0}}while(i||n!==e);return e}function s(t,e,i,n,r,c,f){if(t){!f&&c&&function(t,e,i,n){var r=t;do{null===r.z&&(r.z=p(r.x,r.y,e,i,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){var e,i,n,r,o,s,a,l,h=1;do{for(i=t,t=null,o=null,s=0;i;){for(s++,n=i,a=0,e=0;e<h&&(a++,n=n.nextZ);e++);for(l=h;a>0||l>0&&n;)0!==a&&(0===l||!n||i.z<=n.z)?(r=i,i=i.nextZ,a--):(r=n,n=n.nextZ,l--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;i=n}o.nextZ=null,h*=2}while(s>1)}(r)}(t,n,r,c);for(var d,y,g=t;t.prev!==t.next;)if(d=t.prev,y=t.next,c?l(t,n,r,c):a(t))e.push(d.i/i),e.push(t.i/i),e.push(y.i/i),O(t),t=y.next,g=y.next;else if((t=y)===g){f?1===f?s(t=h(t,e,i),e,i,n,r,c,2):2===f&&u(t,e,i,n,r,c):s(o(t),e,i,n,r,c,1);break}}}function a(t){var e=t.prev,i=t,n=t.next;if(v(e,i,n)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(y(e.x,e.y,i.x,i.y,n.x,n.y,r.x,r.y)&&v(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function l(t,e,i,n){var r=t.prev,o=t,s=t.next;if(v(r,o,s)>=0)return!1;for(var a=r.x<o.x?r.x<s.x?r.x:s.x:o.x<s.x?o.x:s.x,l=r.y<o.y?r.y<s.y?r.y:s.y:o.y<s.y?o.y:s.y,h=r.x>o.x?r.x>s.x?r.x:s.x:o.x>s.x?o.x:s.x,u=r.y>o.y?r.y>s.y?r.y:s.y:o.y>s.y?o.y:s.y,c=p(a,l,e,i,n),f=p(h,u,e,i,n),d=t.prevZ,g=t.nextZ;d&&d.z>=c&&g&&g.z<=f;){if(d!==t.prev&&d!==t.next&&y(r.x,r.y,o.x,o.y,s.x,s.y,d.x,d.y)&&v(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,g!==t.prev&&g!==t.next&&y(r.x,r.y,o.x,o.y,s.x,s.y,g.x,g.y)&&v(g.prev,g,g.next)>=0)return!1;g=g.nextZ}for(;d&&d.z>=c;){if(d!==t.prev&&d!==t.next&&y(r.x,r.y,o.x,o.y,s.x,s.y,d.x,d.y)&&v(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;g&&g.z<=f;){if(g!==t.prev&&g!==t.next&&y(r.x,r.y,o.x,o.y,s.x,s.y,g.x,g.y)&&v(g.prev,g,g.next)>=0)return!1;g=g.nextZ}return!0}function h(t,e,i){var n=t;do{var r=n.prev,o=n.next.next;!m(r,o)&&b(r,n,n.next,o)&&w(r,o)&&w(o,r)&&(e.push(r.i/i),e.push(n.i/i),e.push(o.i/i),O(n),O(n.next),n=t=o),n=n.next}while(n!==t);return n}function u(t,e,i,n,r,a){var l=t;do{for(var h=l.next.next;h!==l.prev;){if(l.i!==h.i&&g(l,h)){var u=k(l,h);return l=o(l,l.next),u=o(u,u.next),s(l,e,i,n,r,a),void s(u,e,i,n,r,a)}h=h.next}l=l.next}while(l!==t)}function c(t,e){return t.x-e.x}function f(t,e){if(e=function(t,e){var i,n=e,r=t.x,o=t.y,s=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var a=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=r&&a>s){if(s=a,a===r){if(o===n.y)return n;if(o===n.next.y)return n.next}i=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!i)return null;if(r===s)return i.prev;var l,h=i,u=i.x,c=i.y,f=1/0;for(n=i.next;n!==h;)r>=n.x&&n.x>=u&&r!==n.x&&y(o<c?r:s,o,u,c,o<c?s:r,o,n.x,n.y)&&((l=Math.abs(o-n.y)/(r-n.x))<f||l===f&&n.x>i.x)&&w(n,t)&&(i=n,f=l),n=n.next;return i}(t,e)){var i=k(e,t);o(i,i.next)}}function p(t,e,i,n,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function d(t){var e=t,i=t;do{e.x<i.x&&(i=e),e=e.next}while(e!==t);return i}function y(t,e,i,n,r,o,s,a){return(r-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(n-a)-(i-s)*(e-a)>=0&&(i-s)*(o-a)-(r-s)*(n-a)>=0}function g(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&b(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(t,e)&&w(t,e)&&w(e,t)&&function(t,e){var i=t,n=!1,r=(t.x+e.x)/2,o=(t.y+e.y)/2;do{i.y>o!=i.next.y>o&&i.next.y!==i.y&&r<(i.next.x-i.x)*(o-i.y)/(i.next.y-i.y)+i.x&&(n=!n),i=i.next}while(i!==t);return n}(t,e)}function v(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function m(t,e){return t.x===e.x&&t.y===e.y}function b(t,e,i,n){return!!(m(t,e)&&m(i,n)||m(t,n)&&m(i,e))||v(t,e,i)>0!=v(t,e,n)>0&&v(i,n,t)>0!=v(i,n,e)>0}function w(t,e){return v(t.prev,t,t.next)<0?v(t,e,t.next)>=0&&v(t,t.prev,e)>=0:v(t,e,t.prev)<0||v(t,t.next,e)<0}function k(t,e){var i=new S(t.i,t.x,t.y),n=new S(e.i,e.x,e.y),r=t.next,o=e.prev;return t.next=e,e.prev=t,i.next=r,r.prev=i,n.next=i,i.prev=n,o.next=n,n.prev=o,n}function x(t,e,i,n){var r=new S(t,e,i);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function O(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function S(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function P(t,e,i,n){for(var r=0,o=e,s=i-n;o<i;o+=n)r+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return r}t.exports=n,n.deviation=function(t,e,i,n){var r=e&&e.length,o=r?e[0]*i:t.length,s=Math.abs(P(t,0,o,i));if(r)for(var a=0,l=e.length;a<l;a++){var h=e[a]*i,u=a<l-1?e[a+1]*i:t.length;s-=Math.abs(P(t,h,u,i))}var c=0;for(a=0;a<n.length;a+=3){var f=n[a]*i,p=n[a+1]*i,d=n[a+2]*i;c+=Math.abs((t[f]-t[d])*(t[p+1]-t[f+1])-(t[f]-t[p])*(t[d+1]-t[f+1]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},n.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},n=0,r=0;r<t.length;r++){for(var o=0;o<t[r].length;o++)for(var s=0;s<e;s++)i.vertices.push(t[r][o][s]);r>0&&(n+=t[r-1].length,i.holes.push(n))}return i}},141:function(t,e,i){var n=i(183),r=i(184);t.exports=function(t,e,i,o,s){var a=this.pipeline,l=a._tempMatrix1,h=a._tempMatrix2,u=a._tempMatrix3;t.setPipeline(a),h.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),l.copyFrom(o.matrix),s?(l.multiplyWithOffset(s,-o.scrollX*e.scrollFactorX,-o.scrollY*e.scrollFactorY),h.e=e.x,h.f=e.y):(h.e-=o.scrollX*e.scrollFactorX,h.f-=o.scrollY*e.scrollFactorY),l.multiply(h,u);var c=e._displayOriginX,f=e._displayOriginY,p=o.alpha*e.alpha;e.isFilled&&n(a,u,e,p,c,f),e.isStroked&&r(a,e,p,c,f)}},142:function(t,e,i){var n=i(185),r=i(186),o=Phaser.Renderer.Canvas.SetTransform;t.exports=function(t,e,i,s,a){var l=t.currentContext;if(o(t,l,e,s,a)){var h=e._displayOriginX,u=e._displayOriginY,c=e.pathData,f=c.length-1,p=c[0]-h,d=c[1]-u;l.beginPath(),l.moveTo(p,d),e.closePath||(f-=2);for(var y=2;y<f;y+=2){var g=c[y]-h,v=c[y+1]-u;l.lineTo(g,v)}l.closePath(),e.isFilled&&(n(l,e),l.fill()),e.isStroked&&(r(l,e),l.stroke()),l.restore()}}},149:function(t,e,i){"use strict";var n=i(4),r=i(3);function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=Phaser.Utils.Objects.GetValue,a=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=Object(r.a)(e),this.setEventEmitter(s(i,"eventEmitter",void 0)),e.setInteractive(s(i,"inputConfig",void 0)),this.resetFromJSON(i),this.boot()}var e,i;return e=t,(i=[{key:"resetFromJSON",value:function(t){return this.pointer=void 0,this.lastClickTime=void 0,this.setEnable(s(t,"enable",!0)),this.setMode(s(t,"mode",1)),this.setClickInterval(s(t,"clickInterval",100)),this.setDragThreshold(s(t,"threshold",void 0)),this}},{key:"boot",value:function(){this.gameObject.on("pointerdown",this.onPress,this),this.gameObject.on("pointerup",this.onRelease,this),this.gameObject.on("pointerout",this.onPointOut,this),this.gameObject.on("pointermove",this.onMove,this),this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){this.destroyEventEmitter(),this.pointer=void 0,this.gameObject=void 0,this.scene=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable===t||(t||this.cancel(),this.enable=t,this.gameObject.input.enabled=t),this}},{key:"setMode",value:function(t){return"string"==typeof t&&(t=l[t]),this.mode=t,this}},{key:"setClickInterval",value:function(t){return this.clickInterval=t,this}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"onPress",value:function(t){void 0===this.pointer&&(this.pointer=t,0===this.mode&&this.click(t.downTime,t))}},{key:"onRelease",value:function(t){this.pointer===t&&(1===this.mode&&this.click(t.upTime,t),this.pointer=void 0)}},{key:"onPointOut",value:function(t){this.pointer===t&&this.cancel()}},{key:"onMove",value:function(t){this.pointer===t&&void 0!==this.dragThreshold&&t.getDistance()>=this.dragThreshold&&this.cancel()}},{key:"click",value:function(t,e){if(void 0===t)return this.emit("click",this,this.gameObject,e),this;this.pointer=void 0;var i=this.lastClickTime;return void 0!==i&&t-i<=this.clickInterval||(this.lastClickTime=t,this.emit("click",this,this.gameObject,e)),this}},{key:"cancel",value:function(){return this.pointer=void 0,this}}])&&o(e.prototype,i),t}();Object.assign(a.prototype,n.a);var l={press:0,pointerdown:0,release:1,pointerup:1};e.a=a},15:function(t,e){var i=Math.PI/180;t.exports=function(t){return t*i}},150:function(t,e,i){"use strict";var n=Phaser.GameObjects.Text;e.a=function(t){return t instanceof n}},158:function(t,e,i){"use strict";var n=i(60),r={};e.a=function(t,e,i,o,s,a){switch(s instanceof n.a&&(a=s,s=void 0),void 0===s&&(s=!0),r.mode=s?1:0,i){case"x":r.end={x:0};break;case"y":r.end={y:0};break;default:r.end=0}return r.duration=e,r.ease=void 0===o?"Linear":o,void 0===a?a=new n.a(t,r):a.resetFromJSON(r),a.restart(),a}},159:function(t,e,i){"use strict";var n=i(60),r={};e.a=function(t,e,i,o,s){switch(r.mode=0,i){case"x":r.start={x:0};break;case"y":r.start={y:0};break;default:r.start=0}return r.end=1,r.duration=e,r.ease=void 0===o?"Cubic":o,void 0===s?s=new n.a(t,r):s.resetFromJSON(r),s.restart(),s}},160:function(t,e,i){"use strict";var n=i(3),r=i(4),o=i(14);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=function(t){function e(t,i){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,l(e).call(this,i))).parent=t,n.init(),n}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,o.a),i=e,(n=[{key:"init",value:function(){this.start("IDLE")}},{key:"next_IDLE",value:function(){var t,e=this.parent;return e.dragState.isDown&&(t=0===e.dragThreshold?"DRAG":"DRAGBEGIN"),t}},{key:"update_IDLE",value:function(t,e){this.next()}},{key:"next_DRAGBEGIN",value:function(){var t=this.parent,e=t.dragState;return e.isDown?e.pointer.getDistance()>=t.dragThreshold?"DRAG":"DRAGBEGIN":"IDLE"}},{key:"update_DRAGBEGIN",value:function(t,e){this.next()}},{key:"next_DRAG",value:function(){var t,e=this.parent;return e.dragState.isUp&&(t=e.outOfBounds?"BACK":e.slidingEnable?"SLIDE":"IDLE"),t}},{key:"update_DRAG",value:function(t,e){var i=this.parent;i.dragState.justMoved&&i.dragging(),this.next()}},{key:"next_SLIDE",value:function(){var t,e=this.parent;return e.dragState.isDown?t="DRAG":e.isSliding||(t="IDLE"),t}},{key:"enter_SLIDE",value:function(){this.parent.onSliding()}},{key:"exit_SLIDE",value:function(){this.parent.stop()}},{key:"update_SLIDE",value:function(t,e){this.parent.sliding(t,e),this.next()}},{key:"next_BACK",value:function(){var t,e=this.parent;return e.dragState.isDown?t="DRAG":e.isPullBack||(t="IDLE"),t}},{key:"enter_BACK",value:function(){this.parent.onPullBack()}},{key:"exit_BACK",value:function(){this.parent.stop()}},{key:"update_BACK",value:function(t,e){this.parent.pullBack(t,e),this.next()}}])&&a(i.prototype,n),e}(),c=i(117);function f(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var p=Phaser.Utils.Objects.GetValue,d=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.resetFromJSON(e)}var e,i;return e=t,(i=[{key:"resetFromJSON",value:function(t){return this.setValue(p(t,"value",0)),this.setSpeed(p(t,"speed",0)),this.setAcceleration(p(t,"acceleration",0)),this}},{key:"reset",value:function(){this.setValue(0),this.setSpeed(0),this.setAcceleration(0)}},{key:"setValue",value:function(t){return this.value=t,this}},{key:"setSpeed",value:function(t){return this.speed=t,this}},{key:"setAcceleration",value:function(t){return this.acceleration=t,this}},{key:"updateSpeed",value:function(t){return 0!==this.acceleration&&(this.speed+=this.acceleration*t,this.speed<0&&(this.speed=0)),this}},{key:"getDeltaValue",value:function(t){return this.updateSpeed(t),this.speed<=0?0:this.speed*t}},{key:"update",value:function(t){return this.updateSpeed(t),this.speed>0&&(this.value+=this.getDeltaValue(t)),this}},{key:"isMoving",get:function(){return this.speed>0}}])&&f(e.prototype,i),t}();function y(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var g=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.value,this.dir,this.movement=new d}var e,i;return e=t,(i=[{key:"init",value:function(t,e,i,n,r){return this.value=t,this.end=r,this.dir=void 0!==r?t<r:e,this.movement.setSpeed(i).setAcceleration(-n),this}},{key:"stop",value:function(){this.movement.reset()}},{key:"update",value:function(t){var e=this.movement.getDeltaValue(t);return this.dir||(e=-e),void 0===this.end?this.value+=e:0===e?this.value=this.end:(this.value+=e,this.dir?this.value>this.end&&(this.value=this.end):this.value<this.end&&(this.value=this.end)),this}},{key:"isMoving",get:function(){return this.movement.isMoving}}])&&y(e.prototype,i),t}();function v(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var m=Phaser.Utils.Objects.GetValue,b=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=Object(n.a)(e),this.setEventEmitter(m(i,"eventEmitter",void 0));var r=m(i,"enable",!0),o={enable:r,eventEmitter:!1};this._state=new u(this,o);var s={inputConfig:m(i,"inputConfig",void 0),enable:r,eventEmitter:!1};this.dragState=new c.a(e,s),this._value=void 0,this._slowDown=new g;var a=m(i,"valuechangeCallback",null);if(null!==a){var l=m(i,"valuechangeCallbackScope",void 0);this.on("valuechange",a,l)}null!==(a=m(i,"overmaxCallback",null))&&(l=m(i,"overmaxCallbackScope",void 0),this.on("overmax",a,l)),null!==(a=m(i,"overminCallback",null))&&(l=m(i,"overminCallbackScope",void 0),this.on("overmin",a,l)),this.resetFromJSON(i),this.boot()}var e,i;return e=t,(i=[{key:"resetFromJSON",value:function(t){this.setOrientationMode(m(t,"orientation",0)),this.setDragThreshold(m(t,"threshold",10)),this.setSlidingDeceleration(m(t,"slidingDeceleration",5e3)),this.setBackDeceleration(m(t,"backDeceleration",2e3));var e=m(t,"bounds",void 0);return e?this.setBounds(e):this.setBounds(m(t,"max",0),m(t,"min",0)),this.setValue(m(t,"value",this.maxValue||0)),this.setEnable(m(t,"enable",!0)),this}},{key:"boot",value:function(){this.scene.events.on("update",this._state.update,this._state),this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){this.destroyEventEmitter(),this.scene&&this.scene.events.off("update",this._state.update,this._state),this.gameObject=void 0,this.scene=void 0,this._state.destroy(),this.dragState.destroy()}},{key:"destroy",value:function(){this.shutdown()}},{key:"setOrientationMode",value:function(t){return"string"==typeof t&&(t=w[t]),this.orientationMode=t,this}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"setSlidingDeceleration",value:function(t){return this.slidingDeceleration=t,this}},{key:"setBackDeceleration",value:function(t){return this.backDeceleration=t,this}},{key:"setBounds",value:function(t,e){if(Array.isArray(t)){var i=t;t=i[0],e=i[1]}return t<e?(this.minValue=t,this.maxValue=e):(this.minValue=e,this.maxValue=t),this}},{key:"setValue",value:function(t){this.value=t}},{key:"setEnable",value:function(t){return this._state.setEnable(t),this.dragState.setEnable(t),this}},{key:"overMax",value:function(t){return null!=this.maxValue&&t>this.maxValue}},{key:"overMin",value:function(t){return null!=this.minValue&&t<this.minValue}},{key:"dragging",value:function(){this.value+=this.dragDelta}},{key:"onSliding",value:function(){var t=this.value,e=this.dragSpeed;if(0===e)return this._slowDown.stop(),void this._state.next();var i=this.slidingDeceleration;this._slowDown.init(t,e>0,Math.abs(e),i)}},{key:"sliding",value:function(t,e){e*=.001;var i=this._slowDown.update(e).value;this.overMax(i)?(this.value=this.maxValue,this._slowDown.stop()):this.overMin(i)?(this.value=this.minValue,this._slowDown.stop()):this.value=i}},{key:"onPullBack",value:function(){var t=this.value,e=this.outOfMinBound?this.minValue:this.maxValue,i=Math.abs(e-t),n=this.backDeceleration,r=Math.sqrt(2*n*i);this._slowDown.init(t,void 0,r,n,e)}},{key:"pullBack",value:function(t,e){e*=.001,this.value=this._slowDown.update(e).value,this._slowDown.isMoving||this._state.next()}},{key:"stop",value:function(){this._slowDown.stop()}},{key:"value",get:function(){return this._value},set:function(t){if(t!==this._value){var e=this._value,i=this.overMax(t),n=this.overMin(t);i&&this.emit("overmax",t,e),n&&this.emit("overmin",t,e),this.backEnable||(i&&(t=this.maxValue),n&&(t=this.minValue)),this._value=t,this.emit("valuechange",t,e)}}},{key:"state",get:function(){return this._state.state}},{key:"isDragging",get:function(){return this.dragState.isInTouched}},{key:"outOfMaxBound",get:function(){return this.overMax(this.value)}},{key:"outOfMinBound",get:function(){return this.overMin(this.value)}},{key:"outOfBounds",get:function(){return this.outOfMinBound||this.outOfMaxBound}},{key:"backEnable",get:function(){return"number"==typeof this.backDeceleration}},{key:"isPullBack",get:function(){return this._slowDown.isMoving}},{key:"slidingEnable",get:function(){return"number"==typeof this.slidingDeceleration}},{key:"isSliding",get:function(){return this._slowDown.isMoving}},{key:"dragDelta",get:function(){return 0===this.orientationMode?this.dragState.dy:1===this.orientationMode?this.dragState.dx:0}},{key:"dragSpeed",get:function(){return 0===this.orientationMode?this.dragState.speedY:1===this.orientationMode?this.dragState.speedX:0}}])&&v(e.prototype,i),t}();Object.assign(b.prototype,r.a);var w={y:0,v:0,vertical:0,x:1,h:1,horizontal:1},k=b;e.a=k},162:function(t,e,i){"use strict";var n=i(3),r=i(150);function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=Phaser.Utils.Objects.GetValue,a=Phaser.Math.Clamp,l=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=Object(n.a)(e),this.setTextObjectType(),this.lines=void 0,this.resetFromJSON(i),this.boot()}var e,i;return e=t,(i=[{key:"resetFromJSON",value:function(t){return this.setText(s(t,"text","")),this.setStartIdx(s(t,"start",0)),this.setPageIdx(s(t,"page",-1)),this}},{key:"toJSON",value:function(){return{text:this.text,start:this.startLineIdx,page:this.pageIndex,pageCount:this.pageCount}}},{key:"boot",value:function(){this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){return void 0===this.lines||(0===this.textObjectType?this.lines.length=0:this.lines.destroy()),this.gameObject=void 0,this.scene=void 0,this}},{key:"destroy",value:function(){this.shutdown()}},{key:"setTextObjectType",value:function(){return this.textObjectType=Object(r.a)(this.gameObject)?0:1,this}},{key:"setText",value:function(t,e){return void 0===e&&(e=!0),this.text=h(t),0===this.textObjectType?this.lines=this.gameObject.getWrappedText(this.text):this.lines=this.gameObject.getPenManager(this.text,this.lines),this.pageCount=Math.ceil(this.totalLinesCount/this.pageLinesCount),e&&this.resetPageIdx(),this}},{key:"appendText",value:function(t){return this.setText(this.text.concat(h(t))),this}},{key:"getPage",value:function(t){return void 0===t&&(t=this.pageIndex),this.setPageIdx(t).getLines()}},{key:"getNextPage",value:function(){return this.getPage(this.pageIndex+1)}},{key:"getPreviousPage",value:function(){return this.getPage(this.pageIndex-1)}},{key:"showPage",value:function(t){return this.displayText(this.getPage()),this}},{key:"showNextPage",value:function(){return this.displayText(this.getNextPage()),this}},{key:"showPreviousPage",value:function(){return this.displayText(this.getPreviousPage()),this}},{key:"show",value:function(){return this.displayText(this.getLines()),this}},{key:"showNextLine",value:function(){return this.displayText(this.setStartIdx(this.startLineIdx+1).getLines()),this}},{key:"showPreviousLine",value:function(){return this.displayText(this.setStartIdx(this.startLineIdx-1).getLines()),this}},{key:"setStartIdx",value:function(t){return t=a(t,0,this.totalLinesCount-1),this.startLineIdx=t,this}},{key:"resetPageIdx",value:function(){this.pageIndex=-1}},{key:"setPageIdx",value:function(t){return t=a(t,0,this.pageCount-1),this.pageIndex=t,this.setStartIdx(this.pageIndex*this.pageLinesCount),this}},{key:"getLines",value:function(t){void 0===t&&(t=this.startLineIdx);var e,i=t+this.pageLinesCount;if(0===this.textObjectType)e=this.lines.slice(t,i).join("\n");else{var n=this.lines.getLineStartIndex(t),r=this.lines.getLineEndIndex(i-1);e=this.lines.getSliceTagText(n,r,!0)}return e}},{key:"displayText",value:function(t){this.gameObject.setText(t)}},{key:"isFirstPage",get:function(){return this.pageIndex<=0}},{key:"isLastPage",get:function(){return this.pageIndex>=this.pageCount-1}},{key:"totalLinesCount",get:function(){return 0===this.textObjectType?this.lines.length:this.lines.linesCount}},{key:"pageLinesCount",get:function(){var t=this.gameObject.style.maxLines;return t>0?t:this.totalLinesCount}}])&&o(e.prototype,i),t}(),h=function(t){return Array.isArray(t)?t=t.join("\n"):"number"==typeof t&&(t=t.toString()),t},u=l;e.a=u},163:function(t,e,i){"use strict";var n=i(3);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t,e,i){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=Phaser.Events.EventEmitter,c=Phaser.Utils.Objects.GetFastValue,f=Phaser.Utils.Objects.GetValue,p=function(t){function e(t,i){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=s(this,l(e).call(this))).gameObject=t,r.scene=Object(n.a)(t),r.timer=null,r.resetFromJSON(i),r.boot(),r}var i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,u),i=e,(r=[{key:"resetFromJSON",value:function(t){this.setTypeMode(f(t,"typeMode",0)),this.setTypeSpeed(f(t,"speed",333)),this.setTextCallback=c(t,"setTextCallback",null),this.setTextCallbackScope=c(t,"setTextCallbackScope",null),this.typingIdx=c(t,"typingIdx",0),this.text=d(c(t,"text","")),this.textLen=c(t,"textLen",0),this.insertIdx=c(t,"insertIdx",null);var e=c(t,"elapsed",null);return null!==e&&this.start(void 0,void 0,this.typingIdx,e),this}},{key:"toJSON",value:function(){var t,e=this.getTimer();return t=e?e.elapsed:null,{typeMode:this.typeMode,speed:this.speed,setTextCallback:this.setTextCallback,setTextCallbackScope:this.setTextCallbackScope,typingIdx:this.typingIdx,text:this.text,textLen:this.textLen,insertIdx:this.insertIdx,elapsed:t}}},{key:"boot",value:function(){return this.gameObject.once&&this.gameObject.once("destroy",this.destroy,this),this}},{key:"shutdown",value:function(){return a(l(e.prototype),"shutdown",this).call(this),this.freeTimer(),this.gameObject=void 0,this.scene=void 0,this}},{key:"destroy",value:function(){return this.shutdown(),this}},{key:"setTypeMode",value:function(t){return"string"==typeof t&&(t=y[t]),this.typeMode=t,this}},{key:"setTypeSpeed",value:function(t){return this.speed=t,this}},{key:"start",value:function(t,e,i,n){return void 0!==t&&this.setTypingContent(t),void 0!==e&&(this.speed=e),void 0===i&&(i=0),this.typingIdx=i+1,0===this.speed?this.stop(!0):this.startTimer(n),this}},{key:"appendText",value:function(t){var e=this.text.concat(d(t));return this.isTyping?this.setTypingContent(e):this.start(e,void 0,this.textLen),this}},{key:"stop",value:function(t){return this.getTimer()&&this.freeTimer(),t&&(this.typingIdx=this.textLen,this.setText(this.text),this.emit("type"),this.emit("complete",this,this.gameObject)),this}},{key:"pause",value:function(){var t=this.getTimer();return t&&(t.paused=!0),this}},{key:"resume",value:function(){var t=this.getTimer();return t&&(t.paused=!1),this}},{key:"setTypingContent",value:function(t){return this.text=d(t),this.textLen=this.getTextLength(this.text),this}},{key:"onTyping",value:function(){var t=this.getTypingString(this.text,this.typingIdx,this.textLen,this.typeMode);this.setText(t),this.emit("type"),this.isLastChar?(this.freeTimer(),this.emit("complete",this,this.gameObject)):(this.timer.delay=this.speed,this.typingIdx++)}},{key:"getTypingString",value:function(t,e,i,n){var r;if(0===n){var o=0,s=e;this.insertIdx=s,r=this.getSubString(t,o,s)}else if(1===n)o=(s=i)-e,this.insertIdx=0,r=this.getSubString(t,o,s);else if(2===n){var a=i/2;s=(o=Math.floor(a-e/2))+e,this.insertIdx=e%2?e:0,r=this.getSubString(t,o,s)}else if(3===n){var l,h=Math.floor(e/2);h>0?(o=(s=i)-h,l=this.getSubString(t,o,s)):l="";var u,c=e-h;c>0?(s=(o=0)+c,this.insertIdx=s,u=this.getSubString(t,o,s)):(u="",this.insertIdx=0),r=u+l}return r}},{key:"startTimer",value:function(t){var e;return this.timer&&this.freeTimer(),void 0===t?e=0:(this.speed,e=t),this.timer=this.scene.time.addEvent({delay:0,startAt:e,loop:!0,callback:this.onTyping,callbackScope:this}),this}},{key:"getTimer",value:function(){return this.timer}},{key:"freeTimer",value:function(){return this.timer&&(this.timer.remove(),this.timer=null),this}},{key:"setText",value:function(t){this.setTextCallback&&(t=this.setTextCallbackScope?this.setTextCallback.call(this.setTextCallbackScope,t,this.isLastChar,this.insertIdx):this.setTextCallback(t,this.isLastChar,this.insertIdx)),this.gameObject.setText(t)}},{key:"getTextLength",value:function(t){var e=this.gameObject;return e.getPlainText?e.getPlainText(t).length:t.length}},{key:"getSubString",value:function(t,e,i){var n=this.gameObject;return n.getSubString?n.getSubString(t,e,i):t.slice(e,i)}},{key:"isTyping",get:function(){return null!==this.getTimer()}},{key:"isLastChar",get:function(){return this.typingIdx===this.textLen}}])&&o(i.prototype,r),e}(),d=function(t){return Array.isArray(t)?t=t.join("\n"):"number"==typeof t&&(t=t.toString()),t},y={"left-to-right":0,"right-to-left":1,"middle-to-sides":2,"sides-to-middle":3},g=p;e.a=g},176:function(t,e,i){"use strict";var n=i(10),r=i(3),o=i(0),s=i.n(o),a=i(35),l=i(66),h=i(56),u=i(18);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function p(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t,e,i){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var v=function(t){function e(t,i){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=p(this,y(e).call(this,t,i))).parent=t,n.scene=Object(r.a)(t),n.resetFromJSON(i),n.boot(),n}var i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(e,n.a),i=e,(o=[{key:"resetFromJSON",value:function(t){return this.isRunning=s()(t,"isRunning",!1),this.state=s()(t,"state",0),this.commands=s()(t,"commands",[]),this.scope=s()(t,"scope",void 0),this.setTimeUnit(s()(t,"timeUnit",0)),this.setDtMode(s()(t,"dtMode",0)),this.setTimeScale(s()(t,"timeScale",1)),this.index=s()(t,"index",0),this.nextDt=s()(t,"nextDt",0),this.seek(s()(t,"now",0)),this.timeScale=s()(t,"timeScale",1),this}},{key:"toJSON",value:function(){return{isRunning:this.isRunning,state:this.state,commands:this.commands,scope:this.scope,timeUnit:this.timeUnit,dtMode:this.dtMode,index:this.index,nextDt:this.nextDt,now:this.now,timeScale:this.timeScale,tickingMode:this.tickingMode}}},{key:"boot",value:function(){d(y(e.prototype),"boot",this).call(this);var t=Object(h.a)(this.parent);t&&t.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){d(y(e.prototype),"shutdown",this).call(this),this.parent=void 0,this.scene=void 0,this.commands=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"startTicking",value:function(){d(y(e.prototype),"startTicking",this).call(this),this.scene.events.on("update",this.update,this)}},{key:"stopTicking",value:function(){d(y(e.prototype),"stopTicking",this).call(this),this.scene&&this.scene.events.off("update",this.update,this)}},{key:"load",value:function(t,e,i){this.stop();var n=s()(i,"timeUnit",void 0);void 0!==n&&this.setTimeUnit(n);var r=s()(i,"dtMode",void 0);return void 0!==r&&this.setDtMode(r),t=t.filter((function(t){var e=t[0];return!isNaN(e)})).map((function(t){return"string"==typeof t[0]&&(t[0]=parseFloat(t[0])),t})),0===this.dtMode&&t.sort((function(t,e){var i=t[0],n=e[0];return i>n?1:i<n?-1:0})),this.commands=t,this.scope=e,this}},{key:"start",value:function(t){return void 0===t&&(t=0),this.stop(),this.index=0,this.isRunning=!0,this.state=1,this.nextDt=this.getNextDt(0),this.seek(t),this.update(),this}},{key:"pause",value:function(){return this.isRunning=!1,this}},{key:"resume",value:function(){return this.isRunning=!0,this}},{key:"stop",value:function(){return this.isRunning=!1,this.state=0,this}},{key:"seek",value:function(t){return this.now=t,this}},{key:"setTimeScale",value:function(t){this.timeScale=t}},{key:"update",value:function(t,e){if(!this.isRunning)return this;if(void 0!==t){if(0===this.timeScale||0===e)return this;this.now+=e*this.timeScale}if(this.nextDt>this.now)return this;for(;;){var i=this.commands[this.index],n=i[1];if(Object(u.a)(n)||(n=Object(a.a)(m,i,1)),Object(l.a)(n,this.scope),this.emit("runcommand",n,this.scope),this.index===this.commands.length-1)return this.complete(),this;if(this.index++,this.nextDt=this.getNextDt(this.nextDt),this.nextDt>this.now)return this}}},{key:"complete",value:function(){d(y(e.prototype),"complete",this).call(this),this.state=2}},{key:"getNextDt",value:function(t){var e=this.commands[this.index][0];return 1===this.timeUnit&&(e*=1e3),1===this.dtMode&&(e+=t),e}},{key:"setDtMode",value:function(t){return"string"==typeof t&&(t=w[t]),this.dtMode=t,this}},{key:"setTimeUnit",value:function(t){return"string"==typeof t&&(t=b[t]),this.timeUnit=t,this}},{key:"isPlaying",get:function(){return this.isRunning}},{key:"completed",get:function(){return 2===this.state}}])&&f(i.prototype,o),e}(),m=[],b={ms:0,s:1,sec:1},w={abs:0,absolute:0,inc:1,increment:1};e.a=v},18:function(t,e,i){"use strict";e.a=function(t){return"[object Array]"===Object.prototype.toString.call(t)}},183:function(t,e){var i=Phaser.Renderer.WebGL.Utils;t.exports=function(t,e,n,r,o,s){for(var a=i.getTintAppendFloatAlphaAndSwap(n.fillColor,n.fillAlpha*r),l=n.pathData,h=n.pathIndexes,u=0;u<h.length;u+=3){var c=2*h[u],f=2*h[u+1],p=2*h[u+2],d=l[c+0]-o,y=l[c+1]-s,g=l[f+0]-o,v=l[f+1]-s,m=l[p+0]-o,b=l[p+1]-s,w=e.getX(d,y),k=e.getY(d,y),x=e.getX(g,v),O=e.getY(g,v),S=e.getX(m,b),P=e.getY(m,b);t.setTexture2D(),t.batchTri(w,k,x,O,S,P,0,0,1,1,a,a,a,t.tintEffect)}}},184:function(t,e){var i=Phaser.Renderer.WebGL.Utils;t.exports=function(t,e,n,r,o){var s=t.strokeTint,a=i.getTintAppendFloatAlphaAndSwap(e.strokeColor,e.strokeAlpha*n);s.TL=a,s.TR=a,s.BL=a,s.BR=a;var l=e.pathData,h=l.length-1,u=e.lineWidth,c=u/2,f=l[0]-r,p=l[1]-o;e.closePath||(h-=2);for(var d=2;d<h;d+=2){var y=l[d]-r,g=l[d+1]-o;t.setTexture2D(),t.batchLine(f,p,y,g,c,c,u,d-2,!!e.closePath&&d===h-1),f=y,p=g}}},185:function(t,e){t.exports=function(t,e,i,n){var r=i||e.fillColor,o=n||e.fillAlpha,s=(16711680&r)>>>16,a=(65280&r)>>>8,l=255&r;t.fillStyle="rgba("+s+","+a+","+l+","+o+")"}},186:function(t,e){t.exports=function(t,e,i,n){var r=i||e.strokeColor,o=n||e.strokeAlpha,s=(16711680&r)>>>16,a=(65280&r)>>>8,l=255&r;t.strokeStyle="rgba("+s+","+a+","+l+","+o+")",t.lineWidth=e.lineWidth}},189:function(t,e,i){"use strict";var n=i(3),r=i(63),o=Phaser.Utils.Objects.GetValue,s=function(t,e){void 0===e&&(e={});var i=t.scene,n=t.style,s=o(e,"backgroundColor",n.backgroundColor);null===s&&(s="transparent"),e.text=o(e,"text",t.text),e.fontFamily=o(e,"fontFamily",n.fontFamily),e.fontSize=o(e,"fontSize",n.fontSize),e.color=o(e,"color",n.color),e.backgroundColor=s;var a=new r.a(i,t.x,t.y,o(e,"width",t.width),o(e,"height",t.height),e);return a.setOrigin(t.originX,t.originY),i.add.existing(a),a},a=i(75);function l(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var h=Phaser.Utils.Objects.GetValue,u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=Object(n.a)(e),this.inputText=void 0,this.onClose=void 0,this.delayCall=void 0,this.boot()}var e,i;return e=t,(i=[{key:"boot",value:function(){return this.gameObject.once("destroy",this.destroy,this),this}},{key:"shutdown",value:function(){return this.close(),this.gameObject=void 0,this.scene=void 0,c===this&&(c=void 0),this}},{key:"destroy",value:function(){return this.shutdown(),this}},{key:"open",value:function(t,e){void 0!==c&&c.close(),c=this,Object(a.a)(t)&&(e=t,t=void 0),void 0===e&&(e=h(t,"onClose",void 0));var i=h(t,"onTextChanged",void 0);return this.inputText=s(this.gameObject,t).on("textchange",(function(t){var e=t.text;i?i(this.gameObject,e):this.gameObject.text=e}),this).setFocus(),this.gameObject.setVisible(!1),this.onClose=e,this.scene.input.keyboard.once("keydown-ENTER",this.close,this),this.delayCall=this.scene.time.delayedCall(0,(function(){this.scene.input.once("pointerdown",this.close,this)}),[],this),this}},{key:"close",value:function(){return c=void 0,this.inputText?(this.gameObject.setVisible(!0),this.inputText.destroy(),this.inputText=void 0,this.delayCall&&(this.delayCall.remove(),this.delayCall=void 0),this.scene.input.keyboard.off("keydown-ENTER",this.close,this),this.scene.input.off("pointerdown",this.close,this),this.onClose&&this.onClose(this.gameObject),this):this}},{key:"isOpened",get:function(){return void 0!==this.inputText}},{key:"text",get:function(){return this.isOpened?this.inputText.text:this.gameObject.text}}])&&l(e.prototype,i),t}(),c=void 0;e.a=u},191:function(t,e,i){"use strict";var n=i(36),r=i(14);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t,e,i){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=Phaser.Utils.Objects.GetValue,f=function(t){function e(t,i){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=a(n=function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?a(t):e}(this,h(e).call(this,t,i))),l={states:{IDLE:{},BEGIN:{enter:function(){var t=s.pointer;s.startX=t.x,s.startY=t.y,s.startWorldX=t.worldX,s.startWorldY=t.worldY}},RECOGNIZED:{enter:function(){s.emit("panstart",s,s.gameObject,s.lastPointer)},exit:function(){var t=s.lastPointer;s.endX=t.x,s.endY=t.y,s.endWorldX=t.worldX,s.endWorldY=t.worldY,s.emit("panend",s,s.gameObject,s.lastPointer)}}},init:function(){this.state=p},eventEmitter:!1};return n.setRecongizedStateObject(new r.a(l)),n}var i,f;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,n.a),i=e,(f=[{key:"resetFromJSON",value:function(t){return l(h(e.prototype),"resetFromJSON",this).call(this,t),this.setDragThreshold(c(t,"threshold",10)),this}},{key:"onDragStart",value:function(){this.state=0===this.dragThreshold?y:d}},{key:"onDragEnd",value:function(){this.state=p}},{key:"onDrag",value:function(){switch(this.state){case d:this.pointer.getDistance()>=this.dragThreshold&&(this.state=y);break;case y:var t=this.pointer.position,e=this.pointer.prevPosition;this.dx=t.x-e.x,this.dy=t.y-e.y;var i=this.pointer;self.x=i.x,self.y=i.y,self.worldX=i.worldX,self.worldY=i.worldY,this.emit("pan",this)}}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"isPan",get:function(){return this.state===y}}])&&s(i.prototype,f),e}(),p="IDLE",d="BEGIN",y="RECOGNIZED";e.a=f},192:function(t,e,i){"use strict";var n=i(108),r=i(14),o=Phaser.Math.RotateAround,s=function(t,e,i,n){return o(t,e,i,n),t.rotation+=n,t},a={};function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,e,i){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d=Phaser.Utils.Objects.GetValue,g=Phaser.Math.Angle.WrapDegrees,v=Phaser.Math.Angle.ShortestBetween,m=Phaser.Math.RadToDeg,b=Phaser.Math.DegToRad,w=function(t){function e(t,i){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=u(n=function(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?u(t):e}(this,f(e).call(this,t,i))),s={states:{IDLE:{enter:function(){o.prevAngle=void 0,o.angle=0}},BEGIN:{},RECOGNIZED:{enter:function(){o.emit("rotatestart",o)},exit:function(){o.emit("rotateend",o)}}},init:function(){this.state=O},eventEmitter:!1};return n.setRecongizedStateObject(new r.a(s)),n}var i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(e,n.a),i=e,(o=[{key:"resetFromJSON",value:function(t){return c(f(e.prototype),"resetFromJSON",this).call(this,t),this.setDragThreshold(d(t,"threshold",0)),this}},{key:"onDrag2Start",value:function(){this.prevAngle=g(m(this.angleBetween)),this.state=0===this.rotationThreshold?P:S}},{key:"onDrag2End",value:function(){this.state=O}},{key:"onDrag2",value:function(){switch(this.state){case S:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=g(m(this.angleBetween));this.angle=v(this.prevAngle,t),this.prevAngle=t,this.state=P}break;case P:t=g(m(this.angleBetween)),this.angle=v(this.prevAngle,t),this.prevAngle=t,this.emit("rotate",this)}}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"isRotation",get:function(){return this.state===P}},{key:"rotation",get:function(){return b(this.angle)}}])&&h(i.prototype,o),e}(),k={spinObject:function(t,e){if(!this.isRotation)return this;void 0===e&&(e=this.pointers[0].camera);var i=this.movementCenterX,n=this.movementCenterY;e.getWorldPoint(this.centerX,this.centerY,a);var r=a.x,o=a.y,l=this.rotation;if(Array.isArray(t))for(var h=t,u=0,c=h.length;u<c;u++)(t=h[u]).x+=i,t.y+=n,s(t,r,o,l);else t.x+=i,t.y+=n,s(t,x,y,l);return this}};Object.assign(w.prototype,k);var O="IDLE",S="BEGIN",P="RECOGNIZED";e.a=w},195:function(t,e,i){"use strict";var n=i(36),r=i(14),o=Phaser.Math.Distance.Between,s=Phaser.Math.Angle.Between,a={getDt:function(){return this.scene.sys.game.loop.delta},getVelocity:function(){var t=this.pointer.position,e=this.pointer.prevPosition;return o(e.x,e.y,t.x,t.y)/(.001*this.getDt())},getVelocityX:function(){var t=this.pointer.position,e=this.pointer.prevPosition;return Math.abs(t.x-e.x)/(.001*this.getDt())},getVelocityY:function(){var t=this.pointer.position,e=this.pointer.prevPosition;return Math.abs(t.y-e.y)/(.001*this.getDt())},getVelocityAngle:function(){var t=this.pointer.position,e=this.pointer.prevPosition;return s(e.x,e.y,t.x,t.y)}},l=i(111),h=i(112);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t,e,i){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var g=Phaser.Utils.Objects.GetValue,v=Phaser.Math.RadToDeg,m=function(t){function e(t,i){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=f(n=function(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?f(t):e}(this,d(e).call(this,t,i))),s={states:{IDLE:{},BEGIN:{enter:function(){o.validDrag=!1}},RECOGNIZED:{enter:function(){o.start(),o.updateDirectionStates(),o.emit("swipe",o,o.gameObject,o.lastPointer)},exit:function(){o.stop(),o.clearDirectionStates()}}},init:function(){this.state=b},eventEmitter:!1};return n.setRecongizedStateObject(new r.a(s)),n.clearDirectionStates(),n}var i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(e,n.a),i=e,(o=[{key:"resetFromJSON",value:function(t){return p(d(e.prototype),"resetFromJSON",this).call(this,t),this.setDragThreshold(g(t,"threshold",10)),this.setMinDragVelocity(g(t,"velocityThreshold",1e3)),this.setDirectionMode(g(t,"dir","8dir")),this}},{key:"onDragStart",value:function(){this.state=w}},{key:"onDragEnd",value:function(){this.state=b}},{key:"onDrag",value:function(){this.state===w&&(this.vaildDrag||(this.vaildDrag=0===this.dragThreshold||this.pointer.getDistance()>=this.dragThreshold),this.vaildDrag&&this.dragVelocity>this.minDragVelocity&&(this.state=k))}},{key:"postUpdate",value:function(t,e){this.state===k&&(this.state=b)}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"setMinDragVelocity",value:function(t){return this.minDragVelocity=t,this}},{key:"setDirectionMode",value:function(t){return"string"==typeof t&&(t=l.a[t]),this.dirMode=t,this}},{key:"updateDirectionStates",value:function(){var t=v(this.getVelocityAngle());return Object(h.a)(t,this.dirMode,this),this}},{key:"clearDirectionStates",value:function(){return this.left=!1,this.right=!1,this.up=!1,this.down=!1,this}},{key:"isSwiped",get:function(){return this.state===k}},{key:"dragVelocity",get:function(){var t;switch(this.dirMode){case 0:t=this.getVelocityX();break;case 1:t=this.getVelocityY();break;default:t=this.getVelocity()}return t}}])&&c(i.prototype,o),e}();Object.assign(m.prototype,a);var b="IDLE",w="BEGIN",k="RECOGNIZED";e.a=m},2:function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=function(t){return null==t||""===t||0===t.length};e.a=function(t,e,i){if("object"===n(t))if(r(e)){if(null==i)return;"object"===n(i)&&(t=i)}else{"string"==typeof e&&(e=e.split("."));var o=e.pop();(function(t,e,i){void 0===i&&(i={});var o=t;if(r(e));else{var s;"string"==typeof e&&(e=e.split("."));for(var a=0,l=e.length;a<l;a++){var h;null!=o[s=e[a]]&&"object"===n(o[s])||(h=a===l-1?i:{},o[s]=h),o=o[s]}}return o}(t,e))[o]=i}}},25:function(t,e,i){"use strict";var n={add:function(t){return Array.isArray(t)?this.addMultiple(t):this._add(t),this},addMultiple:function(t){return t.forEach(this._add,this),this},_add:function(t){return this.children.add(t),this.resetChildState(t).updateChildVisible(t).updateChildActive(t).updateChildScrollFactor(t).updateChildMask(t),this}},r=Phaser.Math.RotateAround,o={worldToLocal:function(t){return t.x-=this.x,t.y-=this.y,r(t,0,0,-this.rotation),t.x/=this.scaleX,t.y/=this.scaleY,t.x*=this.flipX?-1:1,t.y*=this.flipY?-1:1,t},localToWorld:function(t){return t.x*=this.flipX?-1:1,t.y*=this.flipY?-1:1,t.x*=this.scaleX,t.y*=this.scaleY,r(t,0,0,this.rotation),t.x+=this.x,t.y+=this.y,t}},s=function(t,e){return t===e?1:t/e},a={updateChildPosition:function(t){t.isRexContainerLite&&(t.syncChildrenEnable=!1);var e=this.getLocalState(t);return t.x=e.x,t.y=e.y,this.localToWorld(t),t.scaleX=e.scaleX*this.scaleX,t.scaleY=e.scaleY*this.scaleY,void 0!==t.flipX&&(t.flipX=this.flipX?!e.flipX:e.flipX,t.flipY=this.flipY?!e.flipY:e.flipY),t.rotation=e.rotation+this.rotation,t.isRexContainerLite&&(t.syncChildrenEnable=!0,t.syncPosition()),this},syncPosition:function(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildPosition,this),this},resetChildPositionState:function(t){var e=this.getLocalState(t);return e.x=t.x,e.y=t.y,this.worldToLocal(e),e.scaleX=s(t.scaleX,this.scaleX),e.scaleY=s(t.scaleY,this.scaleY),void 0!==t.flipX&&(e.flipX=t.flipX,e.flipY=t.flipY),e.rotation=t.rotation-this.rotation,this},setChildPosition:function(t,e,i){return t.x=e,t.y=i,this.resetChildPositionState(t),this},setChildLocalPosition:function(t,e,i){var n=this.getLocalState(t);return n.x=e,n.y=i,this.updateChildPosition(t),this}},l={updateChildAlpha:function(t){return t.alpha=this.alpha*this.getLocalState(t).alpha,this},syncAlpha:function(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildAlpha,this),this},resetChildAlphaState:function(t){return this.getLocalState(t).alpha=s(t.alpha,this.alpha),this},setChildAlpha:function(t,e){return t.alpha=e,this.resetChildAlphaState(t),this._add},setChildLocalAlpha:function(t,e){return this.getLocalState(t).alpha=e,this.updateChildAlpha(t),this}};function h(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var u=Phaser.Utils.Array,c={getChildren:function(){return this.children.getChildren()},getAllChildren:function(t){void 0===t&&(t=[]);for(var e,i=this.children.getChildren(),n=0,r=i.length;n<r;n++){var o;e=i[n],t.push(e),e.hasOwnProperty("isRexContainerLite")&&(o=t).push.apply(o,h(e.getAllChildren()))}return t},contains:function(t){if(this.children.contains(t))return!0;for(var e,i=this.children.getChildren(),n=0,r=i.length;n<r;n++)if((e=i[n]).isRexContainerLite&&e.contains(t))return!0;return!1},getByName:function(t){return u.GetFirst(this.list,"name",t)},getRandom:function(t,e){return u.GetRandom(this.list,t,e)},getFirst:function(t,e,i,n){return u.GetFirstElement(this.list,t,e,i,n)},getAll:function(t,e,i,n){return u.GetAll(this.list,t,e,i,n)},count:function(t,e,i,n){return u.CountAllMatching(this.list,t,e,i,n)},swap:function(t,e){return u.Swap(this.list,t,e),this},moveTo:function(t,e){return u.MoveTo(this.list,t,e),this},setAll:function(t,e,i,n){return u.SetAll(this.list,t,e,i,n),this}};function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function d(t,e,i,n){return(d="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(t,e,i,n){var r,o=v(t,e);if(o){if((r=Object.getOwnPropertyDescriptor(o,e)).set)return r.set.call(n,i),!0;if(!r.writable)return!1}if(r=Object.getOwnPropertyDescriptor(n,e)){if(!r.writable)return!1;r.value=i,Object.defineProperty(n,e,r)}else!function(t,e,i){e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i}(n,e,i);return!0})(t,e,i,n)}function y(t,e,i,n,r){if(!d(t,e,i,n||t)&&r)throw new Error("failed to set property");return i}function g(t,e,i){return(g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=v(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function v(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=m(t)););return t}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var w=Phaser.GameObjects.Zone,k=Phaser.GameObjects.Components,x=function(t){function e(t,i,n,r,o,s){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Array.isArray(r)&&(s=r,r=void 0),void 0===r&&(r=1),void 0===o&&(o=1),(a=function(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,m(e).call(this,t,i,n,r,o))).children=t.add.group(),a.type="rexContainerLite",a.isRexContainerLite=!0,a.syncChildrenEnable=!0,a._flipX=!1,a._flipY=!1,a._alpha=1,a._active=!0,a._mask=null,a._scrollFactorX=1,a._scrollFactorY=1,s&&a.add(s),a}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(e,w),i=e,(n=[{key:"destroy",value:function(t){this.scene&&(this.children.destroy(!t),this.children=void 0,g(m(e.prototype),"destroy",this).call(this,t))}},{key:"resize",value:function(t,e){return this.setSize(t,e),this}},{key:"x",get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.syncPosition())}},{key:"y",get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.syncPosition())}},{key:"rotation",get:function(){return g(m(e.prototype),"rotation",this)},set:function(t){this.rotation!==t&&(y(m(e.prototype),"rotation",t,this,!0),this.syncPosition())}},{key:"scaleX",get:function(){return g(m(e.prototype),"scaleX",this)},set:function(t){this.scaleX!==t&&(y(m(e.prototype),"scaleX",t,this,!0),this.syncPosition())}},{key:"scaleY",get:function(){return g(m(e.prototype),"scaleY",this)},set:function(t){this.scaleY!==t&&(y(m(e.prototype),"scaleY",t,this,!0),this.syncPosition())}},{key:"flipX",get:function(){return this._flipX},set:function(t){this._flipX!==t&&(this._flipX=t,this.syncPosition())}},{key:"flipY",get:function(){return this._flipY},set:function(t){this._flipY!==t&&(this._flipY=t,this.syncPosition())}},{key:"visible",get:function(){return g(m(e.prototype),"visible",this)},set:function(t){this.visible!==t&&(y(m(e.prototype),"visible",t,this,!0),this.syncVisible())}},{key:"alpha",get:function(){return this._alpha},set:function(t){this._alpha!==t&&(this._alpha=t,this.syncAlpha())}},{key:"active",get:function(){return this._active},set:function(t){this._active!==t&&(this._active=t,this.syncActive())}},{key:"mask",get:function(){return this._mask},set:function(t){this._mask!==t&&(this._mask=t,this.syncMask())}},{key:"scrollFactorX",get:function(){return this._scrollFactorX},set:function(t){this._scrollFactorX!==t&&(this._scrollFactorX=t,this.syncScrollFactor())}},{key:"scrollFactorY",get:function(){return this._scrollFactorY},set:function(t){this._scrollFactorY!==t&&(this._scrollFactorY=t,this.syncScrollFactor())}},{key:"list",get:function(){return this.children.getChildren()}}])&&p(i.prototype,n),e}();Object.assign(x.prototype,n,{remove:function(t,e){return this.children.remove(t,!1,e),this},clear:function(t){return this.children.clear(!1,t),this}},{getLocalState:function(t){return t.hasOwnProperty("rexContainer")||(t.rexContainer={}),t.rexContainer},resetChildState:function(t){return this.resetChildPositionState(t).resetChildVisibleState(t).resetChildAlphaState(t).resetChildActiveState(t),this},resetChildrenState:function(t){for(var e=0,i=t.length;e<i;e++)this.resetChildState(t[e]);return this},syncProperties:function(){return this.syncPosition().syncVisible().syncAlpha().syncActive().syncScrollFactor().syncMask(),this}},o,a,{updateChildVisible:function(t){return t.visible=this.visible&&this.getLocalState(t).visible,this},syncVisible:function(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildVisible,this),this},resetChildVisibleState:function(t){return this.getLocalState(t).visible=t.visible,this},setChildVisible:function(t,e){return t.visible=e,this.resetChildVisibleState(t),this},setChildLocalVisible:function(t,e){return void 0===e&&(e=!0),this.getLocalState(t).visible=e,this.updateChildVisible(t),this}},l,{updateChildScrollFactor:function(t){return t.setScrollFactor(this.scrollFactorX,this.scrollFactorY),this},syncScrollFactor:function(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildScrollFactor,this),this}},{updateChildActive:function(t){return t.active=this.active&&this.getLocalState(t).active,this},syncActive:function(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildActive,this),this},resetChildActiveState:function(t){return this.getLocalState(t).active=t.active,this},setChildActive:function(t,e){return t.active=e,this.resetChildActiveState(t),this},setChildLocalActive:function(t,e){return void 0===e&&(e=!0),this.getLocalState(t).active=e,this.updateChildActive(t),this}},{updateChildMask:function(t){return null==this.mask||(this.mask.hasOwnProperty("geometryMask")?this.mask.geometryMask:this.mask.bitmapMask)!==t&&(t.mask=this.mask),this},syncMask:function(){return this.children&&this.syncChildrenEnable&&this.children.getChildren().forEach(this.updateChildMask,this),this},setMask:function(t){return this.mask=t,this},clearMask:function(t){return void 0===t&&(t=!1),t&&this.mask&&this.mask.destroy(),this.mask=null,this}},{setDepth:function(t){if(this.depth=t,this.children)for(var e=this.getAllChildren(),i=0,n=e.length;i<n;i++)e[i].depth=t;return this},swapDepth:function(t){var e=this.depth,i=t.depth;return this.setDepth(i),t.setDepth(e),this},incDepth:function(t){if(this.depth+=t,this.children)for(var e=this.getAllChildren(),i=0,n=e.length;i<n;i++)e[i].depth+=t;return this}},c,k.Alpha,k.Flip),e.a=x},258:function(t,e,i){"use strict";var n=i(189);e.a=function(t,e,i){return t._edit||(t._edit=new n.a(t)),t._edit.open(e,i),t._edit}},26:function(t,e,i){"use strict";var n=Phaser.Renderer.WebGL.Utils,r=i(9),o=(r.a,r.a,{renderWebGL:function(t,e,i,r,o){if(e.dirty&&(e.updateTexture(),e.dirty=!1),0!==e.width&&0!==e.height){var s=e.frame,a=s.width,l=s.height,h=n.getTintAppendFloatAlpha;this.pipeline.batchTexture(e,s.glTexture,a,l,e.x,e.y,a/e.resolution,l/e.resolution,e.scaleX,e.scaleY,e.rotation,e.flipX,e.flipY,e.scrollFactorX,e.scrollFactorY,e.displayOriginX,e.displayOriginY,0,0,a,l,h(e._tintTL,r.alpha*e._alphaTL),h(e._tintTR,r.alpha*e._alphaTR),h(e._tintBL,r.alpha*e._alphaBL),h(e._tintBR,r.alpha*e._alphaBR),e._isTinted&&e.tintFill,0,0,r,o)}},renderCanvas:function(t,e,i,n,r){0!==e.width&&0!==e.height&&t.batchSprite(e,e.frame,n,r)}}),s=Phaser.Display.Color,a={clear:function(){return this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},fill:function(t){return this.context.fillStyle=t,this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},getPixel:function(t,e,i){void 0===i&&(i=new s);var n=this.context.getImageData(t,e,1,1);return i.setTo(n.data[0],n.data[1],n.data[2],n.data[3]),i},setPixel:function(t,e,i,n,r,o){if("number"!=typeof i){var s=i;i=s.red,n=s.green,r=s.blue,o=s.alpha}void 0===o&&(o=0!==i||0!==n||0!==r?255:0);var a=this.context.createImageData(1,1);return a.data[0]=i,a.data[1]=n,a.data[2]=r,a.data[3]=o,this.context.putImageData(a,t,e),this.dirty=!0,this}};function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=Phaser.Display.Canvas.CanvasPool,d=Phaser.GameObjects.GameObject,y=function(t){function e(t,i,n,r,o){var s,a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===i&&(i=0),void 0===n&&(n=0),void 0===r&&(r=1),void 0===o&&(o=1),(s=!(a=u(e).call(this,t,"rexCanvas"))||"object"!==l(a)&&"function"!=typeof a?c(this):a).renderer=t.sys.game.renderer,s.resolution=t.sys.game.config.resolution,s.canvas=p.create(c(s),s.resolution*r,s.resolution*o),s.context=s.canvas.getContext("2d"),s.dirty=!1,s.setPosition(i,n),s.setSize(r,o),s.setOrigin(.5,.5),s.initPipeline(),s._crop=s.resetCropObject(),s.texture=t.sys.textures.addCanvas(null,s.canvas,!0),s.frame=s.texture.get(),s.frame.source.resolution=s.resolution,s.renderer&&s.renderer.gl&&(s.renderer.deleteTexture(s.frame.source.glTexture),s.frame.source.glTexture=null),s.dirty=!0,t.sys.game.events.on("contextrestored",(function(){this.dirty=!0}),c(s)),s}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(e,d),i=e,(n=[{key:"getCanvas",value:function(t){return t||(this.dirty=!0),this.canvas}},{key:"needRedraw",value:function(){return this.dirty=!0,this}},{key:"preDestroy",value:function(){p.remove(this.canvas)}},{key:"resize",value:function(t,e){return this.width===t&&this.height===e||(this.setSize(t,e).updateDisplayOrigin(),t*=this.resolution,e*=this.resolution,t=Math.max(Math.ceil(t),1),e=Math.max(Math.ceil(e),1),this.canvas.width=t,this.canvas.height=e,this.dirty=!0),this}}])&&h(i.prototype,n),e}(),g=Phaser.GameObjects.Components;Phaser.Class.mixin(y,[g.Alpha,g.BlendMode,g.ComputedSize,g.Crop,g.Depth,g.Flip,g.GetBounds,g.Mask,g.Origin,g.Pipeline,g.ScrollFactor,g.Tint,g.Transform,g.Visible,o,a,{updateTexture:function(t,e){t&&(e?t.call(e,this.canvas,this.context):t(this.canvas,this.context)),this.canvas.width===this.frame.width&&this.canvas.height===this.frame.height||this.frame.setSize(this.canvas.width,this.canvas.height),this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(this.canvas,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!1;var i=this.input;return i&&!i.customHitArea&&(i.hitArea.width=this.width,i.hitArea.height=this.height),this},generateTexture:function(t,e,i,n,r){var o,s=this.canvas,a=this.scene.sys,l=a.game.renderer;void 0===e&&(e=0),void 0===i&&(i=0),void 0===n?n=s.width:n*=this.resolution,void 0===r?r=s.height:r*=this.resolution;var h=(o=a.textures.exists(t)?a.textures.get(t):a.textures.createCanvas(t,n,r)).getSourceImage();h.width!==n&&(h.width=n),h.height!==r&&(h.height=r);var u=h.getContext("2d");return u.clearRect(0,0,n,r),u.drawImage(s,e,i,n,r),l.gl&&o&&l.canvasToTexture(h,o.source[0].glTexture,!0,0),this},loadTexture:function(t,e){var i=this.scene.textures.getFrame(t,e);return i?(this.width!==i.cutWidth||this.height!==i.cutHeight?this.resize(i.cutWidth,i.cutHeight):this.context.clearRect(0,0,i.cutWidth,i.cutHeight),this.context.drawImage(i.source.image,i.cutX,i.cutY,i.cutWidth,i.cutHeight,0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this):this}}]),e.a=y},261:function(t,e,i){"use strict";var n=i(4),r=i(3),o=Phaser.Utils.Objects.IsPlainObject,s=Phaser.Utils.Objects.GetValue,a=function(t,e,i){var n;if(void 0===t)t=i.texture.key,e=i.frame.name;else if(o(t)){var r=t;t=s(r,"key",i.texture.key),e=s(r,"frame",i.frame.name)}else"string"==typeof t||(n=t);return void 0===n&&(n=function(i){i.setTexture(t,e)}),n};function l(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var h=Phaser.Utils.Objects.GetValue,u=Phaser.Utils.Objects.GetAdvancedValue,c=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=Object(r.a)(e),this.setEventEmitter(h(i,"eventEmitter",void 0)),this.scaleStart={},this.scaleEnd={},this.tween=void 0,this.resetFromJSON(i),this.boot()}var e,i;return e=t,(i=[{key:"resetFromJSON",value:function(t){return this.setOrientation(h(t,"orientation",0)),this.setDelay(u(t,"delay",0)),this.setDuration(u(t,"duration",500)),this.setEase(h(t,"ease","Sine")),this.setFrontFace(h(t,"front",void 0)),this.setBackFace(h(t,"back",void 0)),this.setFace(h(t,"face",0)),this}},{key:"boot",value:function(){this.gameObject.once&&this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){return this.destroyEventEmitter(),this.stop(),this.gameObject=void 0,this.scene=void 0,this}},{key:"destroy",value:function(){return this.shutdown(),this}},{key:"setOrientation",value:function(t){return"string"==typeof t&&(t=f[t]),this.orientation=t,this}},{key:"setDelay",value:function(t){return this.delay=t,this}},{key:"setDuration",value:function(t){return this.duration=t,this}},{key:"setEase",value:function(t){return void 0===t&&(t="Linear"),this.ease=t,this}},{key:"setFace",value:function(t){return this.face=t,this}},{key:"toggleFace",value:function(){var t=0===this.face?1:0;return this.setFace(t),this}},{key:"setFrontFace",value:function(t,e){return this.frontFaceCallback=a(t,e,this.gameObject),this}},{key:"setBackFace",value:function(t,e){return this.backFaceCallback=a(t,e,this.gameObject),this}},{key:"start",value:function(){if(this.isRunning)return this;var t={targets:this.gameObject,duration:this.duration/2,ease:this.ease,yoyo:!0,repeat:0,onYoyo:this.toggleFace,onYoyoScope:this,onComplete:this.complete,onCompleteScope:this};return t[0===this.orientation?"scaleX":"scaleY"]={from:1,to:0},this.tween=this.scene.tweens.add(t),this}},{key:"restart",value:function(){return this.stop().start(),this}},{key:"flip",value:function(t){return this.isRunning||(void 0!==t&&this.setDuration(t),this.start()),this}},{key:"stop",value:function(){return this.tween?(this.tween.remove(),this.tween=void 0,this):this}},{key:"complete",value:function(){return this.stop(),this.emit("complete",this,this.gameObject),this}},{key:"isRunning",get:function(){return!!this.tween}},{key:"face",get:function(){return this._face},set:function(t){"string"==typeof t&&(t=p[t]),this._face=t,0===t&&this.frontFaceCallback?this.frontFaceCallback(this.gameObject):1===t&&this.backFaceCallback&&this.backFaceCallback(this.gameObject)}}])&&l(e.prototype,i),t}();Object.assign(c.prototype,n.a);var f={x:0,horizontal:0,y:1,vertical:1},p={front:0,back:1},d=c;e.a=d},262:function(t,e,i){"use strict";var n=Phaser.Geom.Rectangle,r=function(t,e){void 0===e&&(e=new n);var i=t.canvasBounds,r=t.displayScale,o=t.autoCenter;return e.x=i.x>=0?0:-i.x*r.x,e.y=i.y>=0?0:-i.y*r.y,e.width=i.width*r.x-e.x,e.height=i.height*r.y-e.y,1!==o&&2!==o||(e.width-=e.x),1!==o&&3!==o||(e.height-=e.y),e};function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=Phaser.Utils.Objects.GetValue,a=Phaser.Geom.Rectangle,l=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.viewport=new a,this.resetFromJSON(i),this.boot()}var e,i;return e=t,(i=[{key:"resetFromJSON",value:function(t){var e,i;if("string"==typeof t){var n=t.split(",");e=n[0],i=n[1]}else e=s(t,"x","0%+0"),i=s(t,"y","0%+0");e=e.replace("left","0%").replace("right","100%").replace("center","50%").split("%");var r=parseFloat(e[0])/100,o=""===e[1]?0:parseFloat(e[1]);i=i.replace("top","0%").replace("bottom","100%").replace("center","50%").split("%");var a=parseFloat(i[0])/100,l=""===i[1]?0:parseFloat(i[1]);return this.setPercentage(r,a),this.setOffset(o,l),this}},{key:"boot",value:function(){this.scaleManamger.on("resize",this.onResize,this),this.gameObject.once("destroy",this.destroy,this),this.onResize()}},{key:"shutdown",value:function(){this.scaleManamger.off("resize",this.onResize,this),this.gameObject=void 0}},{key:"destroy",value:function(){this.shutdown()}},{key:"setOffset",value:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.offsetX=t,this.offsetY=e,this}},{key:"setPercentage",value:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.percentageX=t,this.percentageY=e,this}},{key:"onResize",value:function(){r(this.scaleManamger,this.viewport),this.updatePosition()}},{key:"updatePosition",value:function(){return this.gameObject.setPosition(this.x,this.y),this}},{key:"scaleManamger",get:function(){return this.gameObject.scene.scale}},{key:"x",get:function(){return this.viewport.x+this.viewport.width*this.percentageX+this.offsetX}},{key:"y",get:function(){return this.viewport.y+this.viewport.height*this.percentageY+this.offsetY}}])&&o(e.prototype,i),t}();e.a=l},28:function(t,e,i){"use strict";var n=i(9),r=new Phaser.GameObjects.Zone({sys:{queueDepthSort:n.a,events:{once:n.a}}},0,0,1,1);r.setOrigin(0),e.a=r},3:function(t,e,i){"use strict";var n=i(5);e.a=function(t){return Object(n.a)(t)?t:t.scene&&Object(n.a)(t.scene)?t.scene:t.parent&&t.parent.scene&&Object(n.a)(t.parent.scene)?t.parent.scene:void 0}},30:function(t,e,i){"use strict";var n=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i;e.a=function(t){return"string"!=typeof t||(""===t?t=null:n.test(t)?t=parseFloat(t):"false"===screen?t=!1:"true"===t&&(t=!0)),t}},34:function(t,e,i){"use strict";var n=Phaser.Display.Canvas.CanvasPool,r={},o=function(t){var e=n.create(this),i=e.getContext("2d");t.syncFont(e,i);var o=Math.ceil(i.measureText(t.testString).width*t.baselineX),s=o,a=2*s;s=s*t.baselineY|0,e.width=o,e.height=a,i.fillStyle="#f00",i.fillRect(0,0,o,a),i.font=t._font,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(t.testString,0,s);var l=r;if(!i.getImageData(0,0,o,a))return l.ascent=s,l.descent=s+6,l.fontSize=l.ascent+l.descent,n.remove(e),l;var h,u,c=i.getImageData(0,0,o,a).data,f=c.length,p=4*o,d=0,y=!1;for(h=0;h<s;h++){for(u=0;u<p;u+=4)if(255!==c[d+u]){y=!0;break}if(y)break;d+=p}for(l.ascent=s-h,d=f-p,y=!1,h=a;h>s;h--){for(u=0;u<p;u+=4)if(255!==c[d+u]){y=!0;break}if(y)break;d-=p}return l.descent=h-s,l.fontSize=l.ascent+l.descent,n.remove(e),l},s=i(1);function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var l=Phaser.Utils.Objects.GetAdvancedValue,h=Phaser.Utils.Objects.GetValue,u={backgroundColor:["backgroundColor",null],fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],underlineColor:["underline.color","#000"],underlineThickness:["underline.thickness",0],underlineOffset:["underline.offset",0],halign:["halign",0],valign:["valign",0],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],lineSpacing:["lineSpacing",0],rtl:["rtl",!1],testString:["testString","|Mqgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wrapMode:["wrap.mode",1],wrapWidth:["wrap.width",0]},c=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent=e,this.backgroundColor,this.fontFamily,this.fontSize,this.fontStyle,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.underlineColor,this.underlineThickness,this.underlineOffset,this.halign,this.valign,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.lineSpacing,this.rtl,this.testString,this.baselineX,this.baselineY,this._font,this.setStyle(i,!1);var n=h(i,"metrics",!1);this.metrics=n?{ascent:h(n,"ascent",0),descent:h(n,"descent",0),fontSize:h(n,"fontSize",0)}:o(this)}var e,i;return e=t,(i=[{key:"setStyle",value:function(t,e){if(void 0===e&&(e=!0),t&&t.hasOwnProperty("halign")&&"string"==typeof t.halign&&(t.halign=f[t.halign.toLowerCase()]||0),t&&t.hasOwnProperty("valign")&&"string"==typeof t.valign&&(t.valign=p[t.valign.toLowerCase()]||0),t&&t.hasOwnProperty("wrap")){var i=t.wrap;if(i.hasOwnProperty("mode")){var n=i.mode;"string"==typeof n&&(i.mode=d[n])}else i.hasOwnProperty("width")&&(i.mode=1)}for(var r in t&&t.hasOwnProperty("fontSize")&&"number"==typeof t.fontSize&&(t.fontSize=t.fontSize.toString()+"px"),u)this[r]="wrapCallback"===r||"wrapCallbackScope"===r?h(t,u[r][0],u[r][1]):l(t,u[r][0],u[r][1]);var o=h(t,"font",null);this._font=null===o?this.fontStyle+" "+this.fontSize+" "+this.fontFamily:o;var s=h(t,"fill",null);return null!==s&&(this.color=s),e?this.update(!0):this.parent}},{key:"syncFont",value:function(t,e){e.font=this._font}},{key:"syncStyle",value:function(t,e){e.textBaseline="alphabetic",e.fillStyle=this.color,e.strokeStyle=this.stroke,e.lineWidth=this.strokeThickness,e.lineCap="round",e.lineJoin="round"}},{key:"syncShadow",value:function(t,e){e?(t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur):(t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowColor=0,t.shadowBlur=0)}},{key:"update",value:function(t){return t&&(this._font=this.fontStyle+" "+this.fontSize+" "+this.fontFamily,this.metrics=o(this)),this.parent.updateText(t)}},{key:"buildFont",value:function(){var t=this.fontStyle+" "+this.fontSize+" "+this.fontFamily;return t!==this._font&&(this._font=t),this}},{key:"setFont",value:function(t){return"string"==typeof t?(this.fontFamily=t,this.fontSize="",this.fontStyle=""):(this.fontFamily=h(t,"fontFamily","Courier"),this.fontSize=h(t,"fontSize","16px"),this.fontStyle=h(t,"fontStyle","")),this.update(!0)}},{key:"setFontFamily",value:function(t){return this.fontFamily=t,this.update(!0)}},{key:"setFontStyle",value:function(t){return this.fontStyle=t,this.update(!0)}},{key:"setFontSize",value:function(t){return"number"==typeof t&&(t=t.toString()+"px"),this.fontSize=t,this.update(!0)}},{key:"setTestString",value:function(t){return this.testString=t,this.update(!0)}},{key:"setFixedSize",value:function(t,e){return this.fixedWidth=t,this.fixedHeight=e,t&&(this.parent.width=t),e&&(this.parent.height=e),this.update(!1)}},{key:"setResolution",value:function(t){return this.resolution=t,this.update(!1)}},{key:"setLineSpacing",value:function(t){return this.lineSpacing=t,this.update(!1)}},{key:"setBackgroundColor",value:function(t){return this.backgroundColor=t,this.update(!1)}},{key:"setFill",value:function(t){return this.color=t,this.update(!1)}},{key:"setColor",value:function(t){return this.color=t,this.update(!1)}},{key:"setStroke",value:function(t,e){return void 0===t?this.strokeThickness=0:(void 0===e&&(e=this.strokeThickness),this.stroke=t,this.strokeThickness=e),this.update(!0)}},{key:"setShadow",value:function(t,e,i,n,r,o){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i="#000"),void 0===n&&(n=0),void 0===r&&(r=!1),void 0===o&&(o=!0),this.shadowOffsetX=t,this.shadowOffsetY=e,this.shadowColor=i,this.shadowBlur=n,this.shadowStroke=r,this.shadowFill=o,this.update(!1)}},{key:"setShadowOffset",value:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.shadowOffsetX=t,this.shadowOffsetY=e,this.update(!1)}},{key:"setShadowColor",value:function(t){return void 0===t&&(t="#000"),this.shadowColor=t,this.update(!1)}},{key:"setShadowBlur",value:function(t){return void 0===t&&(t=0),this.shadowBlur=t,this.update(!1)}},{key:"setShadowStroke",value:function(t){return this.shadowStroke=t,this.update(!1)}},{key:"setShadowFill",value:function(t){return this.shadowFill=t,this.update(!1)}},{key:"setUnderline",value:function(t,e,i){return void 0===t&&(t="#000"),void 0===e&&(e=0),void 0===i&&(i=0),this.underlineColor=t,this.underlineThickness=e,this.underlineOffset=i,this.update(!1)}},{key:"setUnderlineColor",value:function(t){return void 0===t&&(t="#000"),this.underlineColor=t,this.update(!1)}},{key:"setUnderlineThickness",value:function(t){return void 0===t&&(t=0),this.underlineThickness=t,this.update(!1)}},{key:"setUnderlineOffset",value:function(t){return void 0===t&&(t=0),this.underlineOffset=t,this.update(!1)}},{key:"setWrapMode",value:function(t){return"string"==typeof t&&(t=d[t.toLowerCase()]||0),this.wrapMode=t,this.update(!0)}},{key:"setWrapWidth",value:function(t){return this.wrapWidth=t,this.update(!1)}},{key:"setAlign",value:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=0),"string"==typeof t&&(t=f[t.toLowerCase()]||0),"string"==typeof e&&(e=f[e.toLowerCase()]||0),this.halign=t,this.valign=e,this.update(!1)}},{key:"setHAlign",value:function(t){return void 0===t&&(t=0),"string"==typeof t&&(t=f[t.toLowerCase()]||0),this.halign=t,this.update(!1)}},{key:"setVAlign",value:function(t){return void 0===t&&(t=0),"string"==typeof t&&(t=f[t.toLowerCase()]||0),this.valign=t,this.update(!1)}},{key:"setMaxLines",value:function(t){return void 0===t&&(t=0),this.maxLines=t,this.update(!1)}},{key:"getTextMetrics",value:function(){var t=this.metrics;return{ascent:t.ascent,descent:t.descent,fontSize:t.fontSize}}},{key:"toJSON",value:function(){var t={};for(var e in u)t[e]=this[e];return t.metrics=this.getTextMetrics(),t}},{key:"destroy",value:function(){this.parent=void 0}},{key:"lineHeight",get:function(){return this.metrics.fontSize+this.strokeThickness+this.lineSpacing}}])&&a(e.prototype,i),t}(),f={left:s.a.hleft,center:s.a.hcenter,right:s.a.hright},p={top:s.a.vtop,center:s.a.vcenter,bottom:s.a.vbottom},d={none:s.a.NO_WRAP,word:s.a.WORD_WRAP,char:s.a.CHAR_WRAP,character:s.a.CHAR_WRAP};e.a=c},35:function(t,e,i){"use strict";e.a=function(t,e,i,n){void 0===i&&(i=0),void 0===n&&(n=e.length),t.length=n-i;for(var r=0,o=t.length;r<o;r++)t[r]=e[r+i];return t}},36:function(t,e,i){"use strict";var n=i(10),r=i(3);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t,e,i){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=Phaser.Utils.Objects.GetValue,f=function(t){function e(t,i){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=Object(r.a)(t);return o===t&&(t=void 0),(n=a(this,h(e).call(this,o,i))).scene=o,n.gameObject=t,t&&t.setInteractive(c(i,"inputConfig",void 0)),n.resetFromJSON(i),n.boot(),n}var i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,n.a),i=e,(o=[{key:"resetFromJSON",value:function(t){return this.setEnable(c(t,"enable",!0)),void 0===this.gameObject?this.bounds=c(t,"bounds",void 0):this.bounds=void 0,this.tracerState=p,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,this.isTouchingAnyObject=!1,this}},{key:"boot",value:function(){l(h(e.prototype),"boot",this).call(this),this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.events.once("shutdown",this.destroy,this)}},{key:"shutdown",value:function(){this.gameObject?this.gameObject.off("pointerdown",this.onPointerDown,this):this.scene&&this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene&&(this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.events.off("destroy",this.destroy,this),this.scene=void 0),this.scene=void 0,this.gameObject=void 0,this.bounds=void 0,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,l(h(e.prototype),"shutdown",this).call(this)}},{key:"destroy",value:function(){this.shutdown()}},{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable===t||(t||this.dragCancel(),this.enable=t),this}},{key:"onPointerDown",value:function(t,e){this.enable&&void 0===this.pointer&&(!this.bounds||this.bounds.contains(t.x,t.y))&&this.pointer!==t&&(this.pointer=t,this.lastPointer=t,this.movedState=!1,this.tracerState=d,void 0===this.gameObject&&(this.isTouchingAnyObject=e.length>0),this.onDragStart())}},{key:"onPointerUp",value:function(t){this.enable&&(!this.bounds||this.bounds.contains(t.x,t.y))&&this.pointer===t&&(this.pointer=void 0,this.movedState=!1,this.tracerState=p,this.onDragEnd())}},{key:"onPointerMove",value:function(t){if(this.enable&&t.isDown){var e=!this.bounds||this.bounds.contains(t.x,t.y),i=this.pointer===t;!i&&e||(i&&!e?this.onPointerUp(t):(this.movedState||(this.movedState=t.x!==t.downX||t.y!==t.downY),this.movedState&&this.onDrag()))}}},{key:"dragCancel",value:function(){return this.tracerState===d&&this.onDragEnd(),this.pointer=void 0,this.tracerState=p,this}},{key:"onDragStart",value:function(){this.emit("dragstart",this)}},{key:"onDragEnd",value:function(){this.emit("dragend",this)}},{key:"onDrag",value:function(){this.emit("drag",this)}},{key:"preUpdate",value:function(t,e){}},{key:"postUpdate",value:function(t,e){}},{key:"startTicking",value:function(){l(h(e.prototype),"startTicking",this).call(this),this.scene.events.on("preupdate",this.preUpdate,this),this.scene.events.on("postupdate",this.postUpdate,this)}},{key:"stopTicking",value:function(){l(h(e.prototype),"stopTicking",this).call(this),this.scene&&(this.scene.events.off("preupdate",this.preUpdate,this),this.scene.events.off("postupdate",this.postUpdate,this))}},{key:"setRecongizedStateObject",value:function(t){return this.recongizedState=t,this}},{key:"cancel",value:function(){return this.state=y,this}},{key:"state",get:function(){return this.recongizedState.state},set:function(t){this.recongizedState.state=t}}])&&s(i.prototype,o),e}(),p=0,d=1,y="IDLE";e.a=f},376:function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i.r(e);var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scene=e}var e,i;return e=t,(i=[{key:"register",value:function(e,i){t.prototype[e]=i}}])&&n(e,i),t}(),o=i(52).a,s=i(2);r.register("roundRectangle",(function(t,e,i,n,r,s,a){var l=new o(this.scene,t,e,i,n,r,s,a);return this.scene.add.existing(l),l})),Object(s.a)(window,"RexPlugins.UI.RoundRectangle",o);var a=i(55).a;r.register("BBCodeText",(function(t,e,i,n){var r=new a(this.scene,t,e,i,n);return this.scene.add.existing(r),r})),Object(s.a)(window,"RexPlugins.UI.BBCodeText",a);var l=i(54).a;r.register("tagText",(function(t,e,i,n){var r=new l(this.scene,t,e,i,n);return this.scene.add.existing(r),r})),Object(s.a)(window,"RexPlugins.UI.TagText",l);var h=i(25).a;r.register("container",(function(t,e,i,n,r){var o=new h(this.scene,t,e,i,n,r);return this.scene.add.existing(o),o})),Object(s.a)(window,"RexPlugins.UI.Container",h);var u=i(26);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function p(t,e,i){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var g=function(t){function e(t,i,n,r,o,s){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(a=function(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,d(e).call(this,t,i,n,r,o))).type="rexChart",a.chart=void 0,void 0!==s&&a.setChart(s),a}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(e,u.a),i=e,(n=[{key:"destroy",value:function(t){this.scene&&(this.chart&&(this.chart.destroy(),this.chart=void 0),p(d(e.prototype),"destroy",this).call(this,t))}},{key:"resize",value:function(t,i){if(t===this.width&&i===this.height)return this;if(p(d(e.prototype),"resize",this).call(this,t,i),this.chart){var n=this.chart;n.height=this.canvas.height,n.width=this.canvas.width,n.aspectRatio=n.height?n.width/n.height:null,n.update()}return this}}])&&f(i.prototype,n),e}(),v={setChart:function(t){return window.Chart?(this.chart&&this.chart.destroy(),this.chart=new Chart(this.context,function(t,e){void 0===e&&(e={}),void 0===e.options&&(e.options={});var i=e.options;i.responsive=!1,i.maintainAspectRatio=!1,i.hasOwnProperty("devicePixelRatio")||(i.devicePixelRatio=1);var n=!1;void 0===i.animation?i.animation={}:!1===i.animation&&(n=!0,i.animation={});var r=i.animation;n&&(r.duration=0);var o=r.onProgress;r.onProgress=function(e){o&&o(e),t.needRedraw()};var s=r.onComplete;return r.onComplete=function(e){s&&s(e),t.needRedraw()},e}(this,t)),this):(console.error("Can not find chartjs! Load chartjs in preload stage.\nscene.load.script('chartjs', 'https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.min.js');"),this)},getChartDataset:function(t){if(void 0!==this.chart){if("string"!=typeof t)return this.chart.data.datasets[t];for(var e,i=this.chart.data.datasets,n=0,r=i.length;n<r;n++)if((e=i[n]).label===t)return e}},getChartData:function(t,e){var i=this.getChartDataset(t);if(void 0!==i){if("string"==typeof e&&-1===(e=this.chart.data.labels.indexOf(e)))return;return i.data[e]}},setChartData:function(t,e,i){if(void 0===this.chart)return this;var n=this.getChartDataset(t);return"string"==typeof e&&-1===(e=this.chart.data.labels.indexOf(e))||(n.data[e]=i),this},updateChart:function(){if(void 0===this.chart)return this;this.chart.update()}};Object.assign(g.prototype,v);var m=g;r.register("chart",(function(t,e,i,n,r){var o=new m(this.scene,t,e,i,n,r);return this.scene.add.existing(o),o})),Object(s.a)(window,"RexPlugins.UI.Chart",m);var b=i(89).a;r.register("circleMaskImage",(function(t,e,i,n,r){var o=new b(this.scene,t,e,i,n,r);return this.scene.add.existing(o),o})),Object(s.a)(window,"RexPlugins.UI.CircleMaskImage",b);var w=i(83).a;r.register("video",(function(t,e,i,n,r){var o=new w(this.scene,t,e,i,n,r);return this.scene.add.existing(o),o})),Object(s.a)(window,"RexPlugins.UI.Video",w);var k=i(88).a;r.register("youtubePlayer",(function(t,e,i,n,r){var o=new k(this.scene,t,e,i,n,r);return this.scene.add.existing(o),o})),Object(s.a)(window,"RexPlugins.UI.YoutubePlayer",k);var x=function(t){return t.hasOwnProperty("rexSizer")||(t.rexSizer={}),t.rexSizer},O=i(119),S=new Phaser.Geom.Rectangle,P=function(t,e){return void 0===this.childrenMap&&(this.childrenMap={}),this.childrenMap[t]=e,this},T=/(\S+)\[(\d+)\]/i,C=[],_=i(159),j=Phaser.Utils.Objects.IsPlainObject,B=Phaser.Utils.Objects.GetValue,M=i(158),A=Phaser.Utils.Objects.IsPlainObject,E=Phaser.Utils.Objects.GetValue,R=i(59),W={},F=Phaser.Utils.Objects.IsPlainObject,I=Phaser.Utils.Objects.GetValue,D=i(137),L=Phaser.Utils.Objects.IsPlainObject,z=Phaser.Utils.Objects.GetValue,Y=void 0,H=i(51),N=i(28),X=Phaser.Display.Align.In.QuickSet,G=Phaser.Display.Align.CENTER,U=function(t,e,i){var n=this.getTopmostSizer();n.x+=e-this.x,n.y+=i-this.y},V={getSizerConfig:x,pushIntoBounds:function(t){return void 0===t&&(t=Object(O.a)(this.scene)),this.left=Math.max(this.left,t.left),this.right=Math.min(this.right,t.right),this.top=Math.max(this.top,t.top),this.bottom=Math.min(this.bottom,t.bottom),this},drawBounds:function(t,e){void 0===e&&(e=16777215);for(var i,n=this.getAllChildren([this]),r=0,o=n.length;r<o;r++)(i=n[r]).getBounds&&t.lineStyle(1,e).strokeRectShape(i.getBounds(S));return this},getChildrenWidth:function(){return 0},getChildrenHeight:function(){return 0},addChildrenMap:P,addElement:P,getElement:function(t){if(void 0!==this.childrenMap&&("string"==typeof t&&(t=t.split(".")),0!==t.length)){var e,i=t.shift();if("#"===i.charAt(0)){i=i.substring(1);for(var n=0,r=(o=function t(e,i){var n;for(var r in void 0===i&&(i=[]),e)void 0!==(n=e[r]).name?i.push(n):t(n,i);return i}(this.childrenMap,C)).length;n<r;n++)if(o[n].name===i){e=o[n];break}C.length=0}else if(-1===i.indexOf("["))e=this.childrenMap[i];else{var o,s=i.match(T);null!=s&&(o=this.childrenMap[s[1]])&&(e=o[s[2]])}return 0===t.length?e:e&&e.childrenMap?e.getElement(t):null}},getAllChildrenSizers:function(t){void 0===t&&(t=[]);for(var e=t.length,i=this.getChildrenSizers(t),n=t.length,r=e;r<n;r++)i[r].getAllChildrenSizers(t);return t},getChildrenSizers:function(t){return void 0===t&&(t=[]),t},layout:function(t,e,i){},layoutBackgrounds:function(){if(void 0!==this.backgroundChildren)for(var t,e=this.backgroundChildren,i=this.left,n=this.top,r=this.width,o=this.height,s=0,a=e.length;s<a;s++)(t=e[s]).rexSizer.hidden||(Object(H.a)(t,r,o),N.a.setPosition(i,n).setSize(r,o),X(t,N.a,G),this.resetChildPositionState(t))},layoutInit:function(t){if(!t)for(var e,i=this.getAllChildrenSizers([this]),n=0,r=i.length;n<r;n++)(e=i[n]).rexSizer&&e._layoutInit()},_layoutInit:function(){},popUp:function(t,e,i){if(j(t)){var n=t;t=B(n,"duration",void 0),e=B(n,"orientation",void 0),i=B(n,"ease",void 0)}return this._scale=Object(_.a)(this,t,e,i,this._scale),this},scaleDownDestroy:function(t,e,i,n){if(A(t)){var r=t;t=E(r,"duration",void 0),e=E(r,"orientation",void 0),i=E(r,"ease",void 0),n=E(r,"destroy",void 0)}return this._scale=Object(M.a)(this,t,e,i,n,this._scale),this},fadeIn:function(t){return F(t)&&(t=I(t,"duration",void 0)),this._fade=function(t,e,i,n){return void 0===i&&(i=t.alpha),W.mode=0,W.start=0,W.end=i,W.duration=e,void 0===n?n=new R.a(t,W):n.resetFromJSON(W),n.restart(),n}(this,t,this._fade),this},fadeOutDestroy:function(t,e){if(L(t)){var i=t;t=z(i,"duration",void 0),e=z(i,"destroy",void 0)}return this._fade=Object(D.a)(this,t,e,this._fade),this},isInTouching:function(t){if(void 0===Y&&(Y=new Phaser.Geom.Rectangle),this.getBounds(Y),void 0!==t)return Y.contains(t.x,t.y);for(var e=this.scene.input.manager,i=e.pointersTotal,n=e.pointers,r=0;r<i;r++)if(t=n[r],Y.contains(t.x,t.y))return!0;return!1},getTopmostSizer:function(t){void 0===t&&(t=this);for(var e=x(t).parent;e;)e=x(t=e).parent;return t},setDraggable:function(t){return void 0===t&&(t=!0),this.input&&this.input.hasOwnProperty("draggable")?this.input.draggable=t:t&&(this.setInteractive(),this.scene.input.setDraggable(this),this.on("drag",U,this)),this}},K=i(262);function J(t){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Z(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Q(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q(t,e,i){return(q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=$(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function $(t){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tt(t,e){return(tt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var et=Phaser.Utils.Objects.GetValue,it=function(t){function e(t,i,n,r,o,s){var a,l,h,u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),"string"==typeof i&&(l=i,h=n,i=0,n=0),(a=!(u=$(e).call(this,t,i,n,2,2))||"object"!==J(u)&&"function"!=typeof u?Q(this):u).isRexSizer=!0,a.setMinSize(r,o),a.setName(et(s,"name","")),a.rexSizer={},a.backgroundChildren=void 0,void 0!==l&&(a._anchor=new K.a(Q(a),{x:l,y:h})),a.setDraggable(et(s,"draggable",!1)),a}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tt(t,e)}(e,h),i=e,(n=[{key:"destroy",value:function(t){this.scene&&(void 0!==this.backgroundChildren&&(this.backgroundChildren.length=0),q($(e.prototype),"destroy",this).call(this,t))}},{key:"setMinSize",value:function(t,e){return this.setMinWidth(t).setMinHeight(e),this}},{key:"setMinWidth",value:function(t){return null==t&&(t=0),this.minWidth=t,this}},{key:"setMinHeight",value:function(t){return null==t&&(t=0),this.minHeight=t,this}},{key:"alignLeft",value:function(t){return this.left=t,this}},{key:"alignRight",value:function(t){return this.right=t,this}},{key:"alignCenterX",value:function(t){return this.centerX=t,this}},{key:"alignTop",value:function(t){return this.top=t,this}},{key:"alignBottom",value:function(t){return this.bottom=t,this}},{key:"alignCenterY",value:function(t){return this.centerY=t,this}},{key:"pin",value:function(t){return q($(e.prototype),"add",this).call(this,t),this}},{key:"addBackground",value:function(t){return void 0===this.backgroundChildren&&(this.backgroundChildren=[]),q($(e.prototype),"add",this).call(this,t),this.getSizerConfig(t).parent=this,this.backgroundChildren.push(t),this}},{key:"childrenWidth",get:function(){return void 0===this._childrenWidth&&(this._childrenWidth=this.getChildrenWidth()),this._childrenWidth}},{key:"childrenHeight",get:function(){return void 0===this._childrenHeight&&(this._childrenHeight=this.getChildrenHeight()),this._childrenHeight}},{key:"left",get:function(){return this.x-this.displayWidth*this.originX},set:function(t){this.x+=t-this.left}},{key:"right",get:function(){return this.x-this.displayWidth*this.originX+this.displayWidth},set:function(t){this.x+=t-this.right}},{key:"centerX",get:function(){return(this.left+this.right)/2},set:function(t){this.x+=t-this.centerX}},{key:"top",get:function(){return this.y-this.displayHeight*this.originY},set:function(t){this.y+=t-this.top}},{key:"bottom",get:function(){return this.y-this.displayHeight*this.originY+this.displayHeight},set:function(t){this.y+=t-this.bottom}},{key:"centerY",get:function(){return(this.top+this.bottom)/2},set:function(t){this.y+=t-this.centerY}}])&&Z(i.prototype,n),e}();Object.assign(it.prototype,V);var nt=it,rt=function(t,e){var i,n=e.rexSizer,r=n.padding;return 0===t.orientation?n.proportion>0&&t.proportionLength>0&&(i=n.proportion*t.proportionLength):n.expand&&(i=t.width-r.left-r.right),i},ot=function(t,e){var i,n=e.rexSizer,r=n.padding;return 0===t.orientation?n.expand&&(i=t.height-r.top-r.bottom):n.proportion>0&&t.proportionLength>0&&(i=n.proportion*t.proportionLength),i},st=Phaser.Display.Align.In.QuickSet,at={getChildrenWidth:function(t){if(this.rexSizer.hidden)return 0;void 0===t&&(t=!0);var e,i,n,r=0,o=this.sizerChildren;if(0===this.orientation)for(var s=0,a=o.length;s<a;s++)(e=o[s]).rexSizer.hidden||(n=0===e.rexSizer.proportion||t&&e.rexSizer.proportion>0?e.isRexSizer?Math.max(e.minWidth,e.childrenWidth):e.width:0,r+=n+=(i=e.rexSizer.padding).left+i.right);else for(s=0,a=o.length;s<a;s++)(e=o[s]).hasOwnProperty("rexSizer")&&(e.rexSizer.hidden||(n=e.isRexSizer?Math.max(e.minWidth,e.childrenWidth):e.width,n+=(i=e.rexSizer.padding).left+i.right,r=Math.max(n,r)));return r},getChildrenHeight:function(t){if(this.rexSizer.hidden)return 0;void 0===t&&(t=!0);var e,i,n,r=0,o=this.sizerChildren;if(0===this.orientation)for(var s=0,a=o.length;s<a;s++)(e=o[s]).rexSizer.hidden||(n=e.isRexSizer?Math.max(e.minHeight,e.childrenHeight):e.height,n+=(i=e.rexSizer.padding).top+i.bottom,r=Math.max(n,r));else for(s=0,a=o.length;s<a;s++)(e=o[s]).hasOwnProperty("rexSizer")&&(e.rexSizer.hidden||(n=0===e.rexSizer.proportion||t&&e.rexSizer.proportion>0?e.isRexSizer?Math.max(e.minHeight,e.childrenHeight):e.height:0,r+=n+=(i=e.rexSizer.padding).top+i.bottom));return r},getChildrenProportion:function(){for(var t,e,i=0,n=this.sizerChildren,r=0,o=n.length;r<o;r++)(t=n[r]).rexSizer.hidden||(e=t.rexSizer.proportion)>0&&(i+=e);return i},getChildrenSizers:function(t){void 0===t&&(t=[]);for(var e,i=this.sizerChildren,n=0,r=i.length;n<r;n++)(e=i[n]).isRexSizer&&t.push(e);return t},layout:function(t,e,i){if(this.rexSizer.hidden)return this;var n;if(this.layoutInit(t),void 0===e&&(e=Math.max(this.childrenWidth,this.minWidth)),void 0===i&&(i=Math.max(this.childrenHeight,this.minHeight)),this.resize(e,i),this.childrenProportion>0){var r=0===this.orientation?this.width-this.childrenWidth:this.height-this.childrenHeight;n=r>0?(r=0===this.orientation?this.width-this.getChildrenWidth(!1):this.height-this.getChildrenHeight(!1))/this.childrenProportion:0}else n=0;this.proportionLength=n;for(var o,s,a,l,h,u,c,f,p,d=this.sizerChildren,y=this.left,g=this.top,v=0,m=d.length;v<m;v++)(o=d[v]).rexSizer.hidden||(a=(s=o.rexSizer).padding,f=rt(this,o),p=ot(this,o),o.isRexSizer?o.layout(this,f,p):Object(H.a)(o,f,p),void 0===f&&(f=o.width),void 0===p&&(p=o.height),0===this.orientation?(l=y+a.left,u=0===s.proportion||0===n?f:s.proportion*n,h=g+a.top,c=this.height-a.top-a.bottom):(l=y+a.left,u=this.width-a.left-a.right,h=g+a.top,c=0===s.proportion||0===n?p:s.proportion*n),N.a.setPosition(l,h).setSize(u,c),st(o,N.a,s.align),this.resetChildPositionState(o),0===this.orientation?y+=u+a.left+a.right:g+=c+a.top+a.bottom);return this.layoutBackgrounds(),this},_layoutInit:function(){this._childrenWidth=void 0,this._childrenHeight=void 0,this._childrenProportion=void 0}},lt=Phaser.Utils.Objects.GetValue,ht=function(t,e){return void 0===e&&(e={}),"number"==typeof t?(e.left=t,e.right=t,e.top=t,e.bottom=t):(e.left=lt(t,"left",0),e.right=lt(t,"right",0),e.top=lt(t,"top",0),e.bottom=lt(t,"bottom",0)),e},ut={x:0,h:0,horizontal:0,"left-to-right":0,y:1,v:1,vertical:1,"top-to-bottom":1},ct=Phaser.Display.Align,ft={center:ct.CENTER,left:ct.LEFT_CENTER,right:ct.RIGHT_CENTER,top:ct.TOP_CENTER,bottom:ct.BOTTOM_CENTER,"left-top":ct.TOP_LEFT,"left-center":ct.LEFT_CENTER,"left-bottom":ct.LEFT_BOTTOM,"center-top":ct.TOP_CENTER,"center-center":ct.CENTER,"center-bottom":ct.BOTTOM_CENTER,"right-top":ct.TOP_RIGHT,"right-center":ct.RIGHT_CENTER,"right-bottom":ct.RIGHT_BOTTOM};function pt(t){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function yt(t,e,i){return(yt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=gt(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function gt(t){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vt(t,e){return(vt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var mt=Phaser.Utils.Objects.IsPlainObject,bt=Phaser.Utils.Objects.GetValue,wt=Phaser.Utils.Array.Remove,kt=Phaser.Display.Align.CENTER,xt=function(t){function e(t,i,n,r,o,s){var a,l;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),mt(i)?(i=bt(l=i,"x",0),n=bt(l,"y",0),r=bt(l,"width",void 0),o=bt(l,"height",void 0)):mt(r)?(r=bt(l=r,"width",void 0),o=bt(l,"height",void 0)):mt(s)&&(l=s),void 0!==l&&(s=bt(l,"orientation",0)),void 0===s&&(s=0),(a=function(t,e){return!e||"object"!==pt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,gt(e).call(this,t,i,n,r,o,l))).type="rexSizer",a.sizerChildren=[],a.setOrientation(s),a}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vt(t,e)}(e,nt),i=e,(n=[{key:"destroy",value:function(t){this.scene&&(this.sizerChildren.length=0,yt(gt(e.prototype),"destroy",this).call(this,t))}},{key:"setOrientation",value:function(t){return"string"==typeof t&&(t=ut[t]),this.orientation=t,this}},{key:"add",value:function(t,i,n,r,o){yt(gt(e.prototype),"add",this).call(this,t);var s=pt(i);if(null===i)return this;if("number"===s);else if("string"===s)i=Ot[i];else if(mt(i)){var a;i=bt(a=i,"proportion",0),n=bt(a,"align",kt),r=bt(a,"padding",0),o=bt(a,"expand",!1)}return"string"==typeof n&&(n=ft[n]),void 0===i&&(i=0),void 0===n&&(n=kt),void 0===r&&(r=0),void 0===o&&(o=!1),(a=this.getSizerConfig(t)).parent=this,a.proportion=i,a.align=n,a.padding=ht(r),a.expand=o,this.sizerChildren.push(t),this}},{key:"insert",value:function(t,e,i,n,r,o){return this.add(e,i,n,r,o),this.moveTo(e,t),this}},{key:"remove",value:function(t){var i=this.getSizerConfig(t);return i.parent!==this||(i.parent=void 0,wt(this.sizerChildren,t),yt(gt(e.prototype),"remove",this).call(this,t)),this}},{key:"clear",value:function(t){for(var i=0,n=this.sizerChildren.length;i<n;i++)this.getSizerConfig(this.sizerChildren[i]).parent=void 0;return this.sizerChildren.length=0,yt(gt(e.prototype),"clear",this).call(this,t),this}},{key:"childrenProportion",get:function(){return void 0===this._childrenProportion&&(this._childrenProportion=this.getChildrenProportion()),this._childrenProportion}}])&&dt(i.prototype,n),e}();Object.assign(xt.prototype,at);var Ot={min:0,full:-1},St=xt;r.register("sizer",(function(t,e,i,n,r){var o=new St(this.scene,t,e,i,n,r);return this.scene.add.existing(o),o})),Object(s.a)(window,"RexPlugins.UI.Sizer",St);var Pt=function(t,e){var i,n=t.rexSizer;if(n.expand){var r=n.padding;i=e-r.left-r.right}return i},Tt=function(t,e){var i,n=t.rexSizer;if(n.expand){var r=n.padding;i=e-r.top-r.bottom}return i},Ct=Phaser.Display.Align.In.QuickSet,_t={getChildrenWidth:function(){if(this.rexSizer.hidden)return 0;for(var t,e,i,n,r,o=0,s=this.gridChildren,a=0;a<this.columnCount;a++){if(t=0,void 0===(r=this.columnProportions[a])||0===r){for(var l=0;l<this.rowCount;l++)(e=s[l*this.columnCount+a])&&(e.rexSizer.hidden||(n=e.isRexSizer?Math.max(e.minWidth,e.childrenWidth):e.width,n+=(i=e.rexSizer.padding).left+i.right,t=Math.max(t,n)));o+=t}this.columnWidth[a]=t}return o},getChildrenHeight:function(){if(this.rexSizer.hidden)return 0;for(var t,e,i,n,r,o=0,s=this.gridChildren,a=0;a<this.rowCount;a++){if(t=0,void 0===(r=this.rowProportions[a])||0===r){for(var l=0;l<this.columnCount;l++)(e=s[a*this.columnCount+l])&&(e.rexSizer.hidden||(n=e.isRexSizer?Math.max(e.minHeight,e.childrenHeight):e.height,n+=(i=e.rexSizer.padding).top+i.bottom,t=Math.max(t,n)));o+=t}this.rowHeight[a]=t}return o},getChildrenSizers:function(t){void 0===t&&(t=[]);for(var e,i=this.gridChildren,n=0,r=i.length;n<r;n++)(e=i[n])&&e.isRexSizer&&t.push(e);return t},layout:function(t,e,i){if(this.rexSizer.hidden)return this;this.layoutInit(t);var n,r,o,s,a=this.totalColumnProportions,l=this.totalRowProportions;if(void 0===e)if(t&&a>0){var h=this.rexSizer.padding;e=t.width-h.left-h.right}else e=Math.max(this.childrenWidth,this.minWidth);void 0===i&&(t&&l>0?(h=this.rexSizer.padding,i=t.height-h.top-h.bottom):i=Math.max(this.childrenHeight,this.minHeight)),this.resize(e,i),n=a>0?(this.width-this.childrenWidth)/a:0,r=l>0?(this.height-this.childrenHeight)/l:0;for(var u,c,f,p,d,y,g,v,m,b,w=this.left,k=w,x=this.top,O=0;O<this.rowCount;O++){b=0===(v=this.rowProportions[O]||0)?this.rowHeight[O]:v*r,k=w;for(var S=0;S<this.columnCount;S++)m=0===(g=this.columnProportions[S]||0)?this.columnWidth[S]:g*n,(o=this.gridChildren[O*this.columnCount+S])&&!o.rexSizer.hidden?(d=Pt(o,m),y=Tt(o,b),o.isRexSizer?o.layout(this,d,y):Object(H.a)(o,d,y),u=k+(h=(s=o.rexSizer).padding).left,f=m-h.left-h.right,c=x+h.top,p=b-h.top-h.bottom,N.a.setPosition(u,c).setSize(f,p),Ct(o,N.a,s.align),this.resetChildPositionState(o),k+=m):k+=m;x+=b}return this.layoutBackgrounds(),this},_layoutInit:function(){this._childrenWidth=void 0,this._childrenHeight=void 0}};function jt(t){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Mt(t,e,i){return(Mt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=At(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function At(t){return(At=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Et(t,e){return(Et=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Rt=Phaser.Utils.Objects.IsPlainObject,Wt=Phaser.Utils.Objects.GetValue,Ft=Phaser.Utils.Array.Remove,It=Phaser.Display.Align.CENTER,Dt=function(t){function e(t,i,n,r,o,s,a,l,h){var u,c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Rt(i)?(i=Wt(c=i,"x",0),n=Wt(c,"y",0),r=Wt(c,"width",void 0),o=Wt(c,"height",void 0),s=Wt(c,"column",0),a=Wt(c,"row",0),l=Wt(c,"columnProportions",void 0),h=Wt(c,"rowProportions",void 0)):Rt(r)?(r=Wt(c=r,"width",void 0),o=Wt(c,"height",void 0),s=Wt(c,"column",0),a=Wt(c,"row",0),l=Wt(c,"columnProportions",void 0),h=Wt(c,"rowProportions",void 0)):Rt(s)?(s=Wt(c=s,"column",0),a=Wt(c,"row",0),l=Wt(c,"columnProportions",void 0),h=Wt(c,"rowProportions",void 0)):Rt(l)&&(l=Wt(c=l,"columnProportions",void 0),h=Wt(c,"rowProportions",void 0)),(u=function(t,e){return!e||"object"!==jt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,At(e).call(this,t,i,n,r,o,c))).type="rexGridSizer",u.initialGrid(s,a,l,h),u}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Et(t,e)}(e,nt),i=e,(n=[{key:"destroy",value:function(t){this.scene&&(this.gridChildren.length=0,Mt(At(e.prototype),"destroy",this).call(this,t))}},{key:"setColumnProportion",value:function(t,e){return t>=this.columnProportions.length||(this.columnProportions[t]=e),this}},{key:"setRowProportion",value:function(t,e){return t>=this.rowProportions.length||(this.rowProportions[t]=e),this}},{key:"add",value:function(t,i,n,r,o,s){var a;return Mt(At(e.prototype),"add",this).call(this,t),Rt(i)&&(i=Wt(a=i,"column",0),n=Wt(a,"row",0),r=Wt(a,"align",It),o=Wt(a,"padding",0),s=Wt(a,"expand",!1)),"string"==typeof r&&(r=ft[r]),void 0===r&&(r=It),void 0===o&&(o=0),void 0===s&&(s=!0),(a=this.getSizerConfig(t)).parent=this,a.align=r,a.padding=ht(o),a.expand=s,this.gridChildren[n*this.columnCount+i]=t,this}},{key:"remove",value:function(t){var i=this.getSizerConfig(t);return i.parent!==this||(i.parent=void 0,Ft(this.gridChildren,t),void 0!==this.backgroundChildren&&Ft(this.backgroundChildren,t),Mt(At(e.prototype),"remove",this).call(this,t)),this}},{key:"initialGrid",value:function(t,e,i,n){if(this.columnCount=t,this.rowCount=e,this.gridChildren=[],this.gridChildren.length=t*e,this.columnProportions=[],this.columnProportions.length=t,this.columnWidth=[],this.columnWidth.length=t,this.rowProportions=[],this.rowProportions.length=e,this.rowHeight=[],this.rowHeight.length=e,i)for(var r="number"==typeof i,o=0;o<t;o++)if(r)this.setColumnProportion(o,i);else{var s=i[o];s>0&&this.setColumnProportion(o,s)}if(n){var a="number"==typeof n;for(o=0;o<e;o++)if(a)this.setRowProportion(o,n);else{var l=n[o];l>0&&this.setRowProportion(o,l)}}return this}},{key:"totalColumnProportions",get:function(){for(var t,e=0,i=0;i<this.columnCount;i++)(t=this.columnProportions[i])>0&&(e+=t);return e}},{key:"totalRowProportions",get:function(){for(var t,e=0,i=0;i<this.rowCount;i++)(t=this.rowProportions[i])>0&&(e+=t);return e}}])&&Bt(i.prototype,n),e}();Object.assign(Dt.prototype,_t);var Lt=Dt;r.register("gridSizer",(function(t,e,i,n,r,o,s,a){var l=new Lt(this.scene,t,e,i,n,r,o,s,a);return this.scene.add.existing(l),l})),Object(s.a)(window,"RexPlugins.UI.GridSizer",Lt);var zt=function(t){var e=t.rexSizer.padding;return t.width+e.left+e.right},Yt=function(t){var e=t.rexSizer.padding;return t.height+e.top+e.bottom},Ht=function(t,e){return 0===e?zt(t):Yt(t)},Nt=function(t,e){return 0===e?Yt(t):zt(t)},Xt=function(t){for(var e,i,n,r,o={lines:[],width:0,height:0},s=this.sizerChildren,a=0,l=o.lines,h=0,u=s.length;h<u;h++){if("\n"===(e=s[h]))e=void 0,i=0,r=!0;else{if(e.rexSizer.hidden)continue;e.isRexSizer&&e.layout(),r=a<(i=Ht(e,this.orientation))}if(r){if(n){var c=t-(a+this.itemSpacing);o.width=Math.max(o.width,c),o.height+=n.height+this.lineSpacing}n={children:[],remainder:0,height:0},l.push(n),a=t}a-=i+this.itemSpacing,n.remainder=a,e&&(n.children.push(e),n.height=Math.max(n.height,Nt(e,this.orientation)))}return n&&(o.height+=n.height),o},Gt=Phaser.Display.Align.In.QuickSet,Ut={getChildrenWidth:function(){return this.rexSizer.hidden?0:(t=0===this.orientation?this.maxChildWidth:0,t=Math.max(t,this.minWidth));var t},getChildrenHeight:function(){return this.rexSizer.hidden?0:(t=0===this.orientation?0:this.maxChildHeight,t=Math.max(t,this.minHeight));var t},getChildrenSizers:function(t){void 0===t&&(t=[]);for(var e,i=this.sizerChildren,n=0,r=i.length;n<r;n++)"\n"!==(e=i[n])&&e.isRexSizer&&t.push(e);return t},layout:function(t,e,i){if(this.rexSizer.hidden)return this;if(this.layoutInit(t),void 0===e){var n=this.padding;e=Math.max(this.maxChildWidth+n.left+n.right,this.minWidth)}var r;void 0===i&&(n=this.padding,i=Math.max(this.maxChildHeight+n.top+n.bottom,this.minHeight)),n=this.padding,r=0===this.orientation?e-n.left-n.right:i-n.top-n.bottom;var o,s,a=Xt.call(this,r);0===this.orientation?i=Math.max(i,a.height+n.top+n.bottom):e=Math.max(e,a.height+left+n.right),this.resize(e,i);var l,h,u,c,f,p,d,y,g=this.left,v=this.top,m=a.lines;0===this.orientation?(l=g,h=v+this.padding.top):(l=g+this.padding.left,h=v);for(var b=0,w=m.length;b<w;b++){for(var k=0,x=(y=(d=m[b]).children).length;k<x;k++)n=(s=(o=y[k]).rexSizer).padding,0===this.orientation?(u=l+n.left,u+=0===k?this.padding.left:this.itemSpacing,c=h+n.top,f=o.width,p=o.height,l=u+o.width+n.right):(u=l+n.left,c=h+n.top,c+=0===k?this.padding.top:this.itemSpacing,f=o.width,p=o.height,h=c+o.height+n.bottom),N.a.setPosition(u,c).setSize(f,p),Gt(o,N.a,s.align),this.resetChildPositionState(o);0===this.orientation?(l=g,h+=d.height+this.lineSpacing):(l+=d.height+this.lineSpacing,h=v)}return this.layoutBackgrounds(),this}},Vt=function(t){void 0===t&&(t=this.sizerChildren);for(var e,i=0,n=0,r=t.length;n<r;n++)"\n"!==(e=t[n])&&(i=Math.max(i,zt(e)));return i},Kt=function(t){void 0===t&&(t=this.sizerChildren);for(var e,i=0,n=0,r=t.length;n<r;n++)"\n"!==(e=t[n])&&(i=Math.max(i,Yt(e)));return i};function Jt(t){return(Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Qt(t,e,i){return(Qt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=qt(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function qt(t){return(qt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function $t(t,e){return($t=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var te=Phaser.Utils.Objects.IsPlainObject,ee=Phaser.Utils.Objects.GetValue,ie=Phaser.Utils.Array.Remove,ne=Phaser.Display.Align.CENTER,re=function(t){function e(t,i,n,r,o,s,a){var l,h;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),te(i)?(i=ee(h=i,"x",0),n=ee(h,"y",0),r=ee(h,"width",void 0),o=ee(h,"height",void 0)):te(r)?(r=ee(h=r,"width",void 0),o=ee(h,"height",void 0)):te(s)?h=s:te(a)&&(h=a),void 0!==h&&(s=ee(h,"orientation",0),a=ee(h,"space",h)),void 0===s&&(s=0),void 0===a&&(a=0),(l=function(t,e){return!e||"object"!==Jt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,qt(e).call(this,t,i,n,r,o,h))).type="rexFixWidthSizer",l.sizerChildren=[],l.setOrientation(s),l.setPadding(a),l.setItemSpacing(ee(a,"item",0)),l.setLineSpacing(ee(a,"line",0)),l}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&$t(t,e)}(e,nt),i=e,(n=[{key:"destroy",value:function(t){this.scene&&(this.sizerChildren.length=0,Qt(qt(e.prototype),"destroy",this).call(this,t))}},{key:"setOrientation",value:function(t){return"string"==typeof t&&(t=ut[t]),this.orientation=t,this}},{key:"setPadding",value:function(t){return this.padding=ht(t,this.padding),this}},{key:"setItemSpacing",value:function(t){return this.itemSpacing=t,this}},{key:"setLineSpacing",value:function(t){return this.lineSpacing=t,this}},{key:"add",value:function(t,i){if("\n"===t)return this.addNewLine(),this;Qt(qt(e.prototype),"add",this).call(this,t),void 0===i&&(i=0);var n=this.getSizerConfig(t);return n.parent=this,n.align=ne,n.padding=ht(i),this.sizerChildren.push(t),this}},{key:"addNewLine",value:function(){return this.sizerChildren.push("\n"),this}},{key:"insert",value:function(t,e,i,n){return this.add(e,i,n),this.moveTo(e,t),this}},{key:"remove",value:function(t){var i=this.getSizerConfig(t);return i.parent!==this||(i.parent=void 0,ie(this.sizerChildren,t),Qt(qt(e.prototype),"remove",this).call(this,t)),this}},{key:"clear",value:function(t){for(var i,n=this.sizerChildren,r=0,o=n.length;r<o;r++)"\n"!==(i=n[r])&&(this.getSizerConfig(i).parent=void 0);return n.length=0,Qt(qt(e.prototype),"clear",this).call(this,t),this}},{key:"maxChildWidth",get:function(){return void 0===this._maxChildWidth&&(this._maxChildWidth=Vt.call(this)),this._maxChildWidth}},{key:"maxChildHeight",get:function(){return void 0===this._maxChildHeight&&(this._maxChildHeight=Kt.call(this)),this._maxChildHeight}}])&&Zt(i.prototype,n),e}();Object.assign(re.prototype,Ut);var oe=re;r.register("fixWidthSizer",(function(t,e,i,n,r,o){var s=new oe(this.scene,t,e,i,n,r,o);return this.scene.add.existing(s),s})),Object(s.a)(window,"RexPlugins.UI.FixWidthSizer",oe);var se=i(61);function ae(t){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function le(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function he(t,e,i){return(he="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ue(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function ue(t){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ce(t,e){return(ce=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var fe=Phaser.Utils.Objects.GetValue,pe=function(t){function e(t,i){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==ae(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,ue(e).call(this,t,i))).type="rexLabel";var r=fe(i,"background",void 0),o=fe(i,"icon",void 0),s=fe(i,"iconMask",void 0),a=fe(i,"text",void 0),l=fe(i,"action",void 0),h=fe(i,"actionMask",void 0),u=fe(i,"space.left",0),c=fe(i,"space.right",0),f=fe(i,"space.top",0),p=fe(i,"space.bottom",0),d=fe(i,"space.icon",0),y=fe(i,"space.text",0);if(r&&n.addBackground(r),o&&(v=0===n.orientation?{left:u,right:a||l?d:c,top:f,bottom:p}:{left:u,right:c,top:f,bottom:a||l?d:p},n.add(o,0,"center",v),s&&(s=new se.a(o,1),o.setMask(s.createGeometryMask()),n.add(s,null))),a){var g,v,m,b=fe(i,"expandTextWidth",!1),w=fe(i,"expandTextHeight",!1);0===n.orientation?(g=b?1:0,v={left:o?0:u,right:l?y:c,top:f,bottom:p},m=w):(g=w?1:0,v={left:u,right:c,top:o?0:f,bottom:l?y:p},m=b),n.add(a,g,"center",v,m)}return l&&(v=0===n.orientation?{left:o||a?0:u,right:c,top:f,bottom:p}:{left:u,right:c,top:o||a?0:f,bottom:p},n.add(l,0,"center",v),h&&(h=new se.a(l,1),o.setMask(h.createGeometryMask()),n.add(h,null))),n.addChildrenMap("background",r),n.addChildrenMap("icon",o),n.addChildrenMap("iconMask",s),n.addChildrenMap("text",a),n.addChildrenMap("action",l),n.addChildrenMap("actionMask",h),n}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ce(t,e)}(e,St),i=e,(n=[{key:"setText",value:function(t){return this.text=t,this}},{key:"appendText",value:function(t){this.text+=t}},{key:"layout",value:function(t,i,n){he(ue(e.prototype),"layout",this).call(this,t,i,n);var r=this.childrenMap.iconMask;r&&(r.setPosition(),this.resetChildPositionState(r));var o=this.childrenMap.actionMask;return o&&(o.setPosition(),this.resetChildPositionState(o)),this}},{key:"resize",value:function(t,i){he(ue(e.prototype),"resize",this).call(this,t,i);var n=this.childrenMap.iconMask;n&&n.resize();var r=this.childrenMap.actionMask;return r&&r.resize(),this}},{key:"text",get:function(){var t=this.childrenMap.text;return void 0===t?"":t.text?t.text:t.getData("text")},set:function(t){var e=this.childrenMap.text;void 0!==e&&(e.setText?e.setText(t):e.setData("text",t))}}])&&le(i.prototype,n),e}();r.register("label",(function(t){var e=new pe(this.scene,t);return this.scene.add.existing(e),e})),Object(s.a)(window,"RexPlugins.UI.Label",pe);var de=function(t,e,i){return void 0===e&&(e=0),void 0===i&&(i=0),t.add.zone(0,0,e,i)},ye=i(149),ge=function(t,e){t._buttonBehavior=new ye.a(t,e),t._buttonBehavior.on("click",(function(e,i,n){ve.call(this,"button.click",t,n)}),this),t.on("pointerover",(function(e){ve.call(this,"button.over",t,e)}),this).on("pointerout",(function(e){ve.call(this,"button.out",t,e)}),this)},ve=function(t,e,i){var n;if("number"==typeof e){if(n=e,!(e=this.childrenMap.buttons[n]))return}else if(-1===(n=this.childrenMap.buttons.indexOf(e)))return;void 0!==this.groupName?this.eventEmitter.emit(t,e,this.groupName,n,i):this.eventEmitter.emit(t,e,n,i)},me=function(t){ke(t,!1)},be=function(t){ke(t,!0)},we=function(t){return!!t&&!x(t).hidden},ke=function(t,e){t&&(x(t).hidden=e,t.setVisible(!e))},xe={getButton:function(t){var e;return"number"==typeof t?e=this.childrenMap.buttons[t]:(e=t,-1===this.childrenMap.buttons.indexOf(e)&&(e=void 0)),e},emitButtonClick:function(t){return ve.call(this,"button.click",t),this},showButton:function(t){return me(this.getButton(t)),this},hideButton:function(t){return be(this.getButton(t)),this},isButtonShown:function(t){return we(this.getButton(t)),this},forEachButtton:function(t,e){for(var i=this.childrenMap.buttons,n=0,r=i.length;n<r;n++)e?t.call(e,i[n],n,i):t(i[n],n,i);return this}};function Oe(t){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Se(t){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Pe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Te(t,e){return(Te=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ce=Phaser.Utils.Objects.GetValue,_e=function(t){function e(t,i){var n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===i&&(i={}),(n=!(r=Se(e).call(this,t,i))||"object"!==Oe(r)&&"function"!=typeof r?Pe(this):r).type="rexButtons",n.eventEmitter=Ce(i,"eventEmitter",Pe(n)),n.groupName=Ce(i,"groupName",void 0);var o=Ce(i,"background",void 0),s=Ce(i,"buttons",void 0);s&&0===s.length&&(s=void 0);var a=Ce(i,"space",0);if(o&&n.addBackground(o),s){var l,h,u=Ce(i,"align",void 0),c=Ce(i,"click",void 0);"right"!==u&&"bottom"!==u&&"center"!==u||n.add(de(t),1,"center",0,!1);for(var f=0,p=s.length;f<p;f++)l=s[f],h=0===n.orientation?{left:f>=1?a:0,right:0,top:0,bottom:0}:{left:0,right:0,top:f>=1?a:0,bottom:0},n.add(l,0,"center",h,!0),ge.call(Pe(n),l,c);"center"===u&&n.add(de(t),1,"center",0,!1)}return n.addChildrenMap("background",o),n.addChildrenMap("buttons",s||[]),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Te(t,e)}(e,St),e}();Object.assign(_e.prototype,xe);var je,Be=_e;function Me(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}r.register("buttons",(function(t){var e=new Be(this.scene,t);return this.scene.add.existing(e),e})),Object(s.a)(window,"RexPlugins.UI.Buttons",Be);var Ae=(Me(je={getChoice:function(t){return this.childrenMap.choicesSizer.getButton(t)},getAction:function(t){return this.childrenMap.actionsSizer.getButton(t)},emitChoiceClick:function(t){return this.childrenMap.choicesSizer.emitButtonClick(t),this},emitActionClick:function(t){return this.childrenMap.actionsSizer.emitButtonClick(t),this},showChoice:function(t){return this.childrenMap.choicesSizer.showButton(t),this},showAction:function(t){return this.childrenMap.actionsSizer.showButton(t),this},hideChoice:function(t){return this.childrenMap.choicesSizer.hideButton(t),this},hideAction:function(t){return this.childrenMap.actionsSizer.hideButton(t),this},forEachChoice:function(t,e){return this.childrenMap.choicesSizer.forEachButtton(t,e),this}},"forEachChoice",(function(t,e){return this.childrenMap.choicesSizer.forEachButtton(t,e),this})),Me(je,"forEachAction",(function(t,e){return this.childrenMap.actionsSizer.forEachButtton(t,e),this})),je);function Ee(t){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Re(t){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function We(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fe(t,e){return(Fe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ie=Phaser.Utils.Objects.GetValue,De=function(t){function e(t,i){var n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===i&&(i={}),i.orientation=1,(n=!(r=Re(e).call(this,t,i))||"object"!==Ee(r)&&"function"!=typeof r?We(this):r).type="rexDialog",n.eventEmitter=Ie(i,"eventEmitter",We(n));var o=Ie(i,"background",void 0),s=Ie(i,"title",void 0),a=Ie(i,"toolbar",void 0);a&&0===a.length&&(a=void 0);var l,h,u=Ie(i,"content",void 0),c=Ie(i,"description",void 0),f=Ie(i,"choices",void 0);f&&0===f.length&&(f=void 0);var p=Ie(i,"actions",void 0);p&&0===p.length&&(p=void 0);var d,y=Ie(i,"click",void 0),g=Ie(i,"space.left",0),v=Ie(i,"space.right",0),m=Ie(i,"space.top",0),b=Ie(i,"space.bottom",0);if(o&&n.addBackground(o),s&&!a){var w=Ie(i,"align.title","center"),k=Ie(i,"space.title",0),x={left:g,right:v,top:m,bottom:u||c||f||p?k:b},O=Ie(i,"expand.title",!0);n.add(s,0,w,x,O)}if(a&&(d=new Be(t,{groupName:"toolbar",buttons:a,orientation:0,space:Ie(i,"space.toolbarItem",0),click:y,eventEmitter:n.eventEmitter})),a&&!s&&(k=Ie(i,"space.title",0),x={left:g,right:v,top:m,bottom:u||c||f||p?k:b},O=Ie(i,"expand.toolbar",!0),n.add(d,0,"center",x,O)),s&&a){var S=new St(t,{orientation:0});w=Ie(i,"align.title","left"),(O=Ie(i,"expand.title",!0))||"right"!==w&&"center"!==w||S.add(de(t),1,"center",0,!1),x={left:Ie(i,"space.titleLeft",0),right:Ie(i,"space.titleRight",0),top:0,bottom:0},S.add(s,O?1:0,"center",x,O),O||"left"!==w&&"center"!==w||S.add(de(t),1,"center",0,!1),S.add(d,0,"right",0,!1),k=Ie(i,"space.title",0),x={left:g,right:v,top:m,bottom:u||c||f||p?k:b},n.add(S,0,"center",x,!0)}if(u){w=Ie(i,"align.content","center");var P=Ie(i,"space.content",0);x={left:g+Ie(i,"space.contentLeft",0),right:v+Ie(i,"space.contentRight",0),top:s||a?0:m,bottom:c||f||p?P:b},O=Ie(i,"expand.content",!0),n.add(u,0,w,x,O)}if(c){w=Ie(i,"align.description","center");var T=Ie(i,"space.description",0);x={left:g+Ie(i,"space.descriptionLeft",0),right:v+Ie(i,"space.descriptionRight",0),top:s||a||u?0:m,bottom:f||p?T:b},O=Ie(i,"expand.description",!0),n.add(c,0,w,x,O)}if(f){w=Ie(i,"align.choices","center"),l=new Be(t,{groupName:"choices",buttons:f,orientation:1,space:Ie(i,"space.choice",0),click:y,eventEmitter:n.eventEmitter});var C=Ie(i,"space.choices",0);x={left:g+Ie(i,"space.choicesLeft",0),right:v+Ie(i,"space.choicesRight",0),top:s||a||u||c?0:m,bottom:p?C:b},O=Ie(i,"expand.choices",!0),n.add(l,0,w,x,O)}return p&&(h=new Be(t,{groupName:"actions",buttons:p,orientation:0,space:Ie(i,"space.action",0),align:Ie(i,"align.actions","center"),click:y,eventEmitter:n.eventEmitter}),x={left:g+Ie(i,"space.actionsLeft",0),right:v+Ie(i,"space.actionsRight",0),top:s||a||u||c||f?0:m,bottom:b},O=Ie(i,"expand.actions",!0),n.add(h,0,"center",x,O)),n.addChildrenMap("background",o),n.addChildrenMap("title",s),n.addChildrenMap("toolbar",a),n.addChildrenMap("content",u),n.addChildrenMap("choices",f),n.addChildrenMap("actions",p),n.addChildrenMap("choicesSizer",l),n.addChildrenMap("actionsSizer",h),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fe(t,e)}(e,St),e}();Object.assign(De.prototype,Ae);var Le=De;r.register("dialog",(function(t){var e=new Le(this.scene,t);return this.scene.add.existing(e),e})),Object(s.a)(window,"RexPlugins.UI.Dialog",Le);var ze={getButtonsSizer:function(t){return this.childrenMap[t+"ButtonsSizer"]},getButton:function(t,e){var i=this.getButtonsSizer(t);return i?i.getButton(e):void 0},emitButtonClick:function(t,e){var i=this.getButtonsSizer(t);return i?(i.emitButtonClick(e),this):this},emitLeftButtonClick:function(t){return this.childrenMap.leftButtonsSizer.emitButtonClick(t),this},emitRightButtonClick:function(t){return this.childrenMap.rightButtonsSizer.emitButtonClick(t),this},emitTopButtonClick:function(t){return this.childrenMap.topButtonsSizer.emitButtonClick(t),this},emitBottomButtonClick:function(t){return this.childrenMap.bottomButtonsSizer.emitButtonClick(t),this},getLeftButton:function(t){return this.childrenMap.leftButtonsSizer.getButton(t)},getRightButton:function(t){return this.childrenMap.rightButtonsSizer.getButton(t)},getTopButton:function(t){return this.childrenMap.topButtonsSizer.getButton(t)},getBottomButton:function(t){return this.childrenMap.bottomButtonsSizer.getButton(t)},showButton:function(t,e){return me(this.getButton(t,e)),this},showLeftButton:function(t){return me(this.getLeftButton(t)),this},showRightButton:function(t){return me(this.getRightButton(t)),this},showTopButton:function(t){return me(this.getTopButton(t)),this},showBottomButton:function(t){return me(this.getBottomButton(t)),this},hideButton:function(t,e){return be(this.getButton(t,e)),this},hideLeftButton:function(t){return be(this.getLeftButton(t)),this},hideRightButton:function(t){return be(this.getRightButton(t)),this},hideTopButton:function(t){return be(this.getTopButton(t)),this},hideBottomButton:function(t){return be(this.getBottomButton(t)),this},forEachLeftButton:function(t,e){return this.childrenMap.leftButtonsSizer.forEachButtton(t,e),this},forEachRightButton:function(t,e){return this.childrenMap.rightButtonsSizer.forEachButtton(t,e),this},forEachTopButton:function(t,e){return this.childrenMap.topButtonsSizer.forEachButtton(t,e),this},forEachBottomButton:function(t,e){return this.childrenMap.bottomButtonsSizer.forEachButtton(t,e),this}};function Ye(t){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function He(t){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ne(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xe(t,e){return(Xe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Ge=Phaser.Utils.Objects.GetValue,Ue=function(t){function e(t,i){var n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===i&&(i={}),i.column=3,i.row=3,(n=!(r=He(e).call(this,t,i))||"object"!==Ye(r)&&"function"!=typeof r?Ne(this):r).type="rexTabs",n.eventEmitter=Ge(i,"eventEmitter",Ne(n));var o,s=Ge(i,"background",void 0),a=Ge(i,"panel",void 0),l=Ge(i,"leftButtons",void 0);l&&0===l.length&&(l=void 0);var h,u=Ge(i,"rightButtons",void 0);u&&0===u.length&&(u=void 0);var c,f=Ge(i,"topButtons",void 0);f&&0===f.length&&(f=void 0);var p,d=Ge(i,"bottomButtons",void 0);d&&0===d.length&&(d=void 0);var y=Ge(i,"click",void 0),g=Ge(i,"space.left",0),v=Ge(i,"space.right",0),m=Ge(i,"space.top",0),b=Ge(i,"space.bottom",0),w=Ge(i,"space.leftButtonsOffset",0),k=Ge(i,"space.rightButtonsOffset",0),x=Ge(i,"space.topButtonsOffset",0),O=Ge(i,"space.bottomButtonsOffset",0),S=Ge(i,"space.leftButton",0),P=Ge(i,"space.rightButton",0),T=Ge(i,"space.topButton",0),C=Ge(i,"space.bottomButton",0);if(s&&n.addBackground(s),a){var _={left:l?0:g,right:u?0:v,top:f?0:m,bottom:d?0:b};n.add(a,1,1,"center",_,!0)}return l&&(o=new Be(t,{groupName:"left",buttons:l,orientation:1,space:S,align:Ge(i,"align.leftButtons",void 0),click:y,eventEmitter:n.eventEmitter}),_={left:g,top:w},n.add(o,0,1,"top",_,!1)),u&&(h=new Be(t,{groupName:"right",buttons:u,orientation:1,space:P,align:Ge(i,"align.rightButtons",void 0),click:y,eventEmitter:n.eventEmitter}),_={right:v,top:k},n.add(h,2,1,"top",_,!1)),f&&(c=new Be(t,{groupName:"top",buttons:f,orientation:0,space:T,align:Ge(i,"align.topButtons",void 0),click:y,eventEmitter:n.eventEmitter}),_={top:m,left:x},n.add(c,1,0,"left",_,!1)),d&&(p=new Be(t,{groupName:"bottom",buttons:d,orientation:0,space:C,align:Ge(i,"align.bottomButtons",void 0),click:y,eventEmitter:n.eventEmitter}),_={bottom:b,left:O},n.add(p,1,2,"left",_,!1)),n.addChildrenMap("background",s),n.addChildrenMap("panel",a),n.addChildrenMap("leftButtons",l),n.addChildrenMap("rightButtons",u),n.addChildrenMap("topButtons",f),n.addChildrenMap("bottomButtons",d),n.addChildrenMap("leftButtonsSizer",o),n.addChildrenMap("rightButtonsSizer",h),n.addChildrenMap("topButtonsSizer",c),n.addChildrenMap("bottomButtonsSizer",p),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xe(t,e)}(e,Lt),e}();Object.assign(Ue.prototype,ze);var Ve=Ue;r.register("tabs",(function(t){var e=new Ve(this.scene,t);return this.scene.add.existing(e),e})),Object(s.a)(window,"RexPlugins.UI.Tabs",Ve);var Ke=Phaser.Math.Percent,Je=function(t,e,i){var n,r,o;return t.y===e.y?(n=Math.min(t.x,e.x),r=Math.max(t.x,e.x),o=Ke(i.x,n,r)):t.x===e.x&&(n=Math.min(t.y,e.y),r=Math.max(t.y,e.y),o=Ke(i.y,n,r)),o},Ze={},Qe=function(t,e,i){this.enable&&(Ze.x=e,Ze.y=i,this.value=Je(this.getStartPoint(),this.getEndPoint(),Ze))},qe={},$e=function(t,e,i){this.enable&&t.isDown&&(qe.x=t.worldX,qe.y=t.worldY,this.value=Je(this.getStartPoint(),this.getEndPoint(),qe))},ti=Phaser.Display.Align.In.QuickSet,ei={},ii=function(t,e){void 0===e&&(e=ei);var i=this.childrenMap.thumb,n=i.x,r=i.y;return ti(i,this,t),e.x=i.x,e.y=i.y,i.x=n,i.y=r,e},ni=Phaser.Display.Align.LEFT_CENTER,ri=Phaser.Display.Align.TOP_CENTER,oi={},si=Phaser.Display.Align.RIGHT_CENTER,ai=Phaser.Display.Align.BOTTOM_CENTER,li={},hi=Phaser.Math.Linear,ui={},ci=Phaser.Display.Align.In.QuickSet,fi=Phaser.Display.Align.LEFT_CENTER,pi=Phaser.Display.Align.TOP_CENTER;function di(t){return(di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yi(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function gi(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vi(t,e,i){return(vi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=mi(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function mi(t){return(mi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function bi(t,e){return(bi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var wi=Phaser.Utils.Objects.GetValue,ki=Phaser.Math.Clamp,xi=Phaser.Math.Linear,Oi=Phaser.Math.Percent,Si=Phaser.Math.Snap.To,Pi=function(t){function e(t,i){var n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=!(r=mi(e).call(this,t,i))||"object"!==di(r)&&"function"!=typeof r?gi(this):r).type="rexSlider",n.eventEmitter=wi(i,"eventEmitter",gi(n));var o=wi(i,"background",void 0),s=wi(i,"track",void 0),a=wi(i,"indicator",void 0),l=wi(i,"thumb",void 0),h=wi(i,"space.left",0),u=wi(i,"space.right",0),c=wi(i,"space.top",0),f=wi(i,"space.bottom",0);if(o&&n.addBackground(o),s){var p={left:h,right:u,top:c,bottom:f};n.add(s,0,void 0,p,!0)}a&&n.add(a,null),l&&n.add(l,null);var d=wi(i,"input",0);switch("string"==typeof d&&(d=Ti[d]),d){case 0:l&&(l.setInteractive(),n.scene.input.setDraggable(l),l.on("drag",Qe,gi(n)));break;case 1:n.setInteractive().on("pointerdown",$e,gi(n)).on("pointermove",$e,gi(n))}n.addChildrenMap("background",o),n.addChildrenMap("track",s),n.addChildrenMap("indicator",a),n.addChildrenMap("thumb",l);var y=wi(i,"valuechangeCallback",null);if(null!==y){var g=wi(i,"valuechangeCallbackScope",void 0);n.eventEmitter.on("valuechange",y,g)}return n.setEnable(wi(i,"enable",void 0)),n.setGap(wi(i,"gap",void 0)),n.setValue(wi(i,"value",0)),n}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bi(t,e)}(e,St),i=e,(n=[{key:"setEnable",value:function(t){return void 0===t&&(t=!0),this.enable=t,this}},{key:"setGap",value:function(t){return this.gap=t,this}},{key:"setValue",value:function(t,e,i){return null==t||(void 0!==e&&(t=Oi(t,e,i)),this.value=t),this}},{key:"addValue",value:function(t,e,i){return void 0!==e&&(t=Oi(t,e,i)),this.value+=t,this}},{key:"getValue",value:function(t,e){var i=this.value;return void 0!==t&&(i=xi(t,e,i)),i}},{key:"layout",value:function(t,i,n){return vi(mi(e.prototype),"layout",this).call(this,t,i,n),this.updateThumb(),this.updateIndicator(),this}},{key:"value",get:function(){return this._value},set:function(t){void 0!==this.gap&&(t=Si(t,this.gap));var e=this._value;this._value=ki(t,0,1),e!==this._value&&(this.updateThumb(this._value),this.updateIndicator(this._value),this.eventEmitter.emit("valuechange",this._value,e,this.eventEmitter))}}])&&yi(i.prototype,n),e}(),Ti={drag:0,click:1,none:-1},Ci={getStartPoint:function(t){if(void 0===t&&(t=oi),this.childrenMap.thumb){var e=0===this.orientation?ri:ni;ii.call(this,e,t)}else 0===this.orientation?(t.x=this.centerX,t.y=this.top+1):(t.x=this.left+1,t.y=this.centerY);return t},getEndPoint:function(t){if(void 0===t&&(t=li),this.childrenMap.thumb){var e=1===this.orientation?si:ai;ii.call(this,e,t)}else 0===this.orientation?(t.x=this.centerX,t.y=this.bottom-1):(t.x=this.right-1,t.y=this.centerY);return t},updateThumb:function(t){var e=this.childrenMap.thumb;return void 0===e||(void 0===t&&(t=this.value),function(t,e,i,n){void 0===n&&(n=ui),n.x=hi(e.x,i.x,t),n.y=hi(e.y,i.y,t)}(t,this.getStartPoint(),this.getEndPoint(),e),this.resetChildPositionState(e)),this},updateIndicator:function(t){var e,i,n=this.childrenMap.indicator;if(void 0===n)return this;void 0===t&&(t=this.value);var r=this.childrenMap.thumb;r?0===this.orientation?i=r.y-r.displayHeight*r.originY+r.displayHeight-this.top:e=r.x-r.displayWidth*r.originX+r.displayWidth-this.left:0===this.orientation?i=this.height*t:e=this.width*t,Object(H.a)(n,e,i);var o=1===this.orientation?fi:pi;ci(n,this,o),this.resetChildPositionState(n)}};Object.assign(Pi.prototype,Ci);var _i=Pi;r.register("slider",(function(t){var e=new _i(this.scene,t);return this.scene.add.existing(e),e})),Object(s.a)(window,"RexPlugins.UI.Slider",_i);var ji={v:0,vertical:0,h:1,horizontal:1},Bi=Phaser.Utils.Objects.GetValue,Mi=function(t,e){void 0===e&&(e="scrollMode");var i=Bi(t,"scrollMode",0);return"string"==typeof i&&(i=ji[i]),i},Ai=i(160),Ei=Phaser.Utils.Objects.GetValue,Ri=function(t){var e,i,n=this.scene,r=Mi(t),o=new St(n,{orientation:r}),s=Ei(t,"child.gameObject",void 0),a=Ei(t,"slider",void 0),l=Ei(t,"scroller",!0);if(s){var h=Ei(t,"space.child",0);if(this.childPadding={},"number"!=typeof h){var u=h;0===r?(h=Ei(u,"right",0),this.childPadding.top=Ei(u,"top",0),this.childPadding.bottom=Ei(u,"bottom",0)):(h=Ei(u,"bottom",0),this.childPadding.top=Ei(u,"left",0),this.childPadding.bottom=Ei(u,"right",0))}else this.childPadding.top=0,this.childPadding.bottom=0;var c,f=Ei(t,"child.proportion",1),p=Ei(t,"child.expand",!0);c=0===r?{right:a?h:0}:{bottom:a?h:0},o.add(s,f,"center",c,p),a&&(!0===a&&(a={}),a.orientation=o.orientation,e=new _i(n,a),o.add(e,0,"center",0,!0)),l&&(!0===l&&(l={}),l.orientation=r,i=new Ai.a(s,l))}return e&&e.on("valuechange",(function(t){this.t=t}),this),i&&i.on("valuechange",(function(t){this.childOY=t}),this),this.addChildrenMap("child",s),this.addChildrenMap("slider",e),this.addChildrenMap("scroller",i),o};function Wi(t){return(Wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fi(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ii(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Di(t,e,i){return(Di="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Li(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function Li(t){return(Li=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function zi(t,e){return(zi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Yi=Phaser.Utils.Objects.GetValue,Hi=function(t){function e(t,i){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===i&&(i={});var r,o=Mi(i);i.orientation=0===o?1:0,(n=!(r=Li(e).call(this,t,i))||"object"!==Wi(r)&&"function"!=typeof r?Ii(this):r).type=Yi(i,"type","rexScrollable");var s=Yi(i,"background",void 0),a=Ri.call(Ii(n),i),l=Yi(i,"header",void 0),h=Yi(i,"footer",void 0),u=Yi(i,"space.left",0),c=Yi(i,"space.right",0),f=Yi(i,"space.top",0),p=Yi(i,"space.bottom",0);if(s&&n.addBackground(s),l){var d=Yi(i,"align.header","center"),y=Yi(i,"space.header",0);v=0===o?{left:u,right:c,top:f,bottom:y}:{left:u,right:y,top:f,bottom:p};var g=Yi(i,"expand.header",!0);n.add(l,0,d,v,g)}if(a&&(v=0===o?{left:u,right:c,top:l?0:f,bottom:h?0:p}:{left:l?0:u,right:h?0:c,top:f,bottom:p},n.add(a,1,"center",v,!0)),h){d=Yi(i,"align.footer","center");var v,m=Yi(i,"space.footer",0);v=0===o?{left:u,right:c,top:m,bottom:p}:{left:m,right:c,top:f,bottom:p},g=Yi(i,"expand.footer",!0),n.add(h,0,d,v,g)}return n.addChildrenMap("background",s),n.addChildrenMap("header",l),n.addChildrenMap("footer",h),n}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zi(t,e)}(e,St),i=e,(n=[{key:"layout",value:function(t,i,n){return Di(Li(e.prototype),"layout",this).call(this,t,i,n),this.resizeController(),this}},{key:"resizeController",value:function(){var t=this.topChildOY,e=this.bottomChildOY,i=this.childrenMap.scroller,n=this.childrenMap.slider;return i&&i.setBounds(e,t),n&&n.setEnable(e!==t),this.updateController(),this}},{key:"updateController",value:function(){var t=this.childrenMap.scroller,e=this.childrenMap.slider;t&&t.setValue(this.childOY),e&&e.setValue(this.t)}},{key:"setChildOY",value:function(t){return this.childOY=t,this}},{key:"setT",value:function(t){return this.t=t,this}},{key:"scrollToTop",value:function(){return this.t=0,this}},{key:"scrollToBottom",value:function(){return this.t=1,this}},{key:"setSliderEnable",value:function(t){return void 0===t&&(t=!0),this.sliderEnable=t,this}},{key:"setScrollerEnable",value:function(t){return void 0===t&&(t=!0),this.scrollerEnable=t,this}},{key:"t",set:function(t){var e=this.childPadding;if(0!==e.top||0!==e.bottom){var i=this.childrenMap.child,n=i.topChildOY-i.bottomChildOY;t=((n+e.top+e.bottom)*t-e.top)/n}this.childrenMap.child.t=t,this.updateController()},get:function(){var t=this.childrenMap.child.t,e=this.childPadding;if(0!==e.top||0!==e.bottom){var i=this.childrenMap.child,n=i.topChildOY-i.bottomChildOY,r=n+e.top+e.bottom;t=(n*t+e.top)/r}return t}},{key:"childOY",set:function(t){this.childrenMap.child.childOY=t,this.updateController()},get:function(){return this.childrenMap.child.childOY}},{key:"topChildOY",get:function(){return this.childrenMap.child.topChildOY+this.childPadding.top}},{key:"bottomChildOY",get:function(){return this.childrenMap.child.bottomChildOY-this.childPadding.bottom}},{key:"sliderEnable",get:function(){var t=this.childrenMap.slider;if(t)return t.enable},set:function(t){var e=this.childrenMap.slider;e&&e.setEnable(t)}},{key:"scrollerEnable",get:function(){var t=this.childrenMap.scroller;if(t)return t.enable},set:function(t){var e=this.childrenMap.scroller;e&&e.setEnable(t)}}])&&Fi(i.prototype,n),e}(),Ni=i(53),Xi=function(t){t.on("cellvisible",(function(t,e){var i,n=this.createCellContainerCallback,r=this.createCellContainerCallbackScope;t.item=this.items[t.index],(i=r?n.call(r,t,e):n(t,e)).setOrigin&&i.setOrigin(0),i.isRexSizer&&i.layout(),t.item=void 0,t.setContainer(i)}),this)},Gi=function(t,e,i,n,r){var o;if(null!==(o=void 0===r?n:i.pointerToCellIndex(n,r))&&void 0!==o){var s=i.getCellContainer(o);t.emit(e,s,o)}},Ui=function(t){t._click=new ye.a(t,{threshold:10}),t._click.on("click",(function(t,e,i){Gi(this.eventEmitter,"cell.click",e,i.x,i.y)}),this)},Vi=function(t){if(!t.isDown){var e=this.childrenMap.child,i=e.pointerToCellIndex(t.x,t.y);if(i!==this._lastOverCellIndex){var n=this._lastOverCellIndex;this._lastOverCellIndex=i,Gi(this.eventEmitter,"cell.out",e,n),Gi(this.eventEmitter,"cell.over",e,i)}}},Ki=function(){var t=this.childrenMap.child,e=this._lastOverCellIndex;this._lastOverCellIndex=void 0,Gi(this.eventEmitter,"cell.out",t,e)},Ji=function(t){t.on("pointermove",Vi,this).on("pointerover",Vi,this).on("pointerup",Ki,this).on("pointerout",Ki,this)},Zi=i(84).a,Qi=function(t){t._tap=new Zi(t),t._tap.on("tap",(function(t){var e="cell.".concat(t.tapsCount,"tap");Gi(this.eventEmitter,e,t.gameObject,t.x,t.y)}),this)},qi=i(85).a,$i=function(t){t._press=new qi(t),t._press.on("pressstart",(function(t){var e=t.gameObject,i=e.pointerToCellIndex(t.x,t.y);t._cellIndex=i,Gi(this.eventEmitter,"cell.pressstart",e,i)}),this).on("pressend",(function(t){var e=t.gameObject,i=t._cellIndex;t._cellIndex=void 0,Gi(this.eventEmitter,"cell.pressend",e,i)}),this)},tn=function(t){t.setInteractive(),Ui.call(this,t),Ji.call(this,t),Qi.call(this,t),$i.call(this,t)},en=i(9);function nn(t){return(nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rn(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function on(t){return(on=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function sn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function an(t,e){return(an=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ln=Phaser.Utils.Objects.GetValue,hn=function(t){function e(t,i){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===i&&(i={});var r=Mi(i),o=ln(i,"table",void 0);void 0===o&&(o={}),o.scrollMode=r,o.clamplTableOXY=ln(i,"clamplChildOY",!1);var s,a,l=ln(o,"width",void 0),h=ln(o,"height",void 0),u=new Ni.a(t,0,0,l,h,o);0===r?(s=void 0===l?1:0,a=void 0===h):(s=void 0===h?1:0,a=void 0===l),function(t){Object.defineProperty(t,"childOY",{configurable:!0,get:function(){return t.tableOY},set:function(e){t.tableOY=e}}),Object.defineProperty(t,"topChildOY",{get:function(){return t.topTableOY}}),Object.defineProperty(t,"bottomChildOY",{get:function(){return t.bottomTableOY}})}(u),i.type="rexGridTable",i.child={gameObject:u,proportion:s,expand:a};var c,f=ln(i,"space",void 0);f&&(f.child=f.table),(n=!(c=on(e).call(this,t,i))||"object"!==nn(c)&&"function"!=typeof c?sn(this):c).addChildrenMap("table",u),n.eventEmitter=ln(i,"eventEmitter",sn(n));var p=ln(i,"createCellContainerCallback",en.a),d=ln(i,"createCellContainerCallbackScope",void 0);return n.setCreateCellContainerCallback(p,d),Xi.call(sn(n),u),ln(o,"interactive",!0)&&tn.call(sn(n),u),n.setItems(ln(i,"items",[])),n}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&an(t,e)}(e,Hi),i=e,(n=[{key:"setCreateCellContainerCallback",value:function(t,e){return this.createCellContainerCallback=t,this.createCellContainerCallbackScope=e,this}},{key:"refresh",value:function(){return this.childrenMap.child.updateTable(!0),this}}])&&rn(i.prototype,n),e}(),un={setItems:function(t){void 0===t?this.items.length=0:this.items=t;var e=this.childrenMap.child;return e.setCellsCount(this.items.length),e.updateTable(!0),this.resizeController(),this}};Object.assign(hn.prototype,un);var cn=hn;function fn(t){return(fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pn(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function dn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yn(t,e,i){return(yn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=gn(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function gn(t){return(gn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vn(t,e){return(vn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}r.register("gridTable",(function(t){var e=new cn(this.scene,t);return this.scene.add.existing(e),e})),Object(s.a)(window,"RexPlugins.UI.GridTable",cn);var mn=Phaser.Utils.Objects.GetValue,bn=function(t){function e(t,i){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===i&&(i={}),i.hasOwnProperty("orientation")||(i.orientation=1);var r,o=mn(i,"items",void 0),s=mn(i,"createButtonCallback",void 0),a=mn(i,"createButtonCallbackScope",void 0);if(i.buttons=function(t,e,i,n){var r,o,s=[];if(e&&i)for(var a=0,l=e.length;a<l;a++)(r=e[a]).scene=t,o=n?i.call(n,r,a):i(r,a),r.scene=void 0,s.push(o);return s}(t,o,s,a),(n=!(r=gn(e).call(this,t,i))||"object"!==fn(r)&&"function"!=typeof r?dn(this):r).type="rexMenu",n.items=o,n.root=mn(i,"root",dn(n)),n.root===dn(n)){if(n.expandEventName=mn(i,"expandEvent","button.click"),n.easeIn=mn(i,"easeIn",void 0),n.easeOut=mn(i,"easeOut",void 0),n.bounds=mn(i,"bounds",void 0),n.expandOrientation=mn(i,"expandOrientation",void 0),void 0===n.expandOrientation){var l=n.bounds;void 0===l&&(l=Object(O.a)(t)),0===n.orientation?n.expandOrientation=n.y<l.centerY?1:3:n.expandOrientation=n.x<l.centerX?0:2}n.createButtonCallback=s,n.createButtonCallbackScope=a,n.isPassedEvent=!1}n.setOrigin(0).layout();var h=mn(i,"parent",void 0);if(h)switch(n.root.expandOrientation){case 0:n.alignTop(h.top).alignLeft(h.right);break;case 1:n.alignLeft(h.left).alignTop(h.bottom);break;case 2:n.alignTop(h.top).alignRight(h.left);break;case 3:n.alignLeft(h.left).alignBottom(h.top)}return n.pushIntoBounds(n.root.bounds),function(t){t.on(t.root.expandEventName,(function(t,e){if(!this.isPassedEvent){var i=this.items[e].children;i&&this.expandSubMenu(t,i)}}),t).on("button.click",(function(t,e){this!==this.root&&(this.root.isPassedEvent=!0,this.root.emit("button.click",t,e),this.root.isPassedEvent=!1)}),t).on("button.over",(function(t,e){this!==this.root&&(this.root.isPassedEvent=!0,this.root.emit("button.over",t,e),this.root.isPassedEvent=!1)}),t).on("button.out",(function(t,e){this!==this.root&&(this.root.isPassedEvent=!0,this.root.emit("button.out",t,e),this.root.isPassedEvent=!1)}),t)}(dn(n)),n.root.easeIn&&n.popUp(n.root.easeIn),n}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vn(t,e)}(e,Be),i=e,(n=[{key:"isInTouching",value:function(t){return!!yn(gn(e.prototype),"isInTouching",this).call(this,t)||!!this.childrenMap.subMenu&&this.childrenMap.subMenu.isInTouching(t)}}])&&pn(i.prototype,n),e}();Object.assign(bn.prototype,{expandSubMenu:function(t,e){this.collapseSubMenu();var i=new this.constructor(this.scene,{items:e,orientation:this.orientation,createButtonCallback:this.root.createButtonCallback,createButtonCallbackScope:this.root.createButtonCallbackScope,easeIn:this.root.easeIn,easeOut:this.root.easeOut,root:this.root,parent:t});return this.add(i,null),this.childrenMap.subMenu=i,this},collapse:function(){return this.root.easeOut?this.scaleDownDestroy(this.root.easeOut):this.destroy(),this.collapseSubMenu(),this},collapseSubMenu:function(){if(void 0===this.childrenMap.subMenu)return this;var t=this.childrenMap.subMenu;return this.childrenMap.subMenu=void 0,this.remove(t),t.collapse(),this}});var wn=bn;r.register("menu",(function(t){var e=new wn(this.scene,t);return this.scene.add.existing(e),e})),Object(s.a)(window,"RexPlugins.UI.Menu",wn);var kn=i(162),xn=i(163);function On(t){return(On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sn(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Pn(t){return(Pn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Tn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cn(t,e){return(Cn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _n=Phaser.Utils.Objects.GetValue,jn=function(t){function e(t,i){var n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===i&&(i={text:Bn(t)}),(n=!(r=Pn(e).call(this,t,i))||"object"!==On(r)&&"function"!=typeof r?Tn(this):r).type="rexTextBox";var o=n.childrenMap.text;return n.page=new kn.a(o,_n(i,"page",void 0)),n.typing=new xn.a(o,_n(i,"type",void 0)),n.typing.on("complete",n.onPageEnd,Tn(n)).on("type",n.onType,Tn(n)),n.textWidth=o.width,n.textHeight=o.height,n}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Cn(t,e)}(e,pe),i=e,(n=[{key:"start",value:function(t,e){return this.page.setText(t),void 0!==e&&this.typing.setTypeSpeed(e),this.typeNextPage(),this}},{key:"typeNextPage",value:function(){if(this.page.isLastPage)this.emit("complete");else{var t=this.page.getNextPage();this.typing.start(t)}return this}},{key:"pause",value:function(){return this.typing.pause(),this}},{key:"resume",value:function(){return this.typing.resume(),this}},{key:"stop",value:function(t){return this.typing.stop(t),this}},{key:"onType",value:function(){var t=this.childrenMap.text;this.textWidth===t.width&&this.textHeight===t.height||(this.textWidth=t.width,this.textHeight=t.height,this.getTopmostSizer().layout()),this.emit("type")}},{key:"onPageEnd",value:function(){this.emit("pageend")}},{key:"isTyping",get:function(){return this.typing.isTyping}},{key:"isLastPage",get:function(){return this.page.isLastPage}},{key:"isFirstPage",get:function(){return this.page.isFirstPage}},{key:"pageCount",get:function(){return this.page.pageCount}},{key:"pageIndex",get:function(){return this.page.pageIndex}}])&&Sn(i.prototype,n),e}(),Bn=function(t){return t.add.text(0,0,"",{wordWrap:{width:200},maxLines:5})},Mn=jn;function An(t){return(An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function En(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Rn(t){return(Rn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Wn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fn(t,e){return(Fn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}r.register("textBox",(function(t){var e=new Mn(this.scene,t);return this.scene.add.existing(e),e})),Object(s.a)(window,"RexPlugins.UI.TextBox",Mn);var In=Phaser.Utils.Objects.GetValue,Dn=Phaser.Math.Percent,Ln=Phaser.Math.Linear,zn=function(t){function e(t,i){var n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=!(r=Rn(e).call(this,t,i))||"object"!==An(r)&&"function"!=typeof r?Wn(this):r).type="rexNumberBar";var o,s,a,l=In(i,"background",void 0),h=In(i,"icon",void 0),u=In(i,"iconMask",void 0),c=In(i,"slider",void 0),f=In(i,"text",void 0),p=In(i,"space.left",0),d=In(i,"space.right",0),y=In(i,"space.top",0),g=In(i,"space.bottom",0),v=In(i,"space.icon",0),m=In(i,"space.slider",0);l&&n.addBackground(l),h&&(s=0===n.orientation?{left:p,right:c||f?v:d,top:y,bottom:g}:{left:p,right:d,top:y,bottom:c||f?v:g},n.add(h,0,"center",s),u&&(u=new se.a(h,1),h.setMask(u.createGeometryMask()),n.add(u,null))),c&&(c.orientation=0==n.orientation?1:0,c.eventEmitter=Wn(n),c.value=null,c.hasOwnProperty("input")||(c.input=-1),o=new _i(t,c),s=0===n.orientation?{left:h?0:p,right:f?m:d,top:y,bottom:g}:{left:p,right:d,top:h?0:y,bottom:f?m:g},a=0===n.orientation?void 0===In(c,"width",void 0)?1:0:void 0===In(c,"height",void 0)?1:0,n.add(o,a,"center",s)),f&&(s=0===n.orientation?{left:h||c?0:p,right:d,top:y,bottom:g}:{left:p,right:d,top:h||c?0:y,bottom:g},n.add(f,0,"center",s)),n.addChildrenMap("background",l),n.addChildrenMap("icon",h),n.addChildrenMap("slider",o),n.addChildrenMap("text",f);var b=In(i,"valuechangeCallback",null);if(null!==b){var w=In(i,"valuechangeCallbackScope",void 0);n.on("valuechange",b,w)}return n.setEnable(In(i,"enable",void 0)),n.setValue(In(i,"value",0)),n}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fn(t,e)}(e,St),i=e,(n=[{key:"setEnable",value:function(t){return this.childrenMap.slider||(void 0===t&&(t=!0),this.childrenMap.slider.enable=t),this}},{key:"setValue",value:function(t,e,i){return void 0!==e&&(t=Dn(t,e,i)),this.value=t,this}},{key:"addValue",value:function(t,e,i){return void 0!==e&&(t=Dn(t,e,i)),this.value+=t,this}},{key:"getValue",value:function(t,e){var i=this.value;return void 0!==t&&(i=Ln(t,e,i)),i}},{key:"setText",value:function(t){return this.text=t,this}},{key:"value",get:function(){return this.childrenMap.slider?this.childrenMap.slider.value:0},set:function(t){this.childrenMap.slider&&(this.childrenMap.slider.value=t)}},{key:"text",get:function(){var t=this.childrenMap.text;return void 0===t?"":t.text?t.text:t.getData("text")},set:function(t){var e=this.childrenMap.text;void 0!==e&&(e.setText?e.setText(t):e.setData("text",t))}}])&&En(i.prototype,n),e}();r.register("numberBar",(function(t){var e=new zn(this.scene,t);return this.scene.add.existing(e),e})),Object(s.a)(window,"RexPlugins.UI.NumberBar",zn);var Yn=Phaser.Utils.Objects.IsPlainObject,Hn=Phaser.Display.Align.TOP_LEFT,Nn=function(t,e){var i,n=e.rexSizer,r=n.padding;return n.expand&&(i=t.width-r.left-r.right),i},Xn=function(t,e){var i,n=e.rexSizer,r=n.padding;return n.expand&&(i=t.height-r.top-r.bottom),i},Gn=Phaser.Display.Align.In.QuickSet,Un={addPage:function(t,e,i,n,r){if(Yn(e)){var o=e;e=GetValue(o,"key",0),i=GetValue(o,"align",Hn),n=GetValue(o,"padding",0),r=GetValue(o,"expand",!1)}return"string"==typeof i&&(i=ft[i]),void 0===i&&(i=ALIGN_CENTER),void 0===n&&(n=0),void 0===r&&(r=!0),(o=this.getSizerConfig(t)).parent=this,o.align=i,o.padding=ht(n),o.expand=r,this.sizerChildren.has(e)&&this.sizerChildren.get(e).destroy(),this.sizerChildren.set(e,t),t.setVisible(!1),this.add(t),this},getPage:function(t){return void 0===t?null:this.sizerChildren.has(t)?this.sizerChildren.get(t):null},swapPage:function(t){this._previousKey=this._currentKey;var e=this.previousPage;e&&(0===this.swapMode?(e.setVisible(!1),this.resetChildVisibleState(e),this.emit("pageinvisible",e,this._previousKey,this)):e.destroy()),t&&!this.sizerChildren.has(t)&&this.emit("createpage",t,this),this._currentKey=t;var i=this.currentPage;return i&&(i.setVisible(!0),this.resetChildVisibleState(i),this.emit("pagevisible",i,this._currentKey,this)),this},getChildrenWidth:function(){if(this.rexSizer.hidden)return 0;var t,e,i,n=0,r=this.sizerChildren.entries;for(var o in r)i=(t=r[o]).isRexSizer?Math.max(t.minWidth,t.childrenWidth):t.width,i+=(e=t.rexSizer.padding).left+e.right,n=Math.max(i,n);return n},getChildrenHeight:function(){if(this.rexSizer.hidden)return 0;var t,e,i,n=0,r=this.sizerChildren.entries;for(var o in r)i=(t=r[o]).isRexSizer?Math.max(t.minHeight,t.childrenHeight):t.height,i+=(e=t.rexSizer.padding).top+e.bottom,n=Math.max(i,n);return n},getChildrenSizers:function(t){void 0===t&&(t=[]);var e,i=this.sizerChildren.entries;for(var n in i)(e=i[n]).isRexSizer&&t.push(e);return t},layout:function(t,e,i){if(this.rexSizer.hidden)return this;var n,r,o;this.layoutInit(t),void 0===e&&(e=Math.max(this.childrenWidth,this.minWidth)),void 0===i&&(i=Math.max(this.childrenHeight,this.minHeight)),this.resize(e,i);var s,a,l,h,u,c,f=this.left,p=this.top,d=this.pages;for(var y in d)o=(r=(n=d[y]).rexSizer).padding,n.isRexSizer?n.layout(this,Nn(this,n),Xn(this,n)):(u=void 0,c=void 0,r.expand&&(c=this.height-o.top-o.bottom,u=this.width-o.left-o.right),Object(H.a)(n,u,c)),s=f+o.left,l=this.width-o.left-o.right,a=p+o.top,h=this.height-o.top-o.bottom,N.a.setPosition(s,a).setSize(l,h),Gn(n,N.a,r.align),this.resetChildPositionState(n);return this.layoutBackgrounds(),this},_layoutInit:function(){this._childrenWidth=void 0,this._childrenHeight=void 0}};function Vn(t){return(Vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kn(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Jn(t,e,i){return(Jn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Zn(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function Zn(t){return(Zn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Qn(t,e){return(Qn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var qn=Phaser.Utils.Objects.IsPlainObject,$n=Phaser.Utils.Objects.GetValue,tr=Phaser.Structs.Map,er=function(t){function e(t,i,n,r,o,s){var a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),qn(i)?(i=$n(s=i,"x",0),n=$n(s,"y",0),r=$n(s,"width",void 0),o=$n(s,"height",void 0)):qn(r)&&(r=$n(s=r,"width",void 0),o=$n(s,"height",void 0)),(a=function(t,e){return!e||"object"!==Vn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,Zn(e).call(this,t,i,n,r,o,s))).type="rexPages",a._previousKey=void 0,a._currentKey=void 0,a.sizerChildren=new tr,a.setSwapMode($n(s,"swapMode",0)),a.addChildrenMap("pages",a.pages),a}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qn(t,e)}(e,nt),i=e,(n=[{key:"destroy",value:function(t){this.scene&&(this.sizerChildren.clear(),Jn(Zn(e.prototype),"destroy",this).call(this,t))}},{key:"setSwapMode",value:function(t){return"string"==typeof t&&(t=ir[t]),this.swapMode=t,this}},{key:"previousKey",get:function(){return this._previousKey}},{key:"currentKey",get:function(){return this._currentKey},set:function(t){this.swapPage(t)}},{key:"currentPage",get:function(){return this.getPage(this.currentKey)}},{key:"previousPage",get:function(){return this.getPage(this.previousKey)}},{key:"keys",get:function(){return this.sizerChildren.keys()}},{key:"pages",get:function(){return this.sizerChildren.entries}}])&&Kn(i.prototype,n),e}();Object.assign(er.prototype,Un);var ir={invisible:0,destroy:1},nr=er;r.register("pages",(function(t,e,i,n,r){var o=new nr(this.scene,t,e,i,n,r);return this.scene.add.existing(o),o})),Object(s.a)(window,"RexPlugins.UI.Pages",nr);var rr=i(150),or=Phaser.Display.Align.TOP_LEFT,sr=function(t){return(t-this.textLineSpacing)/(this.textLineHeight+this.textLineSpacing)},ar=function(t){return t*(this.textLineHeight+this.textLineSpacing)-this.textLineSpacing},lr=function(t){var e,i=t+this.textObject.style.maxLines;if(0===this.textObjectType)e=this.lines.slice(t,i).join("\n");else{var n=this.lines.getLineStartIndex(t),r=this.lines.getLineEndIndex(i-1);e=this.lines.getSliceTagText(n,r,!0)}return e},hr=function(){var t=this.textObject.rexSizer;this.textObject.y+=t.offsetY-t.preOffsetY,t.preOffsetY=t.offsetY,this.resetChildPositionState(this.textObject)},ur=function(t,e,i){if(t.width!==e||t.height!==i){t.setFixedSize(e,i);var n=t.style,r=Math.max(e,0),o=Math.ceil(sr.call(this,i))+1;0===this.textObjectType?(n.wordWrapWidth=r,n.maxLines=o):(n.wrapWidth=r,n.maxLines=o),this.setText()}},cr=Phaser.Display.Align.In.QuickSet,fr={setTextObject:function(t,e,i){void 0===i&&(i=!0),this.add(t),void 0===e&&(e=0);var n=this.getSizerConfig(t);return n.parent=this,n.align=or,n.padding=ht(e),n.expand=!0,this.textObject=t,this.textObjectType=Object(rr.a)(t)?0:1,n.preOffsetY=0,n.offsetY=0,i&&(this.textMask=new se.a(this.textObject),this.textObject.setMask(this.textMask.createGeometryMask()),this.add(this.textMask)),this},setText:function(t){return void 0!==t&&(this.text=t),0===this.textObjectType?this.lines=this.textObject.getWrappedText(this.text):this.lines=this.textObject.getPenManager(this.text,this.lines),this.updateTextObject(),this},updateTextObject:function(){var t=Math.max(Math.floor(sr.call(this,-this.textOY)),0),e=ar.call(this,t)+this.textOY;return this.textObject.setText(lr.call(this,t)),this.textObject.rexSizer.offsetY=e,hr.call(this),this},layout:function(t,e,i){if(this.rexSizer.hidden)return this;var n,r,o;this.layoutInit(t),void 0===e&&(e=this.minWidth),void 0===i&&(i=this.minHeight),this.resize(e,i);var s,a,l,h,u=this.left,c=this.top;return(n=this.textObject).rexSizer.hidden||(s=u+(o=(r=n.rexSizer).padding).left,a=c+o.top,l=this.width-o.left-o.right,h=this.height-o.top-o.bottom,ur.call(this,n,l,h),N.a.setPosition(s,a).setSize(l,h),cr(n,N.a,r.align),this.textMask&&(this.textMask.setPosition().resize(),this.resetChildPositionState(this.textMask)),r.preOffsetY=0,hr.call(this)),this.layoutBackgrounds(),this}};function pr(t){return(pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dr(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function yr(t,e,i){return(yr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=gr(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function gr(t){return(gr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vr(t,e){return(vr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var mr=Phaser.Utils.Objects.IsPlainObject,br=Phaser.Utils.Objects.GetValue,wr=function(t){function e(t,i,n,r,o,s){var a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),mr(i)?(i=br(s=i,"x",0),n=br(s,"y",0),r=br(s,"width",void 0),o=br(s,"height",void 0)):mr(r)&&(r=br(s=r,"width",void 0),o=br(s,"height",void 0)),(a=function(t,e){return!e||"object"!==pr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,gr(e).call(this,t,i,n,r,o,s))).type="rexTextBlock",a.textObject=void 0,a.textMask=void 0,a.textObjectType=void 0,a.lines=void 0,a.text=br(s,"content",""),a._textOY=0,a.execeedTopState=!1,a.execeedBottomState=!1,a.setClampMode(br(s,"clamplTextOY",!0));var l=br(s,"background",void 0),h=br(s,"text",void 0);void 0===h&&(h=kr(t));var u=br(s,"textMask",!0),c=br(s,"space",void 0);return l&&a.addBackground(l),a.setTextObject(h,c,u),a}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vr(t,e)}(e,nt),i=e,(n=[{key:"destroy",value:function(t){this.scene&&(this.textObject=void 0,this.textMask=void 0,void 0===this.lines||(0===this.textObjectType?this.lines.length=0:this.lines.destroy()),yr(gr(e.prototype),"destroy",this).call(this,t))}},{key:"setClampMode",value:function(t){return this.clampTextOYMode=t,this}},{key:"textOYExceedTop",value:function(t){return void 0===t&&(t=this.textOY),t>this.topTextOY}},{key:"textOYExeceedBottom",value:function(t){return void 0===t&&(t=this.textOY),t<this.bottomTextOY}},{key:"setTextOY",value:function(t){return this.textOY=t,this}},{key:"setTextOYByPercentage",value:function(t){return this.t=t,this}},{key:"textLineHeight",get:function(){var t=this.textObject.style;return t.metrics.fontSize+t.strokeThickness}},{key:"textLineSpacing",get:function(){return this.textObject.lineSpacing}},{key:"linesCount",get:function(){return void 0===this.lines?0:0===this.textObjectType?this.lines.length:this.lines.linesCount}},{key:"visibleLinesCount",get:function(){return Math.floor(sr.call(this,this.textObject.height))}},{key:"topTextOY",get:function(){return 0}},{key:"bottomTextOY",get:function(){return-this.textVisibleHeight}},{key:"textHeight",get:function(){return ar.call(this,this.linesCount)}},{key:"textObjectHeight",get:function(){return this.textObject.height}},{key:"textVisibleHeight",get:function(){var t=this.textHeight,e=this.textObjectHeight;return t>e?t-e:0}},{key:"textOY",get:function(){return this._textOY},set:function(t){var e=this.topTextOY,i=this.bottomTextOY,n=this.textOYExceedTop(t),r=this.textOYExeceedBottom(t);this.clampTextOYMode&&(this.visibleLinesCount>this.linesCount?t=0:n?t=e:r&&(t=i)),this._textOY!==t&&(this._textOY=t,this.updateTextObject()),n&&(this.execeedTopState||this.emit("execeedtop",this,t,e)),this.execeedTopState=n,r&&(this.execeedBottomState||this.emit("execeedbottom",this,t,i)),this.execeedBottomState=r}},{key:"t",set:function(t){this.textOY=-this.textVisibleHeight*t},get:function(){var t=this.textVisibleHeight;return 0===t?0:this.textOY/-t}}])&&dr(i.prototype,n),e}(),kr=function(t){return t.add.text(0,0,"")};Object.assign(wr.prototype,fr);var xr=wr;function Or(t){return(Or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sr(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Pr(t){return(Pr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Tr(t,e){return(Tr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}r.register("textBlock",(function(t,e,i,n,r,o){var s=new xr(this.scene,t,e,i,n,r,o);return this.scene.add.existing(s),s})),Object(s.a)(window,"RexPlugins.UI.TextBlock",xr);var Cr=Phaser.Utils.Objects.GetValue,_r=function(t){function e(t,i){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===i&&(i={});var r=Cr(i,"text",void 0),o=Cr(i,"textWidth",void 0),s=Cr(i,"textHeight",void 0),a=Cr(i,"textMask",!0),l=Cr(i,"content",""),h=new xr(t,{width:o,height:s,text:r,textMask:a,content:l,clamplTextOY:Cr(i,"clamplChildOY",!1)}),u=void 0===o?1:0,c=void 0===s;(function(t){Object.defineProperty(t,"childOY",{configurable:!0,get:function(){return t.textOY},set:function(e){t.textOY=e}}),Object.defineProperty(t,"topChildOY",{get:function(){return t.topTextOY}}),Object.defineProperty(t,"bottomChildOY",{get:function(){return t.bottomTextOY}})})(h),i.scrollMode=0,i.type="rexTextArea",i.child={gameObject:h,proportion:u,expand:c};var f=Cr(i,"space",void 0);return f&&(f.child=f.text),(n=function(t,e){return!e||"object"!==Or(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,Pr(e).call(this,t,i))).addChildrenMap("text",r),n}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tr(t,e)}(e,Hi),i=e,(n=[{key:"text",get:function(){return this.childrenMap.child.text}},{key:"linesCount",get:function(){return this.childrenMap.child.linesCount}}])&&Sr(i.prototype,n),e}(),jr={setText:function(t){return this.childrenMap.child.setText(t),this.resizeController(),this},appendText:function(t){return this.setText(this.text+t),this}};Object.assign(_r.prototype,jr);var Br=_r;r.register("textArea",(function(t){var e=new Br(this.scene,t);return this.scene.add.existing(e),e})),Object(s.a)(window,"RexPlugins.UI.TextArea",Br);var Mr=Phaser.Utils.Objects.GetValue,Ar=Phaser.Display.Align.TOP_LEFT,Er=i(118),Rr=i(58),Wr={setChild:function(t,e,i){t.setOrigin&&t.setOrigin(0),this.add(t);var n,r,o=this.getSizerConfig(t);if(o.parent=this,o.align=Ar,o.expand=e,this.child=t,!0===i?(n=!0,r=0):!1===i?n=!1:(n=Mr(i,"mask",!0),r=Mr(i,"padding",0)),n){var s=new se.a(this,0,r);this.childMask=s.createGeometryMask(),this.add(s)}return this},getChildrenWidth:function(){if(this.rexSizer.hidden)return 0;var t=this.child;return t.rexSizer.hidden?0:0===this.scrollMode?t.isRexSizer?Math.max(t.minWidth,t.childrenWidth):t.width:0},getChildrenHeight:function(){if(this.rexSizer.hidden)return 0;var t=this.child;return t.rexSizer.hidden||0===this.scrollMode?0:t.isRexSizer?Math.max(t.minHeight,t.childrenHeight):t.height},resetChildPosition:function(){var t=this.left,e=this.top;0===this.scrollMode?e+=this.childOY:t+=this.childOY,this.child.setPosition(t,e),Object(Er.a)(this,this.childMask,this.child.getAllChildren()),this.resetChildPositionState(this.child)},layout:function(t,e,i){if(this.rexSizer.hidden)return this;this.layoutInit(t),void 0===e&&(e=Math.max(this.childrenWidth,this.minWidth)),void 0===i&&(i=Math.max(this.childrenHeight,this.minHeight)),this.resize(e,i);var n,r,o=this.child;if(!o.rexSizer.hidden&&(0===this.scrollMode?n=this.width:r=this.height,o.isRexSizer?o.layout(this,n,r):Object(H.a)(o,n,r),this.resetChildPosition(),this.childMask)){var s=Object(Rr.a)(this.childMask);s.setPosition().resize(),this.resetChildPositionState(s)}return this}};function Fr(t){return(Fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ir(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Dr(t,e,i){return(Dr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Lr(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function Lr(t){return(Lr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function zr(t,e){return(zr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Yr=Phaser.Utils.Objects.IsPlainObject,Hr=Phaser.Utils.Objects.GetValue,Nr=function(t){function e(t,i,n,r,o,s){var a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Yr(i)?(i=Hr(s=i,"x",0),n=Hr(s,"y",0),r=Hr(s,"width",void 0),o=Hr(s,"height",void 0)):Yr(r)&&(r=Hr(s=r,"width",void 0),o=Hr(s,"height",void 0)),(a=function(t,e){return!e||"object"!==Fr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,Lr(e).call(this,t,i,n,r,o,s))).type="rexScrollableBlock",a.child=void 0,a.childMask=void 0,a._childOY=0,a.execeedTopState=!1,a.execeedBottomState=!1,a.setScrollMode(Hr(s,"scrollMode",!0)),a.setClampMode(Hr(s,"clamplChildOY",!0));var l=Hr(s,"child",void 0),h=Hr(s,"expand",!0),u=Hr(s,"mask",void 0);return a.setChild(l,h,u),a}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zr(t,e)}(e,nt),i=e,(n=[{key:"destroy",value:function(t){this.scene&&(this.child=void 0,this.childMask&&(this.childMask.destroy(),this.childMask=void 0),Dr(Lr(e.prototype),"destroy",this).call(this,t))}},{key:"setScrollMode",value:function(t){return"string"==typeof t&&(t=ji[t.toLowerCase()]),this.scrollMode=t,this}},{key:"setClampMode",value:function(t){return this.clampChildOYMode=t,this}},{key:"childOYExceedTop",value:function(t){return void 0===t&&(t=this.childOY),t>this.topChildOY}},{key:"childOYExeceedBottom",value:function(t){return void 0===t&&(t=this.childOY),t<this.bottomChildOY}},{key:"setChildOY",value:function(t){return this.childOY=t,this}},{key:"setChildOYByPercentage",value:function(t){return this.t=t,this}},{key:"instHeight",get:function(){return 0===this.scrollMode?this.height:this.width}},{key:"instWidth",get:function(){return 0===this.scrollMode?this.width:this.height}},{key:"childHeight",get:function(){return 0===this.scrollMode?this.child.height:this.child.width}},{key:"childWidth",get:function(){return 0===this.scrollMode?this.child.width:this.child.height}},{key:"topChildOY",get:function(){return 0}},{key:"bottomChildOY",get:function(){return-this.visibleHeight}},{key:"visibleHeight",get:function(){var t=this.childHeight,e=this.instHeight;return t>e?t-e:0}},{key:"childOY",get:function(){return this._childOY},set:function(t){var e=this.topChildOY,i=this.bottomChildOY,n=this.childOYExceedTop(t),r=this.childOYExeceedBottom(t);this.clampChildOYMode&&(this.instHeight>this.childHeight?t=0:n?t=e:r&&(t=i)),this._childOY!==t&&(this._childOY=t,this.resetChildPosition()),n&&(this.execeedTopState||this.emit("execeedtop",this,t,e)),this.execeedTopState=n,r&&(this.execeedBottomState||this.emit("execeedbottom",this,t,i)),this.execeedBottomState=r}},{key:"t",set:function(t){this.childOY=-this.visibleHeight*t},get:function(){var t=this.visibleHeight;return 0===t?0:this.childOY/-t}}])&&Ir(i.prototype,n),e}();Object.assign(Nr.prototype,Wr);var Xr=Nr;function Gr(t){return(Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ur(t){return(Ur=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Vr(t,e){return(Vr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}r.register("scrollableBlock",(function(t){var e=new Xr(this.scene,t);return this.scene.add.existing(e),e})),Object(s.a)(window,"RexPlugins.UI.ScrollableBlock",Xr);var Kr=Phaser.Utils.Objects.GetValue,Jr=function(t){function e(t,i){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===i&&(i={});var r=Mi(i),o=Kr(i,"panel",void 0);void 0===o&&(o={}),o.scrollMode=r,o.clamplChildOY=Kr(i,"clamplChildOY",!1);var s,a,l=new Xr(t,o),h=Kr(o,"width",void 0),u=Kr(o,"height",void 0);0===r?(s=void 0===h?1:0,a=void 0===u):(s=void 0===u?1:0,a=void 0===h),i.type="rexScrollablePanel",i.child={gameObject:l,proportion:s,expand:a};var c=Kr(i,"space",void 0);return c&&(c.child=c.panel),(n=function(t,e){return!e||"object"!==Gr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,Ur(e).call(this,t,i))).addChildrenMap("panel",n.childrenMap.child.child),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vr(t,e)}(e,Hi),e}();r.register("scrollablePanel",(function(t){var e=new Jr(this.scene,t);return this.scene.add.existing(e),e})),Object(s.a)(window,"RexPlugins.UI.ScrollablePanel",Jr);var Zr={popUp:0,fadeIn:1,scaleDown:0,fadeOut:1},Qr=function(t,e){t.popUp(e)},qr=function(t,e){t.scaleDownDestroy(e,void 0,void 0,!1)},$r=function(t,e){t.fadeIn(e)},to=function(t,e){t.fadeOut(e,!1)},eo=i(176);function io(t){return(io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function no(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ro(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oo(t,e,i){return(oo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=so(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function so(t){return(so=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ao(t,e){return(ao=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var lo=Phaser.Utils.Objects.GetValue,ho=function(t){function e(t,i){var n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===i&&(i={text:createDefaultTextObject(t)}),(n=!(r=so(e).call(this,t,i))||"object"!==io(r)&&"function"!=typeof r?ro(this):r).type="rexToast",n.setTransitInTime(lo(i,"duration.in",200)),n.setDisplayTime(lo(i,"duration.hold",1200)),n.setTransitOutTime(lo(i,"duration.out",200)),n.setTransitInCallback(lo(i,"transitIn",Zr.popUp)),n.setTransitOutCallback(lo(i,"transitOut",Zr.scaleDown)),n.player=new eo.a(ro(n),{dtMode:1}),n.messages=[],n.setVisible(!1),n}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ao(t,e)}(e,pe),i=e,(n=[{key:"destroy",value:function(t){this.scene&&(this.player.destroy(),this.player=void 0,this.messages=void 0,oo(so(e.prototype),"destroy",this).call(this,t))}},{key:"setDisplayTime",value:function(t){return this.displayTime=t,this}},{key:"setTransitOutTime",value:function(t){return this.transitOutTime=t,this}},{key:"setTransitInTime",value:function(t){return this.transitInTime=t,this}},{key:"setTransitInCallback",value:function(t){switch("string"==typeof t&&(t=Zr[t]),t){case Zr.popUp:t=Qr;break;case Zr.fadeIn:t=$r}return this.transitInCallback=t,this}},{key:"setTransitOutCallback",value:function(t){switch("string"==typeof t&&(t=Zr[t]),t){case Zr.scaleDown:t=qr;break;case Zr.fadeOut:t=to}return this.transitOutCallback=t,this}},{key:"show",value:function(t){if(void 0===t){if(0===this.messages.length)return this;t=this.messages.shift()}if(this.player.isPlaying)return this.messages.push(t),this;this.setScale(1).setVisible(!0),"string"==typeof t?this.setText(t):t(this),this.layout();var e=[[0,[this.transitInCallback,this,this.transitInTime]],[this.transitInTime,[en.a]],[this.displayTime,[this.transitOutCallback,this,this.transitOutTime]],[this.transitOutTime,[this.setVisible,!1]],[30,[en.a]]];return this.player.load(e,this).once("complete",(function(){this.show()}),this).start(),this}}])&&no(i.prototype,n),e}();r.register("toast",(function(t){var e=new ho(this.scene,t);return this.scene.add.existing(e),e})),Object(s.a)(window,"RexPlugins.UI.Toast",ho);var uo=i(62);r.register("tap",(function(t,e){return Object(uo.a)(t)||(e=t,t=this.scene),new Zi(t,e)})),Object(s.a)(window,"RexPlugins.UI.Tap",Zi),r.register("press",(function(t,e){return Object(uo.a)(t)||(e=t,t=this.scene),new qi(t,e)})),Object(s.a)(window,"RexPlugins.UI.Press",qi);var co=i(195).a;r.register("swipe",(function(t,e){return Object(uo.a)(t)||(e=t,t=this.scene),new co(t,e)})),Object(s.a)(window,"RexPlugins.UI.Swipe",co);var fo=i(191).a;r.register("pan",(function(t,e){return Object(uo.a)(t)||(e=t,t=this.scene),new fo(t,e)})),Object(s.a)(window,"RexPlugins.UI.Pan",fo);var po=i(125).a;r.register("pinch",(function(t){return new po(this.scene,t)})),Object(s.a)(window,"RexPlugins.UI.Pinch",po);var yo=i(192).a;r.register("rotate",(function(t){return new yo(this.scene,t)})),Object(s.a)(window,"RexPlugins.UI.Rotate",yo);var go=i(261).a;r.register("flip",(function(t,e){return new go(t,e)})),Object(s.a)(window,"RexPlugins.UI.Flip",go);var vo=i(258);function mo(t){return(mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bo(t){return(bo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wo(t,e){return(wo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var ko=function(t){function e(t,i){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==mo(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,bo(e).call(this,t,i))).add=new r(t),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wo(t,e)}(e,Phaser.Plugins.ScenePlugin),e}(),xo={hide:be,show:me,isShown:we,edit:vo.a};Object.assign(ko.prototype,xo),e.default=ko},4:function(t,e,i){"use strict";e.a={setEventEmitter:function(t,e){return void 0===e&&(e=Phaser.Events.EventEmitter),this._privateEE=void 0===t,this._eventEmitter=this._privateEE?new e:t,this},destroyEventEmitter:function(){this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown()},getEventEmitter:function(){return this._eventEmitter},on:function(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once:function(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off:function(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit:function(){return this._eventEmitter&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener:function(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener:function(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners:function(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount:function(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners:function(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]}}},5:function(t,e,i){"use strict";var n=Phaser.Scene;e.a=function(t){return t instanceof n}},51:function(t,e,i){"use strict";e.a=function(t,e,i){!t||void 0===e&&void 0===i||(t.resize?(void 0===e&&(e=t.width),void 0===i&&(i=t.height),t.resize(e,i)):(void 0!==e&&(t.displayWidth=e),void 0!==i&&(t.displayHeight=i)))}},52:function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=Phaser.Utils.Objects.GetValue,o=function(){function t(e,i,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.cornerRadius={},this._width=0,this._height=0,this.setTo(e,i,n,r,o)}var e,i;return e=t,(i=[{key:"setTo",value:function(t,e,i,n,r){return this.setPosition(t,e),this.setRadius(r),this.setSize(i,n),this}},{key:"setPosition",value:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this}},{key:"setRadius",value:function(t){var e,i;void 0===t&&(t=0),"number"==typeof t?(e=t,i=t):(e=r(t,"x",0),i=r(t,"y",0));var n=this.cornerRadius;return n.tl=s(r(t,"tl",void 0),e,i),n.tr=s(r(t,"tr",void 0),e,i),n.bl=s(r(t,"bl",void 0),e,i),n.br=s(r(t,"br",void 0),e,i),this}},{key:"setSize",value:function(t,e){return this.width=t,this.height=e,this}},{key:"minWidth",get:function(){var t=this.cornerRadius;return Math.max(t.tl.x+t.tr.x,t.bl.x+t.br.x)}},{key:"minHeight",get:function(){var t=this.cornerRadius;return Math.max(t.tl.y+t.bl.y,t.tr.y+t.br.y)}},{key:"width",get:function(){return this._width},set:function(t){null==t&&(t=0),this._width=Math.max(t,this.minWidth)}},{key:"height",get:function(){return this._height},set:function(t){null==t&&(t=0),this._height=Math.max(t,this.minHeight)}},{key:"radius",get:function(){var t=this.cornerRadius;return Math.max(t.tl.x,t.tl.y,t.tr.x,t.tr.y,t.bl.x,t.bl.y,t.br.x,t.br.y)}}])&&n(e.prototype,i),t}(),s=function(t,e,i){return void 0===t?{x:e,y:i}:"number"==typeof t?{x:t,y:t}:t},a=o,l=function(t,e,i){var n=i.length;if(n>=2){var r=i[n-2],o=i[n-1];if(t===r&&e===o)return i}return i.push(t,e),i},h=i(15),u=i.n(h),c=Phaser.Utils.Objects.GetValue,f=function(t,e,i,n,r,o,s,a){var h,f,p,d=c(i,"x",i),y=c(i,"y",i);o&&(r+=360),n=u()(n);for(var g=((r=u()(r))-n)/s,v=0;v<=s;v++)p=n+g*v,h=t+d*Math.cos(p),f=e+y*Math.sin(p),l(h,f,a);return a},p=i(140),d=i.n(p),y=i(141),g=i.n(y),v=i(142),m=i.n(v),b=i(9),w=(b.a,b.a,{renderWebGL:g.a,renderCanvas:m.a});function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function x(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function S(t,e){return(S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var P=Phaser.Utils.Objects.GetValue,T=function(t){function e(t,i,n,r,o,s,l,h){var u;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===i&&(i=0),void 0===n&&(n=0);var c=P(s,"iteration",void 0);s=P(s,"radius",s);var f=new a(0,0,r,o,s);return(u=function(t,e){return!e||"object"!==k(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,O(e).call(this,t,"RoundRectangle",f))).setIteration(c),u.setPosition(i,n),void 0!==l&&u.setFillStyle(l,h),u.updateDisplayOrigin(),u.updateData(),u}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S(t,e)}(e,Phaser.GameObjects.Shape),i=e,(n=[{key:"updateData",value:function(){var t=this.geom,e=this.pathData;e.length=0;var i,n=t.cornerRadius,r=this.iteration+1;if(i=n.br,C(i)){var o=t.width-i.x,s=t.height-i.y;f(o,s,i,0,90,!1,r,e)}else l(t.width,t.height,e);return i=n.bl,C(i)?(o=i.x,s=t.height-i.y,f(o,s,i,90,180,!1,r,e)):l(0,t.height,e),i=n.tl,C(i)?(o=i.x,s=i.y,f(o,s,i,180,270,!1,r,e)):l(0,0,e),i=n.tr,C(i)?(o=t.width-i.x,s=i.y,f(o,s,i,270,360,!1,r,e)):l(t.width,0,e),e.push(e[0],e[1]),this.pathIndexes=d()(e),this}},{key:"resize",value:function(t,e){return void 0===e&&(e=t),this.geom.width===t&&this.geom.height===e||(this.geom.height=e,this.geom.width=t,this.updateDisplayOrigin(),this.updateData()),this}},{key:"setIteration",value:function(t){return void 0===t&&(t=6),this.iteration=t,this}},{key:"setRadius",value:function(t){return void 0===t&&(t=0),this.radius=t,this}},{key:"setCornerRadius",value:function(t){return this.setRadius(t)}},{key:"width",get:function(){return this.geom.width},set:function(t){this.width!==t&&(this.geom.width=t,this.updateDisplayOrigin(),this.updateData())}},{key:"height",get:function(){return this.geom.height},set:function(t){this.height!==t&&(this.geom.height=t,this.updateDisplayOrigin(),this.updateData())}},{key:"iteration",get:function(){return this._iteration},set:function(t){void 0!==this._iteration?this._iteration!==t&&(this._iteration=t,this.updateData()):this._iteration=t}},{key:"radius",get:function(){return this.geom.radius},set:function(t){this.geom.setRadius(t),this.updateDisplayOrigin(),this.updateData()}},{key:"cornerRadius",get:function(){return this.geom.cornerRadius},set:function(t){this.radius=t}}])&&x(i.prototype,n),e}(),C=function(t){return 0!==t.x&&0!==t.y};Object.assign(T.prototype,w),e.a=T},53:function(t,e,i){"use strict";var n=i(25),r=i(73);function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=null,this.setParent(e),this._deltaHeight=0}var e,i;return e=t,(i=[{key:"setParent",value:function(t){this.parent=t,this.parentContainer=t.getParentContainer()}},{key:"destroy",value:function(t){if(void 0===t&&(t=!1),!t){var e=this.parent;0!==this.deltaHeight&&e.nonZeroDeltaHeightCount--,this.destroyContainer()}this.data=void 0,this.container=null,this.parent=void 0,this.parentContainer=void 0}},{key:"getContainer",value:function(){return this.container}},{key:"setContainer",value:function(t){return this.container&&this.container.destroy(),this.container=t,this.parentContainer.add(t),this}},{key:"destroyContainer",value:function(){return this.container&&(this.container.destroy(),this.container=null),this}},{key:"popContainer",value:function(){if(this.container){var t=this.container;return this.container=null,this.parentContainer.remove(t),t}return null}},{key:"setXY",value:function(t,e){return this.container&&this.parentContainer.setChildLocalPosition(this.container,t,e),this}},{key:"setDeltaHeight",value:function(t){return this.deltaHeight=t,this}},{key:"setHeight",value:function(t){return this.height=t,this}},{key:"setWidth",value:function(t){return this.width=t,this}},{key:"table",get:function(){return this.parent}},{key:"scrollMode",get:function(){return this.parentContainer.scrollMode}},{key:"colIndx",get:function(){return this.parent.cellIndxeToColIndex(this.index)}},{key:"rowIndx",get:function(){return this.parent.cellIndxeToRowIndex(this.index)}},{key:"deltaHeight",get:function(){return this._deltaHeight},set:function(t){null==t&&(t=0);var e=this.parent;0===this._deltaHeight&&0!==t?e.nonZeroDeltaHeightCount++:0!==this._deltaHeight&&0===t&&e.nonZeroDeltaHeightCount--,this._deltaHeight=t}},{key:"height",get:function(){return 0===this.scrollMode?this.deltaHeight+this.parent.defaultCellHeight:this.parent.defaultCellWidth},set:function(t){1!==this.scrollMode&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}},{key:"width",get:function(){return 0===this.scrollMode?this.parent.defaultCellWidth:this.deltaHeight+this.parent.defaultCellHeight},set:function(t){0!==this.scrollMode&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}},{key:"scene",get:function(){return this.parentContainer.scene}}])&&o(e.prototype,i),t}();Object.assign(s.prototype,r.a);var a=s,l=i(12);function h(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var u=Phaser.Utils.Objects.GetValue,c=Phaser.Utils.Array.SpliceOne,f=new l.a,p=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent=e,this.cells=[],this.resetFromJSON(i)}var e,i;return e=t,(i=[{key:"resetFromJSON",value:function(t){return this.colCount=void 0,this._nonZeroDeltaHeightCount=0,this.resetTotalRowsHeight(),this.setDefaultCellHeight(u(t,"cellHeight",30)),this.setDefaultCellWidth(u(t,"cellWidth",30)),this.initCells(u(t,"cellsCount",0)),this.setColumnCount(u(t,"columns",1)),this}},{key:"destroy",value:function(t){for(var e=0,i=this.cells.length;e<i;e++)this.freeCell(this.cells[e],t);this.cells=void 0,this.parent=void 0}},{key:"setDefaultCellHeight",value:function(t){return this.defaultCellHeight=t,this}},{key:"setDefaultCellWidth",value:function(t){return this.defaultCellWidth=t,this}},{key:"initCells",value:function(t){var e=this.cells;e.length=t;for(var i=0;i<t;i++)e[i]=null;return this}},{key:"insertNewCell",value:function(t,e){var i=this.cells;if(t===i.length){var n=t+e;i.legth=n;for(var r=t;r<n;r++)i[r]=null}else{var o,s=[];for(s.length=e,r=0;r<e;r++)s[r]=null;(o=this.cells).splice.apply(o,[t,0].concat(s))}return this.resetTotalRowsHeight(),this}},{key:"removeCell",value:function(t,e){for(var i=t+e,n=t;n<i;n++)this.freeCell(n);return i===this.cells.length?this.cells.length=t:(1===e?c(this.cells,t):this.cells.splice(t,e),this.buildCellIndex(t)),this.resetTotalRowsHeight(),this}},{key:"setColumnCount",value:function(t){return this.colCount=t,this.resetTotalRowsHeight(),this}},{key:"isValidCellIdx",value:function(t){return t>=0&&t<this.cells.length}},{key:"heightToRowIndex",value:function(t,e){if(this.defaultCellHeightMode){var i=t/this.defaultCellHeight;return e?Math.ceil(i):Math.floor(i)}var n,r=this.rowCount,o=t;for(i=0;;){if(n=i>=0&&i<r,!((o-=this.getRowHeight(i))>0&&n)){if(0===o)return i;if(e){var s=i;(n=(i+=1)>=0&&i<r)||(i=s)}return i}i+=1}}},{key:"widthToColIndex",value:function(t,e){var i=t/this.defaultCellWidth;return e?Math.ceil(i):Math.floor(i)}},{key:"colRowToCellIndex",value:function(t,e){return t>=this.colCount?null:e*this.colCount+t}},{key:"rowIndexToHeight",value:function(t,e){if(this.defaultCellHeightMode)return(e-t+1)*this.defaultCellHeight;for(var i=0,n=t;n<=e;n++)i+=this.getRowHeight(n);return i}},{key:"colIndexToWidth",value:function(t,e){return(e-t+1)*this.defaultCellWidth}},{key:"getRowHeight",value:function(t){var e=this.colCount;if(e<=1)return this.getCellHeight(this.colRowToCellIndex(0,t));for(var i,n=0,r=0;r<e;r++)n<(i=this.getCellHeight(this.colRowToCellIndex(r,t)))&&(n=i);return n}},{key:"getColWidth",value:function(t){return this.defaultCellWidth}},{key:"getCellHeight",value:function(t){if(!this.isValidCellIdx(t))return 0;var e;if(this.defaultCellHeightMode)e=this.defaultCellHeight;else{var i=this.getCell(t,!1),n=i?i.deltaHeight:0;e=this.defaultCellHeight+n}return e}},{key:"resetTotalRowsHeight",value:function(){this._totalRowsHeight=null}},{key:"cellIndxeToColIndex",value:function(t){return t%this.colCount}},{key:"cellIndxeToRowIndex",value:function(t){return Math.floor(t/this.colCount)}},{key:"getCell",value:function(t,e){if(!this.isValidCellIdx(t))return null;if(void 0===e&&(e=!0),null===this.cells[t]&&e){var i=this.newCell(t);this.cells[t]=i}return this.cells[t]}},{key:"newCell",value:function(t){var e=f.pop();return null===e?e=new a(this):e.setParent(this),e.index=t,e}},{key:"buildCellIndex",value:function(t){void 0===t&&(t=0);for(var e,i=this.cells,n=t,r=i.length;n<r;n++)(e=i[n])&&(e.index=n);return this}},{key:"getParentContainer",value:function(){return this.parent}},{key:"freeCell",value:function(t,e){return"number"==typeof t&&(t=this.cells[t]),t?(t.destroy(e),f.push(t),this):this}},{key:"nonZeroDeltaHeightCount",get:function(){return this._nonZeroDeltaHeightCount},set:function(t){this._nonZeroDeltaHeightCount!==t&&(this._nonZeroDeltaHeightCount=t,this.resetTotalRowsHeight())}},{key:"defaultCellHeightMode",get:function(){return 0===this.nonZeroDeltaHeightCount}},{key:"rowCount",get:function(){return Math.ceil(this.cells.length/this.colCount)}},{key:"cellsCount",get:function(){return this.cells.length}},{key:"totalRowsHeight",get:function(){return null===this._totalRowsHeight&&(this._totalRowsHeight=this.rowIndexToHeight(0,this.rowCount-1)),this._totalRowsHeight}},{key:"totalColumnWidth",get:function(){return this.colCount*this.defaultCellWidth}}])&&h(e.prototype,i),t}(),d=i(61),y=i(51),g=i(58),v=i(118);function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k(t,e,i){return(k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=x(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function O(t,e){return(O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var S=n.a,P=Phaser.GameObjects.Components,T=Phaser.Structs.Set,C=Phaser.Utils.Objects.GetValue,_=Phaser.Math.Clamp,j=function(t){function e(t,i,n,r,o,s){var a,l;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===s&&(s={}),(a=!(l=x(e).call(this,t,i,n,r,o))||"object"!==m(l)&&"function"!=typeof l?w(this):l).type="rexGridTable",a._tableOX=0,a._tableOY=0,a.visibleCells=new T,a.preVisibleCells=new T,a.visibleStartX=null,a.visibleEndX=null,a.visibleStartY=null,a.visibleEndY=null,a.lastVisibleCellIdx=null,a.execeedTopState=!1,a.execeedBottomState=!1,a.execeedLeftState=!1,a.execeedRightState=!1;var h=C(s,"reuseCellContainer",!1);a.cellContainersPool=h?t.add.group():void 0;var u=C(s,"cellVisibleCallback",null);if(null!==u){var c=C(s,"cellVisibleCallbackScope",void 0);a.on("cellvisible",u,c)}if(null!==(u=C(s,"cellInvisibleCallback",null))&&(c=C(s,"cellInvisibleCallbackScope",void 0),a.on("cellinvisible",u,c)),a.cellsMask=void 0,a.setCellsMask(C(s,"mask",!0)),a.setScrollMode(C(s,"scrollMode",0)),a.setClampMode(C(s,"clamplTableOXY",!0)),0===a.scrollMode){var f=C(s,"cellWidth",void 0);if(a.expandCellSize=void 0===f,void 0===f){var d=C(s,"columns",1);s.cellWidth=a.width/d}}else{f=C(s,"cellHeight",void 0);var y=C(s,"cellWidth",void 0);a.expandCellSize=void 0===f,s.cellWidth=f,s.cellHeight=y}return a.table=new p(w(a),s),a.updateTable(),a}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O(t,e)}(e,S),i=e,(n=[{key:"destroy",value:function(t){this.scene&&(t||this.setCellsCount(0),this.table.destroy(t),this.table=void 0,this.cellContainersPool&&(this.cellContainersPool.destroy(!0),this.cellContainersPool=void 0),k(x(e.prototype),"destroy",this).call(this,t))}},{key:"setScrollMode",value:function(t){return"string"==typeof t&&(t=B[t.toLowerCase()]),this.scrollMode=t,this}},{key:"setClampMode",value:function(t){return this.clampTableOXYMode=t,this}},{key:"setCellsCount",value:function(t){var e=this.cellsCount;return e===t||(e>t?this.removeCell(t,e-t):this.insertNewCell(e,t-e)),this}},{key:"setColumnCount",value:function(t){return this.table.colCount===t||this.table.setColumnCount(t),this}},{key:"setGridSize",value:function(t,e){return this.setCellsCount(t*e),this.table.setColumnCount(t),this}},{key:"insertNewCell",value:function(t,e){return"object"===m(t)&&(t=t.index),void 0===e&&(e=1),e<=0||(t=_(t,0,this.cellsCount),this.table.insertNewCell(t,e)),this}},{key:"removeCell",value:function(t,e){if("object"===m(t)&&(t=t.index),void 0===e&&(e=1),t<0&&(e+=t,t=0),e<=0)return this;if(t>this.cellsCount)return this;if(t<=this.lastVisibleCellIdx)for(var i,n=this.preVisibleCells,r=this.visibleCells,o=t,s=t+e;o<s;o++)(i=this.getCell(o,!1))&&(r.contains(i)&&(this.hideCell(i),r.delete(i)),n.delete(i));return this.table.removeCell(t,e),this}},{key:"setTableOY",value:function(t){var e=this.table,i=this.topTableOY,n=this.bottomTableOY,r=this.tableOYExceedTop(t),o=this.tableOYExeceedBottom(t);return this.clampTableOXYMode&&(e.rowCount<e.heightToRowIndex(this.instHeight,!0)?t=0:r?t=i:o&&(t=n)),this._tableOY!==t&&(this._tableOY=t),r&&(this.execeedTopState||this.emit("execeedtop",this,t,i)),this.execeedTopState=r,o&&(this.execeedBottomState||this.emit("execeedbottom",this,t,n)),this.execeedBottomState=o,this}},{key:"setTableOX",value:function(t){var e=this.table,i=this.leftTableOX,n=this.rightTableOX,r=this.tableOXExeceedLeft(t),o=this.tableOXExeceedRight(t);return this.clampTableOXYMode&&(e.colCount<e.widthToColIndex(this.instWidth,!0)?t=0:r?t=i:o&&(t=n)),this._tableOX!==t&&(this._tableOX=t),r&&(this.execeedLeftState||this.emit("execeedleft",this,t,i)),this.execeedLeftState=r,o&&(this.execeedRightState||this.emit("execeedright",this,t,n)),this.execeedRightState=o,this}},{key:"setTableOXY",value:function(t,e){return this.setTableOY(e).setTableOX(t),this}},{key:"addTableOY",value:function(t){return this.setTableOY(this.tableOY+t),this}},{key:"addTableOX",value:function(t){return this.setTableOX(this.tableOX+t),this}},{key:"addTableOXY",value:function(t,e){return this.addTableOY(e).addTableOX(t),this}},{key:"setTableOYByPercentage",value:function(t){return this.setTableOY(-this.tableVisibleHeight*t),this}},{key:"getTableOYPercentage",value:function(){var t=this.tableVisibleHeight;return 0===t?0:this.tableOY/-t}},{key:"updateTable",value:function(t){return void 0===t&&(t=!1),t&&(this.clearVisibleCellIndexes(),this.hideCells()),this.clearVisibleCellIndexes(),this.showCells(),this.hideCells(),this.maskCells(),this}},{key:"getCell",value:function(t){return this.table.getCell(t,!0)}},{key:"getCellContainer",value:function(t){var e,i=this.table.getCell(t,!1);return i&&(e=i.getContainer()),e}},{key:"setCellHeight",value:function(t,e){return("number"==typeof t?this.table.getCell(t,!0):t).height=e,this}},{key:"setCellWidth",value:function(t,e){return("number"==typeof t?this.table.getCell(t,!0):t).width=e,this}},{key:"pointerToCellIndex",value:function(t,e){e-=this.y+this.topLeftY,t-=this.x+this.topLeftX;var i=this.tableOY-(0===this.scrollMode?e:t),n=this.tableOX-(0===this.scrollMode?t:e),r=this.table,o=r.heightToRowIndex(-i),s=r.widthToColIndex(-n),a=r.colRowToCellIndex(s,o);return null===a?null:this.cellIsVisible(a)?a:null}},{key:"pointerToCellContainer",value:function(t,e){var i=this.pointerToCellIndex(t,e);if(null!==i)return this.getCellContainer(i)}},{key:"cellIsVisible",value:function(t){var e=this.table.getCell(t,!1);return e&&this.visibleCells.contains(e)}},{key:"eachVisibleCell",value:function(t,e){return this.visibleCells.each(t,e),this}},{key:"iterateVisibleCell",value:function(t,e){return this.visibleCells.iterate(t,e),this}},{key:"setCellsMask",value:function(t){var e,i;if(!0===t?(e=!0,i=0):!1===t?e=!1:(e=C(t,"mask",!0),i=C(t,"padding",0)),e){var n=new d.a(this,0,i);this.cellsMask=n.createGeometryMask(),this.add(n)}return this}},{key:"maskCells",value:function(){for(var t,e=[],i=this.visibleCells.entries,n=0,r=i.length;n<r;n++)(t=i[n].getContainer())&&(t.isRexContainerLite?t.getAllChildren(e):e.push(t));Object(v.a)(this,this.cellsMask,e)}},{key:"resize",value:function(t,i){return this.width===t&&this.height===i||(k(x(e.prototype),"resize",this).call(this,t,i),this.cellsMask&&Object(y.a)(Object(g.a)(this.cellsMask),t,i),this.expandCellSize&&this.table.setDefaultCellWidth(this.instWidth/this.table.colCount),this.updateTable(!0)),this}},{key:"clearVisibleCellIndexes",value:function(){var t=this.preVisibleCells;this.preVisibleCells=this.visibleCells,this.visibleCells=t,this.visibleCells.clear()}},{key:"showCells",value:function(){if(0!==this.cellsCount){var t=this.table,e=t.heightToRowIndex(-this.tableOY);e<0&&(e=0);var i=t.widthToColIndex(-this.tableOX);i<0&&(i=0);var n=t.colRowToCellIndex(i,e),r=this.bottomBound,o=this.rightBound,s=t.cellsCount-1,a=t.colCount-1,l=this.getTLX(i),h=l,u=this.getTLY(e);for(this.visibleStartY=null,this.visibleEndY=null,this.visibleStartX=null,this.visibleEndX=null,this.lastVisibleCellIdx=null;u<r&&n<=s;){if(this.table.isValidCellIdx(n)){null===this.visibleStartY&&(this.visibleStartY=e,this.visibleEndY=e),null===this.visibleStartX&&(this.visibleStartX=i,this.visibleEndX=i),null===this.lastVisibleCellIdx&&(this.lastVisibleCellIdx=n),this.visibleEndY<e&&(this.visibleEndY=e),this.visibleEndX<i&&(this.visibleEndX=i),this.lastVisibleCellIdx<n&&(this.lastVisibleCellIdx=n);var c=t.getCell(n,!0);this.visibleCells.set(c),this.preVisibleCells.contains(c)||this.showCell(c),0===this.scrollMode?c.setXY(h,u):c.setXY(u,h)}h<o&&i<a?(h+=t.getColWidth(i),i+=1):(h=l,u+=t.getRowHeight(e),i=this.visibleStartX,e+=1),n=t.colRowToCellIndex(i,e)}}}},{key:"showCell",value:function(t){var e=null;if(this.cellContainersPool&&null!==(e=this.cellContainersPool.getFirstDead())&&e.setActive(!0).setVisible(!0),this.emit("cellvisible",t,e),this.cellContainersPool){var i=t.getContainer();i?null===e?this.cellContainersPool.add(i):e!==i&&(this.cellContainersPool.add(i),this.cellContainersPool.killAndHide(e)):null!==e&&this.cellContainersPool.killAndHide(e)}}},{key:"hideCells",value:function(){var t=this.preVisibleCells,e=this.visibleCells;t.iterate((function(t){e.contains(t)||this.hideCell(t)}),this)}},{key:"hideCell",value:function(t){if(this.emit("cellinvisible",t),this.cellContainersPool){var e=t.popContainer();e&&this.cellContainersPool.killAndHide(e)}t.destroyContainer()}},{key:"tableOYExceedTop",value:function(t){return void 0===t&&(t=this.tableOY),t>this.topTableOY}},{key:"tableOYExeceedBottom",value:function(t){return void 0===t&&(t=this.tableOY),t<this.bottomTableOY}},{key:"tableOXExeceedLeft",value:function(t){return void 0===t&&(t=this.tableOX),t>this.leftTableOX}},{key:"tableOXExeceedRight",value:function(t){return void 0===t&&(t=this.tableOX),t<this.rightTableOX}},{key:"getTLX",value:function(t){var e=0===this.scrollMode?this.topLeftX:this.topLeftY;return this.tableOX+this.table.colIndexToWidth(0,t-1)+e}},{key:"getTLY",value:function(t){var e=0===this.scrollMode?this.topLeftY:this.topLeftX;return this.tableOY+this.table.rowIndexToHeight(0,t-1)+e}},{key:"tableOY",get:function(){return this._tableOY},set:function(t){this.setTableOY(t).updateTable()}},{key:"tableOX",get:function(){return this._tableOX},set:function(t){this.setTableOX(t).updateTable()}},{key:"t",set:function(t){this.setTableOYByPercentage(t).updateTable()},get:function(){return this.getTableOYPercentage()}},{key:"cellsCount",get:function(){return this.table.cellsCount}},{key:"columnCount",get:function(){return this.table.colCount}},{key:"instHeight",get:function(){return 0===this.scrollMode?this.height:this.width}},{key:"instWidth",get:function(){return 0===this.scrollMode?this.width:this.height}},{key:"tableHeight",get:function(){return this.table.totalRowsHeight}},{key:"tableWidth",get:function(){return this.table.totalColumnWidth}},{key:"topTableOY",get:function(){return 0}},{key:"bottomTableOY",get:function(){return-this.tableVisibleHeight}},{key:"leftTableOX",get:function(){return 0}},{key:"rightTableOX",get:function(){return-this.tableVisibleWidth}},{key:"tableVisibleHeight",get:function(){var t=this.tableHeight,e=this.instHeight;return t>e?t-e:0}},{key:"tableVisibleWidth",get:function(){var t=this.tableWidth,e=this.instWidth;return t>e?t-e:0}},{key:"bottomLeftY",get:function(){return-this.displayHeight*this.originY+this.displayHeight}},{key:"topRightX",get:function(){return-this.displayWidth*this.originX+this.displayWidth}},{key:"topLeftX",get:function(){return-this.displayWidth*this.originX}},{key:"topLeftY",get:function(){return-this.displayHeight*this.originY}},{key:"bottomBound",get:function(){return 0===this.scrollMode?this.bottomLeftY:this.topRightX}},{key:"rightBound",get:function(){return 0===this.scrollMode?this.topRightX:this.bottomLeftY}}])&&b(i.prototype,n),e}();Object.assign(j.prototype,P.GetBounds);var B={v:0,vertical:0,h:1,horizontal:1};e.a=j},54:function(t,e,i){"use strict";var n=i(57);function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o={plainText:null,prevProp:null},s=new(i(34).a),a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),void 0===e&&(e={}),this.tags=e}var e,i;return e=t,(i=[{key:"addTag",value:function(t,e){this.tags[t]=e}},{key:"splitText",value:function(t,e){for(var i,n,r,o=[],s=0,a=t.length,l=a;i=u.exec(t);)n=i[0],s<(l=u.lastIndex-n.length)&&o.push(t.substring(s,l)),void 0===e?o.push(n):1===e&&(c.test(n)?(r=n.match(f),o.push(r[2])):p.test(n)&&(r=n.match(d),o.push(r[2]))),s=u.lastIndex;return s<a&&o.push(t.substring(s,a)),o}},{key:"tagTextToProp",value:function(t,e){var i,n;if(c.test(t)){if(null!=(a=t.match(f))){var r=a[1],s=this.tags;(n=s.hasOwnProperty(r)?s[r]:{})._class=r,i=a[2]}}else if(p.test(t)){var a;if(null!=(a=t.match(d))){var h=a[1];(n=l(h))._style=h,i=a[2]}}null==i&&(i=t),null==n&&(n={});var u=o;return u.plainText=i,u.prop=n,u}},{key:"propToContextStyle",value:function(t,e){var i=s;if(e.hasOwnProperty("img"))i.image=e.img;else{if(i.image=null,e.hasOwnProperty("family")||e.hasOwnProperty("fontFamily")||e.hasOwnProperty("font-family")){var n=e.hasOwnProperty("family")?e.family:e.hasOwnProperty("fontFamily")?e.fontFamily:e["font-family"];i.fontFamily=n}else i.fontFamily=t.fontFamily;if(e.hasOwnProperty("size")||e.hasOwnProperty("fontSize")||e.hasOwnProperty("font-size")){var r=e.hasOwnProperty("size")?e.size:e.hasOwnProperty("fontSize")?e.fontSize:e["font-size"];"number"==typeof r&&(r=r.toString()+"px"),i.fontSize=r}else i.fontSize=t.fontSize;if(e.hasOwnProperty("style")||e.hasOwnProperty("fontStyle")||e.hasOwnProperty("font-style")){var o=e.hasOwnProperty("style")?e.style:e.hasOwnProperty("fontStyle")?e.fontStyle:e["font-style"];i.fontStyle=o}else i.fontStyle=t.fontStyle;if(e.hasOwnProperty("color")||e.hasOwnProperty("font-color")?(e.hasOwnProperty("color")?e.color:e["font-color"],i.color=e.color):i.color=t.color,e.hasOwnProperty("stroke")){var a=e.stroke;i.stroke=a.hasOwnProperty("color")?a.color:t.stroke,i.strokeThickness=a.hasOwnProperty("thinkness")?a.thinkness:t.strokeThickness}else i.stroke=t.stroke,i.strokeThickness=t.strokeThickness}if(e.hasOwnProperty("shadow")){var l=e.shadow;i.shadowColor=l.hasOwnProperty("color")?l.color:t.shadowColor,i.shadowOffsetX=l.hasOwnProperty("offsetX")?l.offsetX:t.shadowOffsetX,i.shadowOffsetY=l.hasOwnProperty("offsetY")?l.offsetY:t.shadowOffsetY,i.shadowBlur=l.hasOwnProperty("blur")?l.blur:t.shadowBlur,i.shadowStroke=!0,i.shadowFill=!0}else i.shadowColor=t.shadowColor,i.shadowOffsetX=t.shadowOffsetX,i.shadowOffsetY=t.shadowOffsetY,i.shadowBlur=t.shadowBlur,i.shadowStroke=t.shadowStroke,i.shadowFill=t.shadowFill;if(e.hasOwnProperty("u")||e.hasOwnProperty("underline")){var h=e.hasOwnProperty("u")?e.u:e.underline;i.underlineColor=h.hasOwnProperty("color")?h.color:t.underlineColor,i.underlineThickness=h.hasOwnProperty("thinkness")?h.thinkness:t.underlineThickness,i.underlineOffset=h.hasOwnProperty("offset")?h.offset:t.underlineOffset}else i.underlineColor=t.underlineColor,i.underlineThickness=t.underlineThickness,i.underlineOffset=t.underlineOffset;return i}},{key:"propToTagText",value:function(t,e,i){return e.hasOwnProperty("_class")?""===t&&this.isTextTag(e._class)?"":"<class='"+e._class+"'>"+t+"</class>":e.hasOwnProperty("_style")?"<style='"+e._style+"'>"+t+"</style>":void 0}},{key:"destroy",value:function(){this.tags=void 0}},{key:"isTextTag",value:function(t){var e=this.tags[t];return!!e&&null==e.img}}])&&r(e.prototype,i),t}(),l=function(t){for(var e,i,n,r={},o=0,s=(t=t.split(";")).length;o<s;o++)if(i=(e=t[o].split(":"))[0],n=e[1],!h(i)&&!h(n)){switch(i){case"stroke":var a=n.split(" ");n={},(u=a.length)>=1&&(n.color=a[0]),u>=2&&(n.thinkness=parseInt(a[1].replace("px","")));break;case"shadow":var l=n.split(" ");n={},(u=l.length)>=1&&(n.color=l[0]),u>=2&&(n.offsetX=parseInt(l[1].replace("px",""))),u>=3&&(n.offsetY=parseInt(l[2].replace("px",""))),u>=4&&(n.blur=parseInt(l[3].replace("px","")));break;case"u":case"underline":var u,c=n.split(" ");n={},(u=c.length)>=1&&(n.color=c[0]),u>=2&&(n.thinkness=parseInt(c[1].replace("px",""))),u>=3&&(n.offset=parseInt(c[2].replace("px","")))}r[i]=n}return r},h=function(t){return 0===(t=t.replace(y,"")).length},u=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>|<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/g,c=/<\s*class=/i,f=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>/,p=/<\s*style=/i,d=/<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/,y=/^\s+|\s+$/,g=a;function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function b(t,e,i){return(b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=w(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var x=Phaser.Utils.Objects.GetValue,O=function(t){function e(t,i,n,r,o){var s;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var a=x(o,"tags",void 0),l=new g(a);return(s=function(t,e){return!e||"object"!==v(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,w(e).call(this,t,i,n,r,o,"rexTagText",l))).parser=l,s}var i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}(e,n.a),i=e,(r=[{key:"addTag",value:function(t,e){return this.parser.addTag(t,e),this.updateText(!0)}},{key:"addTags",value:function(t){for(var e in t)this.parser.addTag(e,t[e]);return this.updateText(!0)}},{key:"preDestroy",value:function(){b(w(e.prototype),"preDestroy",this).call(this),this.parser.destroy(),this.parser=void 0}}])&&m(i.prototype,r),e}();e.a=O},55:function(t,e,i){"use strict";var n=i(57),r={plainText:null,prevProp:null},o=new(i(34).a),s={},a={splitText:function(t,e){for(var i,n,r=[],o=0,s=t.length,a=s;i=u.exec(t);)n=i[0],o<(a=u.lastIndex-n.length)&&r.push(t.substring(o,a)),void 0===e&&r.push(n),o=u.lastIndex;return o<s&&r.push(t.substring(o,s)),r},tagTextToProp:function(t,e){var i,n;null==e&&(e={}),e.img&&l(e,M,"img"),c.test(t)?(l(e,A,"b",!0),i=""):f.test(t)?(l(e,M,"b"),i=""):p.test(t)?(l(e,A,"i",!0),i=""):d.test(t)?(l(e,M,"i"),i=""):y.test(t)?(n=t.match(y),l(e,A,"size",n[1]+"px"),i=""):g.test(t)?(l(e,M,"size"),i=""):v.test(t)?(n=t.match(v),l(e,A,"color",n[1]),i=""):m.test(t)?(l(e,M,"color"),i=""):b.test(t)?(n=t.match(b),l(e,A,"u",!0),i=""):w.test(t)?(n=t.match(w),l(e,A,"u",n[1]),i=""):k.test(t)?(l(e,M,"u"),i=""):x.test(t)?(l(e,A,"shadow",!0),i=""):O.test(t)?(l(e,M,"shadow"),i=""):S.test(t)?(l(e,A,"stroke",!0),i=""):P.test(t)?(n=t.match(P),l(e,A,"stroke",n[1]),i=""):T.test(t)?(l(e,M,"stroke"),i=""):C.test(t)?(n=t.match(C),l(e,A,"img",n[1]),i=""):_.test(t)?(l(e,M,"img"),i=""):j.test(t)?(n=t.match(j),l(e,A,"area",n[1]),i=""):B.test(t)?(l(e,M,"area"),i=""):i=t;var o=r;return o.plainText=i,o.prop=e,o},propToContextStyle:function(t,e){var i=o;if(e.hasOwnProperty("img"))i.image=e.img;else{if(i.image=null,e.hasOwnProperty("family")?i.fontFamily=e.family:i.fontFamily=t.fontFamily,e.hasOwnProperty("size")){var n=e.size;"number"==typeof n&&(n=n.toString()+"px"),i.fontSize=n}else i.fontSize=t.fontSize;i.fontStyle=h(e.b,e.i),e.hasOwnProperty("color")?i.color=e.color:i.color=t.color,e.hasOwnProperty("stroke")?!0===e.stroke?(i.stroke=t.stroke,i.strokeThickness=t.strokeThickness):(i.stroke=e.stroke,i.strokeThickness=t.strokeThickness):(i.stroke=t.stroke,i.strokeThickness=0)}return e.hasOwnProperty("shadow")?!0===e.shadow?(i.shadowColor=t.shadowColor,i.shadowOffsetX=t.shadowOffsetX,i.shadowOffsetY=t.shadowOffsetY,i.shadowBlur=t.shadowBlur,i.shadowStroke=!0,i.shadowFill=!0):(i.shadowColor=e.shadow,i.shadowOffsetX=t.shadowOffsetX,i.shadowOffsetY=t.shadowOffsetY,i.shadowBlur=t.shadowBlur,i.shadowStroke=!0,i.shadowFill=!0):(i.shadowColor="#000",i.shadowOffsetX=0,i.shadowOffsetY=0,i.shadowBlur=0,i.shadowStroke=!1,i.shadowFill=!1),e.hasOwnProperty("u")?!0===e.u?(i.underlineColor=t.underlineColor,i.underlineThickness=t.underlineThickness,i.underlineOffset=t.underlineOffset):(i.underlineColor=e.u,i.underlineThickness=t.underlineThickness,i.underlineOffset=t.underlineOffset):(i.underlineColor="#000",i.underlineThickness=0,i.underlineOffset=0),i},propToTagText:function(t,e,i){for(var n in null==i&&(i=s),i)e.hasOwnProperty(n)||(t="[/"+n+"]"+t);var r="";for(var n in e)i[n]!==e[n]&&("size"===n?r+="[size="+e[n].replace("px","")+"]":"color"===n||"stroke"===n||"img"===n?r+="["+n+"="+e[n]+"]":"u"===n?!0===e[n]?r+="[u]":r+="[u="+e[n]+"]":r+="["+n+"]");return r+t}},l=function(t,e,i,n){return e===A?t[i]=n:t.hasOwnProperty(i)&&delete t[i],t},h=function(t,e){return t&&e?"bold italic":t?"bold":e?"italic":""},u=/\[b\]|\[\/b\]|\[i\]|\[\/i\]|\[size=(\d+)\]|\[\/size\]|\[color=([a-z]+|#[0-9abcdef]+)\]|\[\/color\]|\[u\]|\[u=([a-z]+|#[0-9abcdef]+)\]|\[\/u\]|\[shadow\]|\[\/shadow\]|\[stroke\]|\[stroke=([a-z]+|#[0-9abcdef]+)\]|\[\/stroke\]|\[img=([^\]]+)\]|\[\/img\]|\[area=([^\]]+)\]|\[\/area\]/gi,c=/\[b\]/i,f=/\[\/b\]/i,p=/\[i\]/i,d=/\[\/i\]/i,y=/\[size=(\d+)\]/i,g=/\[\/size\]/i,v=/\[color=([a-z]+|#[0-9abcdef]+)\]/i,m=/\[\/color\]/i,b=/\[u\]/i,w=/\[u=([a-z]+|#[0-9abcdef]+)\]/i,k=/\[\/u\]/i,x=/\[shadow\]/i,O=/\[\/shadow\]/i,S=/\[stroke\]/i,P=/\[stroke=([a-z]+|#[0-9abcdef]+)\]/i,T=/\[\/stroke\]/i,C=/\[img=([^\]]+)\]/i,_=/\[\/img\]/i,j=/\[area=([^\]]+)\]/i,B=/\[\/area\]/i,M=!1,A=!0,E=a;function R(t){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function W(t){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function F(t,e){return(F=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var I=function(t){function e(t,i,n,r,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){return!e||"object"!==R(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,W(e).call(this,t,i,n,r,o,"rexBBCodeText",E))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&F(t,e)}(e,n.a),e}();e.a=I},56:function(t,e,i){"use strict";var n=i(5);e.a=function(t){return Object(n.a)(t)?t.events:t.on?t:void 0}},57:function(t,e,i){"use strict";var n=i(71),r=i.n(n),o=i(72),s=i.n(o),a=i(9),l=(a.a,a.a,{renderWebGL:r.a,renderCanvas:s.a}),h=i(34),u=i(1),c=(u.a.hleft,u.a.hcenter),f=u.a.hright,p=(u.a.vtop,u.a.vcenter),d=u.a.vbottom,y={draw:function(t,e,i,n){var r=this.penManager;this.hitAreaManager.clear();var o=this.context;o.save(),this.drawBackground(this.defatultStyle.backgroundColor);var s=this.defatultStyle;t+=this.startXOffset,e+=this.startYOffset;var a,l,h,u,y,g,v=s.halign,m=s.valign,b=s.lineHeight,w=r.lines,k=w.length,x=s.maxLines;x>0&&k>x?(l=x,h=m===p?Math.floor((k-l)/2):m===d?k-l:0):(l=k,h=0),u=h+l,g=m===p?Math.max((n-l*b)/2,0):m===d?Math.max(n-l*b-2,0):0,g+=e;for(var O=h;O<u;O++)if(0!==(a=r.getLineWidth(O))){y=v===c?(i-a)/2:v===f?i-a:0,y+=t;for(var S=w[O],P=0,T=S.length;P<T;P++)this.drawPen(S[P],y,g)}o.restore()},drawPen:function(t,e,i){e+=t.x,i+=t.y;var n=this.canvas,r=this.context;r.save();var o=this.parser.propToContextStyle(this.defatultStyle,t.prop);o.buildFont(),o.syncFont(n,r),o.syncStyle(n,r),o.underlineThickness>0&&t.width>0&&this.drawUnderline(e,i,t.width,o),t.isTextPen&&this.drawText(e,i,t.text,o),t.isImagePen&&this.drawImage(e,i,t.prop.img,o),r.restore(),t.hasAreaMarker&&t.width>0&&this.hitAreaManager.add(t.prop.area,e,i-this.startYOffset,t.width,this.defatultStyle.lineHeight)},clear:function(){var t=this.canvas;this.context.clearRect(0,0,t.width,t.height)},drawBackground:function(t){null!==t&&(this.context.fillStyle=t,this.context.fillRect(0,0,this.canvas.width,this.canvas.height))},drawUnderline:function(t,e,i,n){e+=n.underlineOffset-n.underlineThickness/2,this.autoRound&&(t=Math.round(t),e=Math.round(e));var r=this.context,o=r.lineCap;r.lineCap="butt",r.beginPath(),r.strokeStyle=n.underlineColor,r.lineWidth=n.underlineThickness,r.moveTo(t,e),r.lineTo(t+i,e),r.stroke(),r.lineCap=o},drawText:function(t,e,i,n){this.autoRound&&(t=Math.round(t),e=Math.round(e));var r=this.context;n.strokeThickness&&(n.syncShadow(r,n.shadowStroke),r.strokeText(i,t,e)),n.color&&"none"!==n.color&&(n.syncShadow(r,n.shadowFill),r.fillText(i,t,e))},drawImage:function(t,e,i,n){var r=this.parent.imageManager,o=r.get(i),s=r.getFrame(i);t+=o.left,e+=-this.startYOffset+o.y,this.autoRound&&(t=Math.round(t),e=Math.round(e)),this.context.drawImage(s.source.image,s.cutX,s.cutY,s.cutWidth,s.cutHeight,t,e,o.width,o.height)}},g=i(12);function v(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var m=Phaser.Utils.Objects.GetValue,b=u.a.NO_NEWLINE,w=u.a.RAW_NEWLINE,k=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.prop={},this.resetFromJSON(e)}var e,i;return e=t,(i=[{key:"resetFromJSON",value:function(t){this.text=m(t,"text",""),this.x=m(t,"x",0),this.y=m(t,"y",0),this.width=m(t,"width",0);var e=m(t,"prop",null);null===e&&(e={}),this.prop=e,this.newLineMode=m(t,"newLineMode",0),this.startIndex=m(t,"startIndex",0)}},{key:"plainText",get:function(){var t=this.text;return this.newLineMode===w&&(t+="\n"),t}},{key:"wrapText",get:function(){var t=this.text;return this.newLineMode!==b&&(t+="\n"),t}},{key:"rawTextLength",get:function(){var t=this.text.length;return this.newLineMode===w&&(t+=1),t}},{key:"endIndex",get:function(){return this.startIndex+this.rawTextLength}},{key:"lastX",get:function(){return this.x+this.width}},{key:"isTextPen",get:function(){return""!==this.text}},{key:"isImagePen",get:function(){return!!this.prop.img}},{key:"hasAreaMarker",get:function(){return!!this.prop.area}}])&&v(e.prototype,i),t}(),x=i(11);function O(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var S=Phaser.Utils.Objects.GetFastValue,P=u.a.NO_NEWLINE,T=u.a.WRAPPED_NEWLINE,C=new g.a,_=new g.a,j=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pens=[],this.lines=[],this.maxLinesWidth=void 0,this.PensPool=S(e,"pensPool",C),this.LinesPool=S(e,"linesPool",_),this.tagToText=S(e,"tagToText",a.a),this.tagToTextScope=S(e,"tagToTextScope",void 0)}var e,i;return e=t,(i=[{key:"destroy",value:function(){this.freePens(),this.tagToText=void 0,this.tagToTextScope=void 0}},{key:"freePens",value:function(){for(var t=0,e=this.lines.length;t<e;t++)this.lines[t].length=0;this.PensPool.pushMultiple(this.pens),this.LinesPool.pushMultiple(this.lines),this.maxLinesWidth=void 0}},{key:"addTextPen",value:function(t,e,i,n,r,o){var s=this.PensPool.pop();return null==s&&(s=new k),B.text=t,B.x=e,B.y=i,B.width=n,B.prop=r,B.newLineMode=o,s.resetFromJSON(B),this.addPen(s),this}},{key:"addImagePen",value:function(t,e,i,n){return this.addTextPen("",t,e,i,n,P),this}},{key:"addNewLinePen",value:function(){var t=this.lastPen,e=t?t.lastX:0,i=t?t.y:0,n=t?Object(x.a)(t.prop):null;return this.addTextPen("",e,i,0,n,T),this}},{key:"addPen",value:function(t){var e=this.lastPen;t.startIndex=null==e?0:e.endIndex,this.pens.push(t);var i=this.lastLine;null==i&&(i=this.LinesPool.pop()||[],this.lines.push(i)),i.push(t),t.newLineMode!==P&&(i=this.LinesPool.pop()||[],this.lines.push(i)),this.maxLinesWidth=void 0}},{key:"clone",value:function(e){null==e&&(e=new t),e.freePens();for(var i=0,n=this.lines.length;i<n;i++)for(var r=this.lines[i],o=0,s=r.length;o<s;o++){var a=r[o];e.addPen(a.text,a.x,a.y,a.width,Object(x.a)(a.prop),a.newLineMode)}return e}},{key:"getLineStartIndex",value:function(t){if(t>=this.lines.length)return this.getLineEndIndex(t);var e=this.lines[t];return e&&e[0]?e[0].startIndex:0}},{key:"getLineEndIndex",value:function(t){t>=this.lines.length&&(t=this.lines.length-1);var e,i,n=!1;for(e=t;e>=0&&!(n=null!=(i=this.lines[e])&&i.length>0);e--);return n?i[i.length-1].endIndex:0}},{key:"getLineWidth",value:function(t){var e=this.lines[t];if(!e)return 0;var i=e[e.length-1];return null==i?0:i.lastX}},{key:"getMaxLineWidth",value:function(){if(void 0!==this.maxLinesWidth)return this.maxLinesWidth;for(var t,e=0,i=0,n=this.lines.length;i<n;i++)(t=this.getLineWidth(i))>e&&(e=t);return this.maxLinesWidth=e,e}},{key:"getLineWidths",value:function(){for(var t=[],e=0,i=this.lines.length;e<i;e++)t.push(this.getLineWidth(e));return t}},{key:"getSliceTagText",value:function(t,e,i){if(void 0===t&&(t=0),void 0===e){var n=this.lastPen;if(null==n)return"";e=n.endIndex}void 0===i&&(i=!1);for(var r,o,s,a,l,h,u="",c=0,f=this.pens.length;c<f&&((a=(r=this.pens[c]).endIndex)<=t||(r=this.pens[c],o=i?r.wrapText:r.plainText,l=r.prop,(s=r.startIndex)>=t&&a<=e||(o=o.substring(t-s,e-s)),this.tagToTextScope?u+=this.tagToText.call(this.tagToTextScope,o,l,h):u+=this.tagToText(o,l,h),h=l,!(a>=e)));c++);return u}},{key:"lastPen",get:function(){return this.pens[this.pens.length-1]}},{key:"lastLine",get:function(){return this.lines[this.lines.length-1]}},{key:"linesCount",get:function(){return this.lines.length}},{key:"plainText",get:function(){for(var t="",e=this.pens,i=0,n=e.length;i<n;i++)t+=e[i].plainText;return t}},{key:"rawTextLength",get:function(){for(var t=0,e=this.pens,i=0,n=this.pens.length;i<n;i++)t+=e[i].rawTextLength;return t}}])&&O(e.prototype,i),t}(),B={},M=j;function A(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var E=Phaser.Geom.Rectangle,R=new g.a,W=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hitAreas=[]}var e,i;return e=t,(i=[{key:"destroy",value:function(){this.clear()}},{key:"clear",value:function(){return R.pushMultiple(this.hitAreas),this}},{key:"add",value:function(t,e,i,n,r){var o=R.pop();return null===o?o=new E(e,i,n,r):o.setTo(e,i,n,r),o.key=t,this.hitAreas.push(o),this}},{key:"contains",value:function(t,e){for(var i,n=this.hitAreas,r=0,o=n.length;r<o;r++)if((i=n[r]).contains(t,e))return i.key;return!1}},{key:"drawBounds",value:function(t,e,i){void 0===e&&(e=16777215),i&&t.save().scaleCanvas(i.scaleX,i.scaleY).rotateCanvas(i.rotation).translateCanvas(i.x,i.y);for(var n,r=this.hitAreas,o=0,s=r.length;o<s;o++)n=r[o],t.lineStyle(1,e).strokeRect(n.x,n.y,n.width,n.height);return i&&t.restore(),this}}])&&A(e.prototype,i),t}(),F=function(t,e,i,n){var r=this.hitAreaManager.contains(i,n);!1!==r&&(this.parent.emit("".concat(t,"-").concat(r),e,i,n),this.parent.emit(t,r,e,i,n))},I=u.a.NO_NEWLINE,D=u.a.RAW_NEWLINE,L=u.a.WRAPPED_NEWLINE,z=u.a.NO_WRAP,Y=u.a.WORD_WRAP,H=(u.a.CHAR_WRAP,u.a.SPLITREGEXP),N=[],X=new g.a;X.newline=function(t,e,i){var n=this.pop();return null===n&&(n={}),n.text=t,n.width=e,n.newLineMode=i,n};var G=function(t,e,i,n,r){n<=0&&(i=z);var o=N;if(X.pushMultiple(o),!t||!t.length)return o;for(var s,a,l,h=t.split(H),u=0,c=h.length;u<c;u++)if(s=h[u],l=u===c-1?I:D,i!==z){var f,p;if(a=0===u?n-r:n,s.length<=100&&(w=e(s))<=a){o.push(X.newline(s,w,l));continue}for(var d,y="",g="",v=0,m=0,b=(f=i===Y?s.split(" "):s).length;m<b;m++)p=f[m],i===Y?(y+=p,m<b-1&&(y+=" ")):y+=p,(d=e(y))>a&&(0===m?o.push(X.newline("",0,L)):(o.push(X.newline(g,v,L)),y=p,i===Y&&m<b-1&&(y+=" "),d=e(y)),a=n),g=y,v=d;o.push(X.newline(g,v,l))}else{var w=e(s);o.push(X.newline(s,w,l))}return o};function U(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var V=Phaser.Utils.Objects.GetValue,K=u.a.NO_WRAP,J=u.a.NO_NEWLINE,Z=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.parent=e.parent,this.context=V(e,"context",null),this.canvas=this.context.canvas,this.parser=V(e,"parser",null),this.defatultStyle=V(e,"style",null),this.autoRound=!0,this.pensPool=V(e,"pensPool",null),this.penManager=this.newPenManager(),this._tmpPenManager=null,this.hitAreaManager=new W;var i=this.context;this.getTextWidth=function(t){return i.measureText(t).width}}var e,i;return e=t,(i=[{key:"destroy",value:function(){this.context=void 0,this.canvas=void 0,this.parser=void 0,this.defatultStyle=void 0,this.penManager&&(this.penManager.destroy(),this.penManager=void 0),this._tmpPenManager&&(this._tmpPenManager.destroy(),this._tmpPenManager=void 0),this.hitAreaManager&&(this.hitAreaManager.destroy(),this.hitAreaManager=void 0)}},{key:"updatePenManager",value:function(t,e,i,n,r){if(void 0===r&&(r=this.penManager),r.freePens(),""===t)return r;for(var o,s,a,l,h,u=this.canvas,c=this.context,f=0,p=0,d=this.parser.splitText(t),y=0,g=d.length;y<g;y++)if(o=(l=this.parser.tagTextToProp(d[y],s)).plainText,(s=l.prop).img){var v=this.imageManager.getOuterWidth(s.img);i>0&&e!==K&&i<f+v&&(r.addNewLinePen(),p+=n,f=0),r.addImagePen(f,p,v,Object(x.a)(s)),f+=v}else if(""!==o){var m;this.context.save(),(a=this.parser.propToContextStyle(this.defatultStyle,s)).buildFont(),a.syncFont(u,c),a.syncStyle(u,c);for(var b=0,w=(h=G(o,this.getTextWidth,e,i,f)).length;b<w;b++)m=h[b],r.addTextPen(m.text,f,p,m.width,Object(x.a)(s),m.newLineMode),m.newLineMode!==J?(f=0,p+=n):f+=m.width;this.context.restore()}return r}},{key:"newPenManager",value:function(){return new M({pensPool:this.pensPool,tagToText:this.parser.propToTagText,tagToTextScope:this.parser})}},{key:"getPlainText",value:function(t,e,i){var n;if(null==t)n=this.penManager.plainText;else{var r=this.parser.splitText(t,1);n="";for(var o=0,s=r.length;o<s;o++)n+=r[o]}return null==e&&null==i||(null==e&&(e=0),null==i&&(i=n.length),n=n.substring(e,i)),n}},{key:"getPenManager",value:function(t,e){if(void 0===t)return this.copyPenManager(e,this.penManager);void 0===e&&(e=this.newPenManager());var i=this.defatultStyle;return this.updatePenManager(t,i.wrapMode,i.wrapWidth,i.lineHeight,e),e}},{key:"getText",value:function(t,e,i,n){if(null==t)return this.penManager.getSliceTagText(e,i,n);var r=this.tmpPenManager,o=this.defatultStyle;return this.updatePenManager(t,o.wrapMode,o.wrapWidth,o.lineHeight,r),r.getSliceTagText(e,i,n)}},{key:"copyPenManager",value:function(t,e){return void 0===e&&(e=this.penManager),e.copy(t)}},{key:"getTextWidth",value:function(t){return void 0===t&&(t=this.penManager),t.getMaxLineWidth()}},{key:"getLastPen",value:function(t){return void 0===t&&(t=this.penManager),t.lastPen}},{key:"startXOffset",get:function(){return this.defatultStyle.strokeThickness/2}},{key:"startYOffset",get:function(){var t=this.defatultStyle;return t.strokeThickness/2+t.metrics.ascent}},{key:"lines",get:function(){return this.penManager.lines}},{key:"desplayLinesCount",get:function(){var t=this.penManager.linesCount,e=this.defatultStyle.maxLines;return e>0&&t>e&&(t=e),t}},{key:"linesWidth",get:function(){return this.penManager.getMaxLineWidth()}},{key:"linesHeight",get:function(){var t=this.desplayLinesCount,e=this.defatultStyle.lineHeight*t;return t>0&&(e-=this.defatultStyle.lineSpacing),e}},{key:"imageManager",get:function(){return this.parent.imageManager}},{key:"tmpPenManager",get:function(){return null===this._tmpPenManager&&(this._tmpPenManager=this.newPenManager()),this._tmpPenManager}}])&&U(e.prototype,i),t}(),Q={setInteractive:function(){this.parent.on("pointerdown",(function(t,e,i,n){F.call(this,"areadown",t,e,i)}),this).on("pointerup",(function(t,e,i,n){F.call(this,"areaup",t,e,i)}),this)}};Object.assign(Z.prototype,y,Q);var q=Z;function $(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var tt,et=Phaser.Utils.Objects.GetValue,it=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.textureManager=e,this.images={}}var e,i;return e=t,(i=[{key:"add",value:function(t,e){if("string"==typeof t)this._add(t,e);else if(Array.isArray(t))for(var i=0,n=(r=t).length;i<n;i++)this._add(r[i]);else{var r=t;for(var t in r)this._add(t,r[t])}return this}},{key:"_add",value:function(t,e){void 0===e&&(e={key:t});var i=e.key,n=e.frame,r=e.width,o=e.height;if(void 0===r||void 0===o){var s=this.textureManager.getFrame(i,n),a=s?s.cutWidth:0,l=s?s.cutHeight:0;void 0===r&&void 0===o?(r=a,o=l):void 0===r?r=a*(o/l):void 0===o&&(o=l*(r/a))}this.images[t]={key:i,frame:n,width:r,height:o,y:et(e,"y",0),left:et(e,"left",0),right:et(e,"right",0)}}},{key:"remove",value:function(t){return this.images.hasOwnProperty(t)&&delete this.images[t],this}},{key:"get",value:function(t){return this.images.hasOwnProperty(t)||this.textureManager.exists(t)&&this.add(t),this.images[t]}},{key:"getOuterWidth",value:function(t){var e=this.get(t);return e?e.width+e.left+e.right:0}},{key:"getFrame",value:function(t){var e=this.get(t);return e?this.textureManager.getFrame(e.key,e.frame):void 0}},{key:"hasTexture",value:function(t){return!!this.getFrame(t)}}])&&$(e.prototype,i),t}();function nt(t){return(nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ot(t){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function st(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function at(t,e){return(at=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var lt=Phaser.DOM.AddToDOM,ht=Phaser.Display.Canvas.CanvasPool,ut=Phaser.GameObjects.GameObject,ct=Phaser.Utils.Objects.GetValue,ft=Phaser.DOM.RemoveFromDOM,pt=u.a.SPLITREGEXP,dt={},yt=function(t){function e(t,i,n,r,o,s,a){var l,u;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===i&&(i=0),void 0===n&&(n=0),(l=!(u=ot(e).call(this,t,s))||"object"!==nt(u)&&"function"!=typeof u?st(this):u).renderer=t.sys.game.renderer,l.setPosition(i,n),l.setOrigin(0,0),l.initPipeline(),l.canvas=ht.create(st(l)),l.context=l.canvas.getContext("2d"),o&&o.hasOwnProperty("align")){var c=o.align;delete o.align,o.halign=c}return l.style=new h.a(st(l),o),l.autoRound=!0,l._text=void 0,l.padding={left:0,right:0,top:0,bottom:0},l.width=1,l.height=1,l.dirty=!1,0===l.style.resolution&&(l.style.resolution=t.sys.game.config.resolution),l._crop=l.resetCropObject(),l.texture=t.sys.textures.addCanvas(null,l.canvas,!0),l.frame=l.texture.get(),l.frame.source.resolution=l.style.resolution,l.renderer&&l.renderer.gl&&(l.renderer.deleteTexture(l.frame.source.glTexture),l.frame.source.glTexture=null),dt.hasOwnProperty(s)||(dt[s]=new g.a),l.canvasText=new q({parent:st(l),context:l.context,parser:a,style:l.style,pensPool:dt[s]}),o&&o.padding&&l.setPadding(o.padding),l.setText(r),t.sys.game.events.on("contextrestored",(function(){this.dirty=!0}),st(l)),l}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&at(t,e)}(e,ut),i=e,(n=[{key:"initRTL",value:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",lt(this.canvas,this.scene.sys.canvas),this.originX=1)}},{key:"setText",value:function(t){return t||0===t||(t=""),Array.isArray(t)&&(t=t.join("\n")),t!==this._text&&(this._text=t.toString(),this.updateText()),this}},{key:"setStyle",value:function(t){return this.style.setStyle(t)}},{key:"setFont",value:function(t){return this.style.setFont(t)}},{key:"setFontFamily",value:function(t){return this.style.setFontFamily(t)}},{key:"setFontSize",value:function(t){return this.style.setFontSize(t)}},{key:"setFontStyle",value:function(t){return this.style.setFontStyle(t)}},{key:"setFixedSize",value:function(t,e){return this.style.setFixedSize(t,e)}},{key:"setBackgroundColor",value:function(t){return this.style.setBackgroundColor(t)}},{key:"setFill",value:function(t){return this.style.setFill(t)}},{key:"setColor",value:function(t){return this.style.setColor(t)}},{key:"setStroke",value:function(t,e){return this.style.setStroke(t,e)}},{key:"setShadow",value:function(t,e,i,n,r,o){return this.style.setShadow(t,e,i,n,r,o)}},{key:"setShadowOffset",value:function(t,e){return this.style.setShadowOffset(t,e)}},{key:"setShadowColor",value:function(t){return this.style.setShadowColor(t)}},{key:"setShadowBlur",value:function(t){return this.style.setShadowBlur(t)}},{key:"setShadowStroke",value:function(t){return this.style.setShadowStroke(t)}},{key:"setShadowFill",value:function(t){return this.style.setShadowFill(t)}},{key:"setWrapMode",value:function(t){return this.style.setWrapMode(t)}},{key:"setWrapWidth",value:function(t){return this.style.setWrapWidth(t)}},{key:"setAlign",value:function(t){return this.style.setHAlign(t)}},{key:"setLineSpacing",value:function(t){return this.style.setLineSpacing(t)}},{key:"setPadding",value:function(t,e,i,n){if("object"===nt(t)){var r=t,o=ct(r,"x",null);null!==o?(t=o,i=o):(t=ct(r,"left",0),i=ct(r,"right",t));var s=ct(r,"y",null);null!==s?(e=s,n=s):(e=ct(r,"top",0),n=ct(r,"bottom",e))}else void 0===t&&(t=0),void 0===e&&(e=t),void 0===i&&(i=t),void 0===n&&(n=e);return this.padding.left=t,this.padding.top=e,this.padding.right=i,this.padding.bottom=n,this.updateText(!1)}},{key:"setResolution",value:function(t){return this.style.setResolution(t)}},{key:"setMaxLines",value:function(t){return this.style.setMaxLines(t)}},{key:"updateText",value:function(t){void 0===t&&(t=!0);var e=this.canvasText,i=this.style;t&&e.updatePenManager(this._text,i.wrapMode,i.wrapWidth,i.lineHeight);var n,r,o=this.padding;0===i.fixedWidth?(this.width=e.linesWidth+o.left+o.right,n=e.linesWidth):(this.width=i.fixedWidth,(n=this.width-o.left-o.right)<e.linesWidth&&(n=e.linesWidth)),0===i.fixedHeight?(this.height=e.linesHeight+o.top+o.bottom,r=e.linesHeight):(this.height=i.fixedHeight,(r=this.height-o.top-o.bottom)<e.linesHeight&&(r=e.linesHeight));var s=this.width,a=this.height;this.updateDisplayOrigin();var l=i.resolution;s*=l,a*=l,s=Math.max(Math.ceil(s),1),a=Math.max(Math.ceil(a),1);var h=this.canvas,u=this.context;h.width!==s||h.height!==a?(h.width=s,h.height=a,this.frame.setSize(s,a)):u.clearRect(0,0,s,a),u.save(),u.scale(l,l),e.draw(o.left,o.top,n,r),u.restore(),this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(h,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0;var c=this.input;return c&&!c.customHitArea&&(c.hitArea.width=this.width,c.hitArea.height=this.height),this}},{key:"getTextMetrics",value:function(){return this.style.getTextMetrics()}},{key:"toJSON",value:function(){var t=gt.ToJSON(this),e={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),resolution:this.resolution,padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return t.data=e,t}},{key:"preDestroy",value:function(){this.style.rtl&&ft(this.canvas),ht.remove(this.canvas),this.canvasText.destroy()}},{key:"setInteractive",value:function(t,e,i){return ut.prototype.setInteractive.call(this,t,e,i),this.canvasText.setInteractive(),this}},{key:"getWrappedText",value:function(t,e,i){return(t=this.canvasText.getText(t,e,i,!0)).split(pt)}},{key:"getPlainText",value:function(t,e,i){return this.canvasText.getPlainText(t,e,i)}},{key:"getText",value:function(t,e,i){return this.canvasText.getText(t,e,i,!1)}},{key:"getSubString",value:function(t,e,i){return this.getText(t,e,i)}},{key:"copyPenManager",value:function(t){return this.canvasText.copyPenManager(t)}},{key:"getPenManager",value:function(t,e){return this.canvasText.getPenManager(t,e)}},{key:"setSize",value:function(t,e){return this.setFixedSize(t,e)}},{key:"resize",value:function(t,e){return this.setFixedSize(t,e)}},{key:"addImage",value:function(t,e){return this.imageManager.add(t,e),this}},{key:"drawAreaBounds",value:function(t,e){return this.canvasText.hitAreaManager.drawBounds(t,e,this),this}},{key:"text",set:function(t){this.setText(t)},get:function(){return this._text}},{key:"lineSpacing",set:function(t){this.setLineSpacing(t)},get:function(){return this.style.lineSpacing}},{key:"imageManager",get:function(){return t=this.scene.textures,void 0===tt&&(tt=new it(t)),tt;var t}}])&&rt(i.prototype,n),e}(),gt=Phaser.GameObjects.Components;Phaser.Class.mixin(yt,[gt.Alpha,gt.BlendMode,gt.ComputedSize,gt.Crop,gt.Depth,gt.Flip,gt.GetBounds,gt.Mask,gt.Origin,gt.Pipeline,gt.ScrollFactor,gt.Tint,gt.Transform,gt.Visible,l]),e.a=yt},58:function(t,e,i){"use strict";e.a=function(t){return t.hasOwnProperty("geometryMask")?t.geometryMask:t.bitmapMask}},59:function(t,e,i){"use strict";var n=i(3);function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=Phaser.Utils.Objects.GetValue,s=Phaser.Utils.Objects.GetAdvancedValue,a=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=Object(n.a)(e),this.alphaStart=void 0,this.alphaEnd=void 0,this.tween=void 0,this.resetFromJSON(i),this.boot()}var e,i;return e=t,(i=[{key:"resetFromJSON",value:function(t){return this.setMode(o(t,"mode",0)),this.setAlphaRange(s(t,"start",this.gameObject.alpha),s(t,"end",0)),this.setDelay(s(t,"delay",0)),this.setDuration(s(t,"duration",1e3)),this}},{key:"toJSON",value:function(){return{mode:this.mode,start:this.alphaStart,end:this.alphaEnd,delay:this.delay,duration:this.duration}}},{key:"boot",value:function(){this.gameObject.once&&this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){return this.stop(),this.gameObject=void 0,this.scene=void 0,this}},{key:"destroy",value:function(){return this.shutdown(),this}},{key:"setMode",value:function(t){return"string"==typeof t&&(t=l[t]),this.mode=t,this}},{key:"setAlphaRange",value:function(t,e){return this.alphaStart=t,this.alphaEnd=e,this}},{key:"setDelay",value:function(t){return this.delay=t,this}},{key:"setDuration",value:function(t){return this.duration=t,this}},{key:"start",value:function(){return this.tween?this:0===this.duration?(this.gameObject.alpha=this.alphaEnd,this.stop(),this.complete(),this):(this.tween=this.scene.tweens.add({targets:this.gameObject,alpha:{from:this.alphaStart,to:this.alphaEnd},delay:this.delay,duration:this.duration,ease:"Linear",yoyo:2==this.mode,repeat:2==this.mode?-1:0,onComplete:this.complete,onCompleteScope:this}),this)}},{key:"restart",value:function(){return this.stop().start(),this}},{key:"stop",value:function(){return this.tween?(this.tween.remove(),this.tween=void 0,this):this}},{key:"complete",value:function(){return this.stop(),1===this.mode&&this.gameObject.destroy(),this}}])&&r(e.prototype,i),t}(),l={stop:0,destroy:1,yoyo:2},h=a;e.a=h},60:function(t,e,i){"use strict";var n=i(3);function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=Phaser.Utils.Objects.GetValue,s=Phaser.Utils.Objects.GetAdvancedValue,a=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gameObject=e,this.scene=Object(n.a)(e),this.scaleStart={},this.scaleEnd={},this.tween=void 0,this.resetFromJSON(i),this.boot()}var e,i;return e=t,(i=[{key:"resetFromJSON",value:function(t){return this.setMode(o(t,"mode",0)),this.setScaleRange(s(t,"start",void 0),s(t,"end",0)),this.setDelay(s(t,"delay",0)),this.setDuration(s(t,"duration",1e3)),this.setEase(o(t,"ease",void 0)),this}},{key:"toJSON",value:function(){return{mode:this.mode,start:this.scaleStart,end:this.scaleEnd,delay:this.delay,duration:this.duration}}},{key:"boot",value:function(){this.gameObject.once&&this.gameObject.once("destroy",this.destroy,this)}},{key:"shutdown",value:function(){return this.stop(),this.gameObject=void 0,this.scene=void 0,this}},{key:"destroy",value:function(){return this.shutdown(),this}},{key:"setMode",value:function(t){return"string"==typeof t&&(t=l[t]),this.mode=t,this}},{key:"setScaleRange",value:function(t,e){return"number"==typeof t?(this.scaleStart.x=t,this.scaleStart.y=t):(this.scaleStart.x=o(t,"x",this.gameObject.scaleX),this.scaleStart.y=o(t,"y",this.gameObject.scaleY)),"number"==typeof e?(this.scaleEnd.x=e,this.scaleEnd.y=e):(this.scaleEnd.x=o(e,"x",this.scaleStart.x),this.scaleEnd.y=o(e,"y",this.scaleStart.y)),this}},{key:"setDelay",value:function(t){return this.delay=t,this}},{key:"setDuration",value:function(t){return this.duration=t,this}},{key:"setEase",value:function(t){return void 0===t&&(t="Linear"),this.ease=t,this}},{key:"start",value:function(){return this.tween||(this.tween=this.scene.tweens.add({targets:this.gameObject,scaleX:{from:this.scaleStart.x,to:this.scaleEnd.x},scaleY:{from:this.scaleStart.y,to:this.scaleEnd.y},duration:this.duration,ease:this.ease,yoyo:2==this.mode,repeat:2==this.mode?-1:0,onComplete:this.complete,onCompleteScope:this})),this}},{key:"restart",value:function(){return this.stop().start(),this}},{key:"stop",value:function(){return this.tween?(this.tween.remove(),this.tween=void 0,this):this}},{key:"complete",value:function(){return this.stop(),1===this.mode&&this.gameObject.destroy(),this}}])&&r(e.prototype,i),t}(),l={stop:0,destroy:1,yoyo:2},h=a;e.a=h},61:function(t,e,i){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t,e,i){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=a(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=Phaser.GameObjects.Graphics,u=function(t){function e(t,i,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),void 0===i&&(i=0),"string"==typeof i&&(shaep=c[i]),void 0===n&&(n=0),(r=o(this,a(e).call(this,t.scene))).parent=t,r.shape=i,r.padding=n,r.setPosition().resize(),r}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,h),i=e,(n=[{key:"destroy",value:function(){return this.parent=void 0,s(a(e.prototype),"destroy",this).call(this),this}},{key:"setPosition",value:function(t,i){var n=this.parent;return void 0===t&&(t=n.x),void 0===i&&(i=n.y),s(a(e.prototype),"setPosition",this).call(this,t,i),this}},{key:"resize",value:function(t,e,i){var n=this.parent;if(void 0===t&&(t=n.width),void 0===e&&(e=n.height),void 0===i&&(i=this.padding),this.widthSave===t&&this.heightSave===e&&this.paddingSave===i)return this;switch(this.clear().fillStyle(16777215),this.shape){case 1:var r=Math.min(t,e)/2;this.fillCircle(0,0,r+i);break;default:this.fillRect(-t*n.originX-i,-e*n.originY-i,t+2*i,e+2*i)}return this.widthSave=t,this.heightSave=e,this.paddingSave=i,this}}])&&r(i.prototype,n),e}(),c={rectangle:0,circle:1};e.a=u},62:function(t,e,i){"use strict";var n=Phaser.GameObjects.GameObject;e.a=function(t){return t instanceof n}},63:function(t,e,i){"use strict";var n=function(t){t.stopPropagation()},r=function(t){t.addEventListener("touchstart",n,!1),t.addEventListener("touchmove",n,!1),t.addEventListener("touchend",n,!1),t.addEventListener("mousedown",n,!1),t.addEventListener("mouseup",n,!1),t.addEventListener("mousemove",n,!1)};function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=Phaser.GameObjects.DOMElement,c=Phaser.Utils.Objects.IsPlainObject,f=Phaser.Utils.Objects.GetValue,p=function(t){function e(t,i,n,s,h,u){var p;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),c(i)?(i=f(u=i,"x",0),n=f(u,"y",0),s=f(u,"width",void 0),h=f(u,"height",void 0)):c(s)&&(s=f(u=s,"width",void 0),h=f(u,"height",void 0)),void 0===u&&(u={});var v,m=t.scale.autoRound;void 0!==s&&(m&&(s=Math.floor(s)),u.width=s+"px"),void 0!==h&&(m&&(h=Math.floor(h)),u.height=h+"px");var b,w,k=f(u,"type","text");for(var x in"textarea"===k?(v=document.createElement("textarea")).style.resize="none":(v=document.createElement("input")).type=k,d)b=d[x],void 0!==(w=f(u,x,b[1]))&&(v[b[0]]=w);var O,S,P=f(u,"style",void 0);for(var x in void 0===P&&(P={}),y)O=y[x],void 0!==(S=f(u,x,O[1]))&&(P[O[0]]=S);var T,C=v.style;for(var x in u)x in d||x in y||x in C&&(P[x]=u[x]);P["box-sizing"]="border-box",T=a(e).call(this,t,i,n,v,P),(p=!T||"object"!==o(T)&&"function"!=typeof T?l(this):T).type="rexInputText";var _=function(t){p.node[g[t]]=function(){this.emit(t,this)}.bind(l(p))};for(var j in g)_(j);return r(p.node),p}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,u),i=e,(n=[{key:"resize",value:function(t,e){var i=this.node.style;return i.width=t+"px",i.height=e+"px",this.updateSize(),this}},{key:"setText",value:function(t){return this.text=t,this}},{key:"selectText",value:function(){return this.node.select(),this}},{key:"setPlaceholder",value:function(t){return this.placeholder=t,this}},{key:"setTooltip",value:function(t){return this.tooltip=t,this}},{key:"setTextChangedCallback",value:function(t){return this.onTextChanged=t,this}},{key:"setReadOnly",value:function(t){return void 0===t&&(t=!0),this.readOnly=t,this}},{key:"setSpellCheck",value:function(t){return this.spellCheck=t,this}},{key:"setStyle",value:function(t,e){return this.node.style[t]=e,this}},{key:"getStyle",value:function(t){return this.node.style[t]}},{key:"scrollToBottom",value:function(){return this.node.scrollTop=this.node.scrollHeight,this}},{key:"setEnabled",value:function(t){return void 0===t&&(t=!0),this.node.disabled=!t,this}},{key:"setBlur",value:function(){return this.node.blur(),this}},{key:"setFocus",value:function(){return this.node.focus(),this}},{key:"text",get:function(){return this.node.value},set:function(t){this.node.value=t}},{key:"placeholder",get:function(){return this.node.placeholder},set:function(t){this.node.placeholder=t}},{key:"tooltip",get:function(){return this.node.title},set:function(t){this.node.title=t}},{key:"readOnly",get:function(){return this.node.readOnly},set:function(t){this.node.readOnly=t}},{key:"spellCheck",get:function(){return this.node.spellcheck},set:function(t){this.node.spellcheck=t}}])&&s(i.prototype,n),e}(),d={id:["id",void 0],text:["value",void 0],placeholder:["placeholder",void 0],tooltip:["title",void 0],readOnly:["readonly",!1],spellCheck:["spellcheck",!1],autoComplete:["autocomplete","off"]},y={align:["text-align",void 0],width:["width",void 0],height:["height",void 0],fontFamily:["font-family",void 0],fontSize:["font-size",void 0],color:["color","#ffffff"],backgroundColor:["backgroundColor","transparent"],borderColor:["borderColor","transparent"],outline:["outline","none"]},g={textchange:"oninput",click:"onclick",dblclick:"ondblclick",focus:"onfocus",blur:"onblur"};e.a=p},66:function(t,e,i){"use strict";var n=i(35),r=i(30),o=i(18),s=Phaser.Utils.Objects.GetValue,a=function(t,e,i){var o,a=s(i,"argsConvert",void 0),h=s(i,"argsConvertScope",void 0),u=t[0];if(l=Object(n.a)(l,t,1),a){!0===a&&(a=r.a,h=void 0);for(var c=0,f=l.length;c<f;c++)l[c]=h?a.call(h,l[c],t):a(l[c],t)}return"string"==typeof u?null==(o=e[u])&&(o=s(e,u,null)):o=u,o.apply(e,l)},l=[];e.a=function t(e,i,n){var r,l=s(n,"reverse",!1);if(Object(o.a)(e[0]))if(l)for(h=(u=e.length)-1;h>=0;h--)r=t(e[h],i,n);else for(var h=0,u=e.length;h<u;h++)r=t(e[h],i,n);else r=a(e,i,n);return r}},7:function(t,e,i){"use strict";e.a=function(t){if(Array.isArray(t))t.length=0;else for(var e in t)delete t[e]}},71:function(t,e){var i=Phaser.Renderer.WebGL.Utils;t.exports=function(t,e,n,r,o){if(0!==e.width&&0!==e.height){var s=e.frame,a=s.width,l=s.height,h=i.getTintAppendFloatAlpha;this.pipeline.batchTexture(e,s.glTexture,a,l,e.x,e.y,a/e.style.resolution,l/e.style.resolution,e.scaleX,e.scaleY,e.rotation,e.flipX,e.flipY,e.scrollFactorX,e.scrollFactorY,e.displayOriginX,e.displayOriginY,0,0,a,l,h(e._tintTL,r.alpha*e._alphaTL),h(e._tintTR,r.alpha*e._alphaTR),h(e._tintBL,r.alpha*e._alphaBL),h(e._tintBR,r.alpha*e._alphaBR),e._isTinted&&e.tintFill,0,0,r,o)}}},72:function(t,e){t.exports=function(t,e,i,n,r){0!==e.width&&0!==e.height&&t.batchSprite(e,e.frame,n,r)}},73:function(t,e,i){"use strict";var n=i(0),r=i.n(n),o=i(7);e.a={enableData:function(){return void 0===this.data&&(this.data={}),this},getData:function(t,e){return this.enableData(),void 0===t?this.data:r()(this.data,t,e)},setData:function(t,e){return this.enableData(),this.data[t]=e,this},incData:function(t,e,i){return void 0===i&&(i=0),this.enableData(),this.setData(t,this.getData(t,i)+e),this},mulData:function(t,e,i){return void 0===i&&(i=0),this.enableData(),this.setData(t,this.getData(t,i)*e),this},clearData:function(){return this.data&&Object(o.a)(this.data),this}}},75:function(t,e,i){"use strict";e.a=function(t){return t&&"function"==typeof t}},83:function(t,e,i){"use strict";var n=i(130);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=Phaser.GameObjects.DOMElement,u=Phaser.Utils.Objects.IsPlainObject,c=Phaser.Utils.Objects.GetValue,f=function(t){function e(t,i,n,r,o,l){var h;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),u(i)?(i=c(l=i,"x",0),n=c(l,"y",0),r=c(l,"width",void 0),o=c(l,"height",void 0)):u(r)&&(r=c(l=r,"width",void 0),o=c(l,"height",void 0)),void 0===l&&(l={});var f=t.scale.autoRound;return void 0!==r&&(f&&(r=Math.floor(r)),l.width=r),void 0!==o&&(f&&(o=Math.floor(o)),l.height=o),(h=s(this,a(e).call(this,t,i,n))).type="rexVideo",h.setElement(h.createVideoElement(l)).load(c(l,"src","")),h}var i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,Object(n.a)(h)),i=e,(r=[{key:"resize",value:function(t,e){return this.width===t&&this.height===e||(this.node.width=t,this.node.height=e,this.updateSize()),this}}])&&o(i.prototype,r),e}();e.a=f},84:function(t,e,i){"use strict";var n=i(36),r=i(14);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t,e,i){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=Phaser.Utils.Objects.GetValue,f=Phaser.Math.Distance.Between,p=function(t){function e(t,i){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=a(n=function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?a(t):e}(this,h(e).call(this,t,i))),l={states:{IDLE:{enter:function(){s.stop(),s.tapsCount=0,s.x=0,s.y=0,s.worldX=0,s.worldY=0},exit:function(){var t=s.lastPointer;s.x=t.x,s.y=t.y,s.worldX=t.worldX,s.worldY=t.worldY}},BEGIN:{enter:function(){s.start(),s.tapsCount=0,s.emit("tappingstart",s,s.gameObject,s.lastPointer)}},RECOGNIZED:{enter:function(){s.start(),s.emit("tap",s,s.gameObject,s.lastPointer),s.emit("".concat(s.tapsCount,"tap"),s,s.gameObject,s.lastPointer)}}},init:function(){this.state=d},eventEmitter:!1};return n.setRecongizedStateObject(new r.a(l)),n}var i,p;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,n.a),i=e,(p=[{key:"resetFromJSON",value:function(t){l(h(e.prototype),"resetFromJSON",this).call(this,t),this.setMaxHoldTime(c(t,"time",250)),this.setTapInterval(c(t,"tapInterval",200)),this.setDragThreshold(c(t,"threshold",9)),this.setTapOffset(c(t,"tapOffset",10));var i=c(t,"taps",void 0);return void 0!==i?this.setTaps(i):(this.setMaxTaps(c(t,"maxTaps",void 0)),this.setMinTaps(c(t,"minTaps",void 0))),this}},{key:"onDragStart",value:function(){switch(this.state){case d:this.state=y;break;case y:var t=this.lastPointer;f(t.upX,t.upY,t.x,t.y)>this.tapOffset&&(this.state=g,this.state=y);break;case g:this.state=y}}},{key:"onDragEnd",value:function(){this.state===y&&(this.tapsCount++,this.emit("tapping",this,this.gameObject,this.lastPointer),void 0!==this.maxTaps&&this.tapsCount===this.maxTaps&&(this.state=g))}},{key:"onDrag",value:function(){this.state!==d&&this.pointer.getDistance()>this.dragThreshold&&(this.state=d)}},{key:"preUpdate",value:function(t,e){if(this.state===y){var i=this.lastPointer;i.isDown?t-i.downTime>this.holdTime&&(this.state=d):t-i.upTime>this.tapInterval&&(void 0===this.minTaps||this.tapsCount>=this.minTaps?this.state=g:this.state=d)}}},{key:"postUpdate",value:function(t,e){this.state===g&&(this.state=d)}},{key:"setMaxHoldTime",value:function(t){return this.holdTime=t,this}},{key:"setTapInterval",value:function(t){return this.tapInterval=t,this}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"setTapOffset",value:function(t){return this.tapOffset=t,this}},{key:"setMaxTaps",value:function(t){return this.maxTaps=t,this}},{key:"setMinTaps",value:function(t){return this.minTaps=t,this}},{key:"setTaps",value:function(t,e){return void 0===e&&(e=t),this.setMinTaps(t).setMaxTaps(e),this}},{key:"isTapped",get:function(){return this.state===g}}])&&s(i.prototype,p),e}(),d="IDLE",y="BEGIN",g="RECOGNIZED";e.a=p},85:function(t,e,i){"use strict";var n=i(36),r=i(14);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t,e,i){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(i):r.value}})(t,e,i||t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=Phaser.Utils.Objects.GetValue,f=function(t){function e(t,i){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s=a(n=function(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?a(t):e}(this,h(e).call(this,t,i))),l={states:{IDLE:{enter:function(){s.x=0,s.y=0,s.worldX=0,s.worldY=0},exit:function(){var t=s.lastPointer;s.x=t.x,s.y=t.y,s.worldX=t.worldX,s.worldY=t.worldY}},BEGIN:{enter:function(){s.start()},exit:function(){s.stop()}},RECOGNIZED:{enter:function(){s.emit("pressstart",s,s.gameObject,s.lastPointer)},exit:function(){s.emit("pressend",s,s.gameObject,s.lastPointer)}}},init:function(){this.state=p},eventEmitter:!1};return n.setRecongizedStateObject(new r.a(l)),n}var i,f;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,n.a),i=e,(f=[{key:"resetFromJSON",value:function(t){return l(h(e.prototype),"resetFromJSON",this).call(this,t),this.setDragThreshold(c(t,"threshold",9)),this.setMinHoldTime(c(t,"time",251)),this}},{key:"onDragStart",value:function(){this.state=0===this.holdTime?y:d}},{key:"onDragEnd",value:function(){this.state=p}},{key:"onDrag",value:function(){this.state!==p&&this.pointer.getDistance()>this.dragThreshold&&(this.state=p)}},{key:"preUpdate",value:function(t,e){this.state===d&&t-this.pointer.downTime>=this.holdTime&&(this.state=y)}},{key:"setDragThreshold",value:function(t){return this.dragThreshold=t,this}},{key:"setMinHoldTime",value:function(t){return this.holdTime=t,this}},{key:"isPressed",get:function(){return this.state===y}}])&&s(i.prototype,f),e}(),p="IDLE",d="BEGIN",y="RECOGNIZED";e.a=f},88:function(t,e,i){"use strict";var n=!1,r=[],o=function(t){n?t():(window.onYouTubeIframeAPIReady||(window.onYouTubeIframeAPIReady=function(){n=!0;for(var t=0,e=r.length;t<e;t++)r[t]();r=void 0},function(t,e){for(var i=document.getElementsByTagName("script"),n=!1,r=0,o=i.length;r<o;r++)if(-1!=i[r].src.indexOf(t)){n=!0;break}if(!n){var s=document.createElement("script");s.type="text/javascript",s.src=t,e&&(s.onload=e),document.getElementsByTagName("head")[0].appendChild(s)}}("https://www.youtube.com/iframe_api")),r.push(t))};function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=Phaser.GameObjects.DOMElement,f=Phaser.Utils.Objects.IsPlainObject,p=Phaser.Utils.Objects.GetValue,d=Phaser.Math.Clamp,y=function(t){function e(t,i,n,r,a,u){var c;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),f(i)?(i=p(u=i,"x",0),n=p(u,"y",0),r=p(u,"width",void 0),a=p(u,"height",void 0)):f(r)&&(r=p(u=r,"width",void 0),a=p(u,"height",void 0)),void 0===u&&(u={});var d,y=t.scale.autoRound;void 0!==r&&(y&&(r=Math.floor(r)),u.width=r+"px"),void 0!==a&&(y&&(a=Math.floor(a)),u.height=a+"px"),(c=!(d=l(e).call(this,t,i,n))||"object"!==s(d)&&"function"!=typeof d?h(this):d).type="rexYoutubePlayer",c.youtubePlayer=void 0,c.videoState=void 0,c.videoId=p(u,"videoId",""),c.loop=p(u,"loop",!1),c.paddingCallbacks=[];var g="YT"+Date.now(),v=document.createElement("div");v.id=g,v.style.width=u.width,v.style.height=u.height,c.setElement(v);var m={autoplay:p(u,"autoPlay",!0)?1:0,controls:p(u,"controls",!0)?1:0,disablekb:p(u,"keyboardControl",!0)?0:1,modestbranding:p(u,"modestBranding",!1)?1:0},b=function(){var t=new YT.Player(g,{videoId:this.videoId,playerVars:m,events:{onStateChange:function(t){this.videoState=t.data,this.emit("statechange",this),this.emit(this.videoStateString,this),this.videoState===YT.PlayerState.ENDED&&this.loop&&this.youtubePlayer.playVideo()}.bind(this),onReady:function(e){this.youtubePlayer=t;for(var i=0,n=this.paddingCallbacks.length;i<n;i++)this.paddingCallbacks[i]();this.paddingCallbacks=void 0,this.emit("ready",this)}.bind(this),onError:function(t){this.lastError=t.data,this.emit("error",this,this.lastError)}.bind(this)}});this.setElement(document.getElementById(g))}.bind(h(c));return o(b),c}var i,n;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,c),i=e,(n=[{key:"_runCallback",value:function(t){void 0===this.youtubePlayer?this.paddingCallbacks.push(t):t()}},{key:"load",value:function(t,e){void 0===e&&(e=!0);var i=function(){this.youtubePlayer.loadVideoById(t),e?this.youtubePlayer.playVideo():this.youtubePlayer.pauseVideo()}.bind(this);return this._runCallback(i),this}},{key:"play",value:function(){var t=function(){this.youtubePlayer.playVideo()}.bind(this);return this._runCallback(t),this}},{key:"pause",value:function(){var t=function(){this.youtubePlayer.pauseVideo()}.bind(this);return this._runCallback(t),this}},{key:"setPlaybackTime",value:function(t){return this.playbackTime=t,this}},{key:"setT",value:function(t){return this.t=t,this}},{key:"setVolume",value:function(t){return this.volume=t,this}},{key:"setMute",value:function(t){return void 0===t&&(t=!0),this.muted=t,this}},{key:"setLoop",value:function(t){return void 0===t&&(t=!0),this.loop=t,this}},{key:"resize",value:function(t,e){if(this.width===t&&this.height===e)return this;var i=this.node.style;return i.width=t+"px",i.height=e+"px",this.updateSize(),this}},{key:"videoStateString",get:function(){if(void 0===this.videoState||!YT)return"";switch(this.videoState){case-1:return"unstarted";case YT.PlayerState.ENDED:return"ended";case YT.PlayerState.PLAYING:return"playing";case YT.PlayerState.PAUSED:return"pause";case YT.PlayerState.BUFFERING:return"buffering";case YT.PlayerState.CUED:return"cued"}}},{key:"isPlaying",get:function(){return 1===this.videoState}},{key:"isPaused",get:function(){return 2===this.videoState}},{key:"playbackTime",get:function(){return this.youtubePlayer?this.youtubePlayer.getCurrentTime():0},set:function(t){var e=function(){this.youtubePlayer.seekTo(t)}.bind(this);this._runCallback(e)}},{key:"duration",get:function(){return this.youtubePlayer?this.youtubePlayer.getDuration():0}},{key:"t",get:function(){var t=this.duration;return 0===t?0:this.playbackTime/t},set:function(t){var e=function(){t=d(t,0,1),this.playbackTime=this.duration*d(t,0,1)}.bind(this);this._runCallback(e)}},{key:"hasEnded",get:function(){return 0===this.videoState}},{key:"volume",get:function(){return this.youtubePlayer?this.youtubePlayer.getVolume()/100:0},set:function(t){var e=function(){this.youtubePlayer.setVolume(d(100*t,0,100))}.bind(this);this._runCallback(e)}},{key:"muted",get:function(){return!!this.youtubePlayer&&this.youtubePlayer.isMuted()},set:function(t){var e=function(){t?this.youtubePlayer.mute():this.youtubePlayer.unMute()}.bind(this);this._runCallback(e)}}])&&a(i.prototype,n),e}();e.a=y},89:function(t,e,i){"use strict";var n=i(26);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=Phaser.Utils.Objects.GetValue,u=function(t){function e(t,i,n,r,o,l){var u;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(u=s(this,a(e).call(this,t,i,n))).type="rexCircleMaskImage";var c=h(l,"maskType",0);return u.setTexture(r,o,c),u}var i,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,n.a),i=e,(r=[{key:"setTexture",value:function(t,e,i){return void 0===i?i=0:"string"==typeof i&&(i=c[i]),this._textureKey=t,this._frameName=e,this.loadTexture(t,e),null!==i&&function(t,e){t.width===t.height&&(e=0);var i=Math.floor(t.width/2),n=Math.floor(t.height/2),r=t.getContext("2d");r.save(),r.globalCompositeOperation="destination-in",r.beginPath(),0===e?r.arc(i,n,Math.min(i,n),0,2*Math.PI):r.ellipse(i,n,i,n,0,0,2*Math.PI),r.fill(),r.restore()}(this.canvas,i),this.dirty=!0,this}}])&&o(i.prototype,r),e}(),c={circle:0,ellipse:1};e.a=u},9:function(t,e,i){"use strict";e.a=function(){}}}).default}})}));